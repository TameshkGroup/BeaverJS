var sd=Object.defineProperty,od=Object.defineProperties;var ad=Object.getOwnPropertyDescriptors;var ol=Object.getOwnPropertySymbols;var cd=Object.prototype.hasOwnProperty,hd=Object.prototype.propertyIsEnumerable;var Ii=(E,m,l)=>m in E?sd(E,m,{enumerable:!0,configurable:!0,writable:!0,value:l}):E[m]=l,al=(E,m)=>{for(var l in m||(m={}))cd.call(m,l)&&Ii(E,l,m[l]);if(ol)for(var l of ol(m))hd.call(m,l)&&Ii(E,l,m[l]);return E},cl=(E,m)=>od(E,ad(m));var _n=(E,m,l)=>(Ii(E,typeof m!="symbol"?m+"":m,l),l);(function(E,m){typeof exports=="object"&&typeof module!="undefined"?m(exports):typeof define=="function"&&define.amd?define(["exports"],m):(E=typeof globalThis!="undefined"?globalThis:E||self,m(E.BeaverJS={}))})(this,function(exports){"use strict";let nanoid=(E=21)=>{let m="",l=crypto.getRandomValues(new Uint8Array(E));for(;E--;){let P=l[E]&63;P<36?m+=P.toString(36):P<62?m+=(P-26).toString(36).toUpperCase():P<63?m+="_":m+="-"}return m};var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(E,m){(function(){var l,P="4.17.21",w=200,I="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",j="Invalid `variable` option passed into `_.template`",K="__lodash_hash_undefined__",tn=500,S="__lodash_placeholder__",R=1,J=2,W=4,$=1,y=2,F=1,Y=2,yn=4,ln=8,an=16,rn=32,un=64,V=128,sn=256,Mn=512,hl=30,pl="...",gl=800,dl=16,Ci=1,_l=2,vl=3,Ee=1/0,ae=9007199254740991,ml=17976931348623157e292,gt=0/0,Vn=4294967295,xl=Vn-1,El=Vn>>>1,wl=[["ary",V],["bind",F],["bindKey",Y],["curry",ln],["curryRight",an],["flip",Mn],["partial",rn],["partialRight",un],["rearg",sn]],Re="[object Arguments]",dt="[object Array]",Al="[object AsyncFunction]",Ze="[object Boolean]",Ye="[object Date]",bl="[object DOMException]",_t="[object Error]",vt="[object Function]",Ri="[object GeneratorFunction]",qn="[object Map]",Xe="[object Number]",yl="[object Null]",ne="[object Object]",Li="[object Promise]",Tl="[object Proxy]",Je="[object RegExp]",Kn="[object Set]",Ve="[object String]",mt="[object Symbol]",Sl="[object Undefined]",Qe="[object WeakMap]",$l="[object WeakSet]",ke="[object ArrayBuffer]",Le="[object DataView]",lr="[object Float32Array]",sr="[object Float64Array]",or="[object Int8Array]",ar="[object Int16Array]",cr="[object Int32Array]",hr="[object Uint8Array]",pr="[object Uint8ClampedArray]",gr="[object Uint16Array]",dr="[object Uint32Array]",Il=/\b__p \+= '';/g,Cl=/\b(__p \+=) '' \+/g,Rl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Oi=/&(?:amp|lt|gt|quot|#39);/g,Pi=/[&<>"']/g,Ll=RegExp(Oi.source),Ol=RegExp(Pi.source),Pl=/<%-([\s\S]+?)%>/g,Fl=/<%([\s\S]+?)%>/g,Fi=/<%=([\s\S]+?)%>/g,Ml=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bl=/^\w*$/,Wl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_r=/[\\^$.*+?()[\]{}|]/g,Dl=RegExp(_r.source),vr=/^\s+/,Nl=/\s/,Ul=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gl=/\{\n\/\* \[wrapped with (.+)\] \*/,Hl=/,? & /,zl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ql=/[()=,{}\[\]\/\s]/,Kl=/\\(\\)?/g,Zl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mi=/\w*$/,Yl=/^[-+]0x[0-9a-f]+$/i,Xl=/^0b[01]+$/i,Jl=/^\[object .+?Constructor\]$/,Vl=/^0o[0-7]+$/i,Ql=/^(?:0|[1-9]\d*)$/,kl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,jl=/['\n\r\u2028\u2029\\]/g,Et="\\ud800-\\udfff",ns="\\u0300-\\u036f",es="\\ufe20-\\ufe2f",ts="\\u20d0-\\u20ff",Bi=ns+es+ts,Wi="\\u2700-\\u27bf",Di="a-z\\xdf-\\xf6\\xf8-\\xff",rs="\\xac\\xb1\\xd7\\xf7",is="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",us="\\u2000-\\u206f",fs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ni="A-Z\\xc0-\\xd6\\xd8-\\xde",Ui="\\ufe0e\\ufe0f",Gi=rs+is+us+fs,mr="['\u2019]",ls="["+Et+"]",Hi="["+Gi+"]",wt="["+Bi+"]",zi="\\d+",ss="["+Wi+"]",qi="["+Di+"]",Ki="[^"+Et+Gi+zi+Wi+Di+Ni+"]",xr="\\ud83c[\\udffb-\\udfff]",os="(?:"+wt+"|"+xr+")",Zi="[^"+Et+"]",Er="(?:\\ud83c[\\udde6-\\uddff]){2}",wr="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+Ni+"]",Yi="\\u200d",Xi="(?:"+qi+"|"+Ki+")",as="(?:"+Oe+"|"+Ki+")",Ji="(?:"+mr+"(?:d|ll|m|re|s|t|ve))?",Vi="(?:"+mr+"(?:D|LL|M|RE|S|T|VE))?",Qi=os+"?",ki="["+Ui+"]?",cs="(?:"+Yi+"(?:"+[Zi,Er,wr].join("|")+")"+ki+Qi+")*",hs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ps="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ji=ki+Qi+cs,gs="(?:"+[ss,Er,wr].join("|")+")"+ji,ds="(?:"+[Zi+wt+"?",wt,Er,wr,ls].join("|")+")",_s=RegExp(mr,"g"),vs=RegExp(wt,"g"),Ar=RegExp(xr+"(?="+xr+")|"+ds+ji,"g"),ms=RegExp([Oe+"?"+qi+"+"+Ji+"(?="+[Hi,Oe,"$"].join("|")+")",as+"+"+Vi+"(?="+[Hi,Oe+Xi,"$"].join("|")+")",Oe+"?"+Xi+"+"+Ji,Oe+"+"+Vi,ps,hs,zi,gs].join("|"),"g"),xs=RegExp("["+Yi+Et+Bi+Ui+"]"),Es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ws=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],As=-1,nn={};nn[lr]=nn[sr]=nn[or]=nn[ar]=nn[cr]=nn[hr]=nn[pr]=nn[gr]=nn[dr]=!0,nn[Re]=nn[dt]=nn[ke]=nn[Ze]=nn[Le]=nn[Ye]=nn[_t]=nn[vt]=nn[qn]=nn[Xe]=nn[ne]=nn[Je]=nn[Kn]=nn[Ve]=nn[Qe]=!1;var k={};k[Re]=k[dt]=k[ke]=k[Le]=k[Ze]=k[Ye]=k[lr]=k[sr]=k[or]=k[ar]=k[cr]=k[qn]=k[Xe]=k[ne]=k[Je]=k[Kn]=k[Ve]=k[mt]=k[hr]=k[pr]=k[gr]=k[dr]=!0,k[_t]=k[vt]=k[Qe]=!1;var bs={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ys={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ts={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ss={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$s=parseFloat,Is=parseInt,nu=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Cs=typeof self=="object"&&self&&self.Object===Object&&self,vn=nu||Cs||Function("return this")(),br=m&&!m.nodeType&&m,we=br&&!0&&E&&!E.nodeType&&E,eu=we&&we.exports===br,yr=eu&&nu.process,Bn=function(){try{var a=we&&we.require&&we.require("util").types;return a||yr&&yr.binding&&yr.binding("util")}catch{}}(),tu=Bn&&Bn.isArrayBuffer,ru=Bn&&Bn.isDate,iu=Bn&&Bn.isMap,uu=Bn&&Bn.isRegExp,fu=Bn&&Bn.isSet,lu=Bn&&Bn.isTypedArray;function Cn(a,p,h){switch(h.length){case 0:return a.call(p);case 1:return a.call(p,h[0]);case 2:return a.call(p,h[0],h[1]);case 3:return a.call(p,h[0],h[1],h[2])}return a.apply(p,h)}function Rs(a,p,h,A){for(var M=-1,q=a==null?0:a.length;++M<q;){var pn=a[M];p(A,pn,h(pn),a)}return A}function Wn(a,p){for(var h=-1,A=a==null?0:a.length;++h<A&&p(a[h],h,a)!==!1;);return a}function Ls(a,p){for(var h=a==null?0:a.length;h--&&p(a[h],h,a)!==!1;);return a}function su(a,p){for(var h=-1,A=a==null?0:a.length;++h<A;)if(!p(a[h],h,a))return!1;return!0}function ce(a,p){for(var h=-1,A=a==null?0:a.length,M=0,q=[];++h<A;){var pn=a[h];p(pn,h,a)&&(q[M++]=pn)}return q}function At(a,p){var h=a==null?0:a.length;return!!h&&Pe(a,p,0)>-1}function Tr(a,p,h){for(var A=-1,M=a==null?0:a.length;++A<M;)if(h(p,a[A]))return!0;return!1}function en(a,p){for(var h=-1,A=a==null?0:a.length,M=Array(A);++h<A;)M[h]=p(a[h],h,a);return M}function he(a,p){for(var h=-1,A=p.length,M=a.length;++h<A;)a[M+h]=p[h];return a}function Sr(a,p,h,A){var M=-1,q=a==null?0:a.length;for(A&&q&&(h=a[++M]);++M<q;)h=p(h,a[M],M,a);return h}function Os(a,p,h,A){var M=a==null?0:a.length;for(A&&M&&(h=a[--M]);M--;)h=p(h,a[M],M,a);return h}function $r(a,p){for(var h=-1,A=a==null?0:a.length;++h<A;)if(p(a[h],h,a))return!0;return!1}var Ps=Ir("length");function Fs(a){return a.split("")}function Ms(a){return a.match(zl)||[]}function ou(a,p,h){var A;return h(a,function(M,q,pn){if(p(M,q,pn))return A=q,!1}),A}function bt(a,p,h,A){for(var M=a.length,q=h+(A?1:-1);A?q--:++q<M;)if(p(a[q],q,a))return q;return-1}function Pe(a,p,h){return p===p?Ys(a,p,h):bt(a,au,h)}function Bs(a,p,h,A){for(var M=h-1,q=a.length;++M<q;)if(A(a[M],p))return M;return-1}function au(a){return a!==a}function cu(a,p){var h=a==null?0:a.length;return h?Rr(a,p)/h:gt}function Ir(a){return function(p){return p==null?l:p[a]}}function Cr(a){return function(p){return a==null?l:a[p]}}function hu(a,p,h,A,M){return M(a,function(q,pn,Q){h=A?(A=!1,q):p(h,q,pn,Q)}),h}function Ws(a,p){var h=a.length;for(a.sort(p);h--;)a[h]=a[h].value;return a}function Rr(a,p){for(var h,A=-1,M=a.length;++A<M;){var q=p(a[A]);q!==l&&(h=h===l?q:h+q)}return h}function Lr(a,p){for(var h=-1,A=Array(a);++h<a;)A[h]=p(h);return A}function Ds(a,p){return en(p,function(h){return[h,a[h]]})}function pu(a){return a&&a.slice(0,vu(a)+1).replace(vr,"")}function Rn(a){return function(p){return a(p)}}function Or(a,p){return en(p,function(h){return a[h]})}function je(a,p){return a.has(p)}function gu(a,p){for(var h=-1,A=a.length;++h<A&&Pe(p,a[h],0)>-1;);return h}function du(a,p){for(var h=a.length;h--&&Pe(p,a[h],0)>-1;);return h}function Ns(a,p){for(var h=a.length,A=0;h--;)a[h]===p&&++A;return A}var Us=Cr(bs),Gs=Cr(ys);function Hs(a){return"\\"+Ss[a]}function zs(a,p){return a==null?l:a[p]}function Fe(a){return xs.test(a)}function qs(a){return Es.test(a)}function Ks(a){for(var p,h=[];!(p=a.next()).done;)h.push(p.value);return h}function Pr(a){var p=-1,h=Array(a.size);return a.forEach(function(A,M){h[++p]=[M,A]}),h}function _u(a,p){return function(h){return a(p(h))}}function pe(a,p){for(var h=-1,A=a.length,M=0,q=[];++h<A;){var pn=a[h];(pn===p||pn===S)&&(a[h]=S,q[M++]=h)}return q}function yt(a){var p=-1,h=Array(a.size);return a.forEach(function(A){h[++p]=A}),h}function Zs(a){var p=-1,h=Array(a.size);return a.forEach(function(A){h[++p]=[A,A]}),h}function Ys(a,p,h){for(var A=h-1,M=a.length;++A<M;)if(a[A]===p)return A;return-1}function Xs(a,p,h){for(var A=h+1;A--;)if(a[A]===p)return A;return A}function Me(a){return Fe(a)?Vs(a):Ps(a)}function Zn(a){return Fe(a)?Qs(a):Fs(a)}function vu(a){for(var p=a.length;p--&&Nl.test(a.charAt(p)););return p}var Js=Cr(Ts);function Vs(a){for(var p=Ar.lastIndex=0;Ar.test(a);)++p;return p}function Qs(a){return a.match(Ar)||[]}function ks(a){return a.match(ms)||[]}var js=function a(p){p=p==null?vn:Be.defaults(vn.Object(),p,Be.pick(vn,ws));var h=p.Array,A=p.Date,M=p.Error,q=p.Function,pn=p.Math,Q=p.Object,Fr=p.RegExp,no=p.String,Dn=p.TypeError,Tt=h.prototype,eo=q.prototype,We=Q.prototype,St=p["__core-js_shared__"],$t=eo.toString,X=We.hasOwnProperty,to=0,mu=function(){var n=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),It=We.toString,ro=$t.call(Q),io=vn._,uo=Fr("^"+$t.call(X).replace(_r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ct=eu?p.Buffer:l,ge=p.Symbol,Rt=p.Uint8Array,xu=Ct?Ct.allocUnsafe:l,Lt=_u(Q.getPrototypeOf,Q),Eu=Q.create,wu=We.propertyIsEnumerable,Ot=Tt.splice,Au=ge?ge.isConcatSpreadable:l,nt=ge?ge.iterator:l,Ae=ge?ge.toStringTag:l,Pt=function(){try{var n=$e(Q,"defineProperty");return n({},"",{}),n}catch{}}(),fo=p.clearTimeout!==vn.clearTimeout&&p.clearTimeout,lo=A&&A.now!==vn.Date.now&&A.now,so=p.setTimeout!==vn.setTimeout&&p.setTimeout,Ft=pn.ceil,Mt=pn.floor,Mr=Q.getOwnPropertySymbols,oo=Ct?Ct.isBuffer:l,bu=p.isFinite,ao=Tt.join,co=_u(Q.keys,Q),gn=pn.max,xn=pn.min,ho=A.now,po=p.parseInt,yu=pn.random,go=Tt.reverse,Br=$e(p,"DataView"),et=$e(p,"Map"),Wr=$e(p,"Promise"),De=$e(p,"Set"),tt=$e(p,"WeakMap"),rt=$e(Q,"create"),Bt=tt&&new tt,Ne={},_o=Ie(Br),vo=Ie(et),mo=Ie(Wr),xo=Ie(De),Eo=Ie(tt),Wt=ge?ge.prototype:l,it=Wt?Wt.valueOf:l,Tu=Wt?Wt.toString:l;function u(n){if(on(n)&&!B(n)&&!(n instanceof H)){if(n instanceof Nn)return n;if(X.call(n,"__wrapped__"))return $f(n)}return new Nn(n)}var Ue=function(){function n(){}return function(e){if(!fn(e))return{};if(Eu)return Eu(e);n.prototype=e;var t=new n;return n.prototype=l,t}}();function Dt(){}function Nn(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=l}u.templateSettings={escape:Pl,evaluate:Fl,interpolate:Fi,variable:"",imports:{_:u}},u.prototype=Dt.prototype,u.prototype.constructor=u,Nn.prototype=Ue(Dt.prototype),Nn.prototype.constructor=Nn;function H(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Vn,this.__views__=[]}function wo(){var n=new H(this.__wrapped__);return n.__actions__=Tn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Tn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Tn(this.__views__),n}function Ao(){if(this.__filtered__){var n=new H(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function bo(){var n=this.__wrapped__.value(),e=this.__dir__,t=B(n),r=e<0,i=t?n.length:0,f=Ma(0,i,this.__views__),s=f.start,o=f.end,c=o-s,g=r?o:s-1,d=this.__iteratees__,v=d.length,x=0,T=xn(c,this.__takeCount__);if(!t||!r&&i==c&&T==c)return Ju(n,this.__actions__);var L=[];n:for(;c--&&x<T;){g+=e;for(var N=-1,O=n[g];++N<v;){var G=d[N],z=G.iteratee,Pn=G.type,bn=z(O);if(Pn==_l)O=bn;else if(!bn){if(Pn==Ci)continue n;break n}}L[x++]=O}return L}H.prototype=Ue(Dt.prototype),H.prototype.constructor=H;function be(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function yo(){this.__data__=rt?rt(null):{},this.size=0}function To(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}function So(n){var e=this.__data__;if(rt){var t=e[n];return t===K?l:t}return X.call(e,n)?e[n]:l}function $o(n){var e=this.__data__;return rt?e[n]!==l:X.call(e,n)}function Io(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=rt&&e===l?K:e,this}be.prototype.clear=yo,be.prototype.delete=To,be.prototype.get=So,be.prototype.has=$o,be.prototype.set=Io;function ee(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Co(){this.__data__=[],this.size=0}function Ro(n){var e=this.__data__,t=Nt(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Ot.call(e,t,1),--this.size,!0}function Lo(n){var e=this.__data__,t=Nt(e,n);return t<0?l:e[t][1]}function Oo(n){return Nt(this.__data__,n)>-1}function Po(n,e){var t=this.__data__,r=Nt(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}ee.prototype.clear=Co,ee.prototype.delete=Ro,ee.prototype.get=Lo,ee.prototype.has=Oo,ee.prototype.set=Po;function te(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Fo(){this.size=0,this.__data__={hash:new be,map:new(et||ee),string:new be}}function Mo(n){var e=Qt(this,n).delete(n);return this.size-=e?1:0,e}function Bo(n){return Qt(this,n).get(n)}function Wo(n){return Qt(this,n).has(n)}function Do(n,e){var t=Qt(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}te.prototype.clear=Fo,te.prototype.delete=Mo,te.prototype.get=Bo,te.prototype.has=Wo,te.prototype.set=Do;function ye(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new te;++e<t;)this.add(n[e])}function No(n){return this.__data__.set(n,K),this}function Uo(n){return this.__data__.has(n)}ye.prototype.add=ye.prototype.push=No,ye.prototype.has=Uo;function Yn(n){var e=this.__data__=new ee(n);this.size=e.size}function Go(){this.__data__=new ee,this.size=0}function Ho(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function zo(n){return this.__data__.get(n)}function qo(n){return this.__data__.has(n)}function Ko(n,e){var t=this.__data__;if(t instanceof ee){var r=t.__data__;if(!et||r.length<w-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new te(r)}return t.set(n,e),this.size=t.size,this}Yn.prototype.clear=Go,Yn.prototype.delete=Ho,Yn.prototype.get=zo,Yn.prototype.has=qo,Yn.prototype.set=Ko;function Su(n,e){var t=B(n),r=!t&&Ce(n),i=!t&&!r&&xe(n),f=!t&&!r&&!i&&qe(n),s=t||r||i||f,o=s?Lr(n.length,no):[],c=o.length;for(var g in n)(e||X.call(n,g))&&!(s&&(g=="length"||i&&(g=="offset"||g=="parent")||f&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||fe(g,c)))&&o.push(g);return o}function $u(n){var e=n.length;return e?n[Xr(0,e-1)]:l}function Zo(n,e){return kt(Tn(n),Te(e,0,n.length))}function Yo(n){return kt(Tn(n))}function Dr(n,e,t){(t!==l&&!Xn(n[e],t)||t===l&&!(e in n))&&re(n,e,t)}function ut(n,e,t){var r=n[e];(!(X.call(n,e)&&Xn(r,t))||t===l&&!(e in n))&&re(n,e,t)}function Nt(n,e){for(var t=n.length;t--;)if(Xn(n[t][0],e))return t;return-1}function Xo(n,e,t,r){return de(n,function(i,f,s){e(r,i,t(i),s)}),r}function Iu(n,e){return n&&kn(e,dn(e),n)}function Jo(n,e){return n&&kn(e,$n(e),n)}function re(n,e,t){e=="__proto__"&&Pt?Pt(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Nr(n,e){for(var t=-1,r=e.length,i=h(r),f=n==null;++t<r;)i[t]=f?l:xi(n,e[t]);return i}function Te(n,e,t){return n===n&&(t!==l&&(n=n<=t?n:t),e!==l&&(n=n>=e?n:e)),n}function Un(n,e,t,r,i,f){var s,o=e&R,c=e&J,g=e&W;if(t&&(s=i?t(n,r,i,f):t(n)),s!==l)return s;if(!fn(n))return n;var d=B(n);if(d){if(s=Wa(n),!o)return Tn(n,s)}else{var v=En(n),x=v==vt||v==Ri;if(xe(n))return ku(n,o);if(v==ne||v==Re||x&&!i){if(s=c||x?{}:mf(n),!o)return c?Sa(n,Jo(s,n)):Ta(n,Iu(s,n))}else{if(!k[v])return i?n:{};s=Da(n,v,o)}}f||(f=new Yn);var T=f.get(n);if(T)return T;f.set(n,s),Yf(n)?n.forEach(function(O){s.add(Un(O,e,t,O,n,f))}):Kf(n)&&n.forEach(function(O,G){s.set(G,Un(O,e,t,G,n,f))});var L=g?c?ui:ii:c?$n:dn,N=d?l:L(n);return Wn(N||n,function(O,G){N&&(G=O,O=n[G]),ut(s,G,Un(O,e,t,G,n,f))}),s}function Vo(n){var e=dn(n);return function(t){return Cu(t,n,e)}}function Cu(n,e,t){var r=t.length;if(n==null)return!r;for(n=Q(n);r--;){var i=t[r],f=e[i],s=n[i];if(s===l&&!(i in n)||!f(s))return!1}return!0}function Ru(n,e,t){if(typeof n!="function")throw new Dn(b);return ht(function(){n.apply(l,t)},e)}function ft(n,e,t,r){var i=-1,f=At,s=!0,o=n.length,c=[],g=e.length;if(!o)return c;t&&(e=en(e,Rn(t))),r?(f=Tr,s=!1):e.length>=w&&(f=je,s=!1,e=new ye(e));n:for(;++i<o;){var d=n[i],v=t==null?d:t(d);if(d=r||d!==0?d:0,s&&v===v){for(var x=g;x--;)if(e[x]===v)continue n;c.push(d)}else f(e,v,r)||c.push(d)}return c}var de=rf(Qn),Lu=rf(Gr,!0);function Qo(n,e){var t=!0;return de(n,function(r,i,f){return t=!!e(r,i,f),t}),t}function Ut(n,e,t){for(var r=-1,i=n.length;++r<i;){var f=n[r],s=e(f);if(s!=null&&(o===l?s===s&&!On(s):t(s,o)))var o=s,c=f}return c}function ko(n,e,t,r){var i=n.length;for(t=D(t),t<0&&(t=-t>i?0:i+t),r=r===l||r>i?i:D(r),r<0&&(r+=i),r=t>r?0:Jf(r);t<r;)n[t++]=e;return n}function Ou(n,e){var t=[];return de(n,function(r,i,f){e(r,i,f)&&t.push(r)}),t}function mn(n,e,t,r,i){var f=-1,s=n.length;for(t||(t=Ua),i||(i=[]);++f<s;){var o=n[f];e>0&&t(o)?e>1?mn(o,e-1,t,r,i):he(i,o):r||(i[i.length]=o)}return i}var Ur=uf(),Pu=uf(!0);function Qn(n,e){return n&&Ur(n,e,dn)}function Gr(n,e){return n&&Pu(n,e,dn)}function Gt(n,e){return ce(e,function(t){return le(n[t])})}function Se(n,e){e=ve(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[jn(e[t++])];return t&&t==r?n:l}function Fu(n,e,t){var r=e(n);return B(n)?r:he(r,t(n))}function wn(n){return n==null?n===l?Sl:yl:Ae&&Ae in Q(n)?Fa(n):Ya(n)}function Hr(n,e){return n>e}function jo(n,e){return n!=null&&X.call(n,e)}function na(n,e){return n!=null&&e in Q(n)}function ea(n,e,t){return n>=xn(e,t)&&n<gn(e,t)}function zr(n,e,t){for(var r=t?Tr:At,i=n[0].length,f=n.length,s=f,o=h(f),c=1/0,g=[];s--;){var d=n[s];s&&e&&(d=en(d,Rn(e))),c=xn(d.length,c),o[s]=!t&&(e||i>=120&&d.length>=120)?new ye(s&&d):l}d=n[0];var v=-1,x=o[0];n:for(;++v<i&&g.length<c;){var T=d[v],L=e?e(T):T;if(T=t||T!==0?T:0,!(x?je(x,L):r(g,L,t))){for(s=f;--s;){var N=o[s];if(!(N?je(N,L):r(n[s],L,t)))continue n}x&&x.push(L),g.push(T)}}return g}function ta(n,e,t,r){return Qn(n,function(i,f,s){e(r,t(i),f,s)}),r}function lt(n,e,t){e=ve(e,n),n=Af(n,e);var r=n==null?n:n[jn(Hn(e))];return r==null?l:Cn(r,n,t)}function Mu(n){return on(n)&&wn(n)==Re}function ra(n){return on(n)&&wn(n)==ke}function ia(n){return on(n)&&wn(n)==Ye}function st(n,e,t,r,i){return n===e?!0:n==null||e==null||!on(n)&&!on(e)?n!==n&&e!==e:ua(n,e,t,r,st,i)}function ua(n,e,t,r,i,f){var s=B(n),o=B(e),c=s?dt:En(n),g=o?dt:En(e);c=c==Re?ne:c,g=g==Re?ne:g;var d=c==ne,v=g==ne,x=c==g;if(x&&xe(n)){if(!xe(e))return!1;s=!0,d=!1}if(x&&!d)return f||(f=new Yn),s||qe(n)?df(n,e,t,r,i,f):Oa(n,e,c,t,r,i,f);if(!(t&$)){var T=d&&X.call(n,"__wrapped__"),L=v&&X.call(e,"__wrapped__");if(T||L){var N=T?n.value():n,O=L?e.value():e;return f||(f=new Yn),i(N,O,t,r,f)}}return x?(f||(f=new Yn),Pa(n,e,t,r,i,f)):!1}function fa(n){return on(n)&&En(n)==qn}function qr(n,e,t,r){var i=t.length,f=i,s=!r;if(n==null)return!f;for(n=Q(n);i--;){var o=t[i];if(s&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++i<f;){o=t[i];var c=o[0],g=n[c],d=o[1];if(s&&o[2]){if(g===l&&!(c in n))return!1}else{var v=new Yn;if(r)var x=r(g,d,c,n,e,v);if(!(x===l?st(d,g,$|y,r,v):x))return!1}}return!0}function Bu(n){if(!fn(n)||Ha(n))return!1;var e=le(n)?uo:Jl;return e.test(Ie(n))}function la(n){return on(n)&&wn(n)==Je}function sa(n){return on(n)&&En(n)==Kn}function oa(n){return on(n)&&ir(n.length)&&!!nn[wn(n)]}function Wu(n){return typeof n=="function"?n:n==null?In:typeof n=="object"?B(n)?Uu(n[0],n[1]):Nu(n):ll(n)}function Kr(n){if(!ct(n))return co(n);var e=[];for(var t in Q(n))X.call(n,t)&&t!="constructor"&&e.push(t);return e}function aa(n){if(!fn(n))return Za(n);var e=ct(n),t=[];for(var r in n)r=="constructor"&&(e||!X.call(n,r))||t.push(r);return t}function Zr(n,e){return n<e}function Du(n,e){var t=-1,r=Sn(n)?h(n.length):[];return de(n,function(i,f,s){r[++t]=e(i,f,s)}),r}function Nu(n){var e=li(n);return e.length==1&&e[0][2]?Ef(e[0][0],e[0][1]):function(t){return t===n||qr(t,n,e)}}function Uu(n,e){return oi(n)&&xf(e)?Ef(jn(n),e):function(t){var r=xi(t,n);return r===l&&r===e?Ei(t,n):st(e,r,$|y)}}function Ht(n,e,t,r,i){n!==e&&Ur(e,function(f,s){if(i||(i=new Yn),fn(f))ca(n,e,s,t,Ht,r,i);else{var o=r?r(ci(n,s),f,s+"",n,e,i):l;o===l&&(o=f),Dr(n,s,o)}},$n)}function ca(n,e,t,r,i,f,s){var o=ci(n,t),c=ci(e,t),g=s.get(c);if(g){Dr(n,t,g);return}var d=f?f(o,c,t+"",n,e,s):l,v=d===l;if(v){var x=B(c),T=!x&&xe(c),L=!x&&!T&&qe(c);d=c,x||T||L?B(o)?d=o:cn(o)?d=Tn(o):T?(v=!1,d=ku(c,!0)):L?(v=!1,d=ju(c,!0)):d=[]:pt(c)||Ce(c)?(d=o,Ce(o)?d=Vf(o):(!fn(o)||le(o))&&(d=mf(c))):v=!1}v&&(s.set(c,d),i(d,c,r,f,s),s.delete(c)),Dr(n,t,d)}function Gu(n,e){var t=n.length;if(!!t)return e+=e<0?t:0,fe(e,t)?n[e]:l}function Hu(n,e,t){e.length?e=en(e,function(f){return B(f)?function(s){return Se(s,f.length===1?f[0]:f)}:f}):e=[In];var r=-1;e=en(e,Rn(C()));var i=Du(n,function(f,s,o){var c=en(e,function(g){return g(f)});return{criteria:c,index:++r,value:f}});return Ws(i,function(f,s){return ya(f,s,t)})}function ha(n,e){return zu(n,e,function(t,r){return Ei(n,r)})}function zu(n,e,t){for(var r=-1,i=e.length,f={};++r<i;){var s=e[r],o=Se(n,s);t(o,s)&&ot(f,ve(s,n),o)}return f}function pa(n){return function(e){return Se(e,n)}}function Yr(n,e,t,r){var i=r?Bs:Pe,f=-1,s=e.length,o=n;for(n===e&&(e=Tn(e)),t&&(o=en(n,Rn(t)));++f<s;)for(var c=0,g=e[f],d=t?t(g):g;(c=i(o,d,c,r))>-1;)o!==n&&Ot.call(o,c,1),Ot.call(n,c,1);return n}function qu(n,e){for(var t=n?e.length:0,r=t-1;t--;){var i=e[t];if(t==r||i!==f){var f=i;fe(i)?Ot.call(n,i,1):Qr(n,i)}}return n}function Xr(n,e){return n+Mt(yu()*(e-n+1))}function ga(n,e,t,r){for(var i=-1,f=gn(Ft((e-n)/(t||1)),0),s=h(f);f--;)s[r?f:++i]=n,n+=t;return s}function Jr(n,e){var t="";if(!n||e<1||e>ae)return t;do e%2&&(t+=n),e=Mt(e/2),e&&(n+=n);while(e);return t}function U(n,e){return hi(wf(n,e,In),n+"")}function da(n){return $u(Ke(n))}function _a(n,e){var t=Ke(n);return kt(t,Te(e,0,t.length))}function ot(n,e,t,r){if(!fn(n))return n;e=ve(e,n);for(var i=-1,f=e.length,s=f-1,o=n;o!=null&&++i<f;){var c=jn(e[i]),g=t;if(c==="__proto__"||c==="constructor"||c==="prototype")return n;if(i!=s){var d=o[c];g=r?r(d,c,o):l,g===l&&(g=fn(d)?d:fe(e[i+1])?[]:{})}ut(o,c,g),o=o[c]}return n}var Ku=Bt?function(n,e){return Bt.set(n,e),n}:In,va=Pt?function(n,e){return Pt(n,"toString",{configurable:!0,enumerable:!1,value:Ai(e),writable:!0})}:In;function ma(n){return kt(Ke(n))}function Gn(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var f=h(i);++r<i;)f[r]=n[r+e];return f}function xa(n,e){var t;return de(n,function(r,i,f){return t=e(r,i,f),!t}),!!t}function zt(n,e,t){var r=0,i=n==null?r:n.length;if(typeof e=="number"&&e===e&&i<=El){for(;r<i;){var f=r+i>>>1,s=n[f];s!==null&&!On(s)&&(t?s<=e:s<e)?r=f+1:i=f}return i}return Vr(n,e,In,t)}function Vr(n,e,t,r){var i=0,f=n==null?0:n.length;if(f===0)return 0;e=t(e);for(var s=e!==e,o=e===null,c=On(e),g=e===l;i<f;){var d=Mt((i+f)/2),v=t(n[d]),x=v!==l,T=v===null,L=v===v,N=On(v);if(s)var O=r||L;else g?O=L&&(r||x):o?O=L&&x&&(r||!T):c?O=L&&x&&!T&&(r||!N):T||N?O=!1:O=r?v<=e:v<e;O?i=d+1:f=d}return xn(f,xl)}function Zu(n,e){for(var t=-1,r=n.length,i=0,f=[];++t<r;){var s=n[t],o=e?e(s):s;if(!t||!Xn(o,c)){var c=o;f[i++]=s===0?0:s}}return f}function Yu(n){return typeof n=="number"?n:On(n)?gt:+n}function Ln(n){if(typeof n=="string")return n;if(B(n))return en(n,Ln)+"";if(On(n))return Tu?Tu.call(n):"";var e=n+"";return e=="0"&&1/n==-Ee?"-0":e}function _e(n,e,t){var r=-1,i=At,f=n.length,s=!0,o=[],c=o;if(t)s=!1,i=Tr;else if(f>=w){var g=e?null:Ra(n);if(g)return yt(g);s=!1,i=je,c=new ye}else c=e?[]:o;n:for(;++r<f;){var d=n[r],v=e?e(d):d;if(d=t||d!==0?d:0,s&&v===v){for(var x=c.length;x--;)if(c[x]===v)continue n;e&&c.push(v),o.push(d)}else i(c,v,t)||(c!==o&&c.push(v),o.push(d))}return o}function Qr(n,e){return e=ve(e,n),n=Af(n,e),n==null||delete n[jn(Hn(e))]}function Xu(n,e,t,r){return ot(n,e,t(Se(n,e)),r)}function qt(n,e,t,r){for(var i=n.length,f=r?i:-1;(r?f--:++f<i)&&e(n[f],f,n););return t?Gn(n,r?0:f,r?f+1:i):Gn(n,r?f+1:0,r?i:f)}function Ju(n,e){var t=n;return t instanceof H&&(t=t.value()),Sr(e,function(r,i){return i.func.apply(i.thisArg,he([r],i.args))},t)}function kr(n,e,t){var r=n.length;if(r<2)return r?_e(n[0]):[];for(var i=-1,f=h(r);++i<r;)for(var s=n[i],o=-1;++o<r;)o!=i&&(f[i]=ft(f[i]||s,n[o],e,t));return _e(mn(f,1),e,t)}function Vu(n,e,t){for(var r=-1,i=n.length,f=e.length,s={};++r<i;){var o=r<f?e[r]:l;t(s,n[r],o)}return s}function jr(n){return cn(n)?n:[]}function ni(n){return typeof n=="function"?n:In}function ve(n,e){return B(n)?n:oi(n,e)?[n]:Sf(Z(n))}var Ea=U;function me(n,e,t){var r=n.length;return t=t===l?r:t,!e&&t>=r?n:Gn(n,e,t)}var Qu=fo||function(n){return vn.clearTimeout(n)};function ku(n,e){if(e)return n.slice();var t=n.length,r=xu?xu(t):new n.constructor(t);return n.copy(r),r}function ei(n){var e=new n.constructor(n.byteLength);return new Rt(e).set(new Rt(n)),e}function wa(n,e){var t=e?ei(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}function Aa(n){var e=new n.constructor(n.source,Mi.exec(n));return e.lastIndex=n.lastIndex,e}function ba(n){return it?Q(it.call(n)):{}}function ju(n,e){var t=e?ei(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}function nf(n,e){if(n!==e){var t=n!==l,r=n===null,i=n===n,f=On(n),s=e!==l,o=e===null,c=e===e,g=On(e);if(!o&&!g&&!f&&n>e||f&&s&&c&&!o&&!g||r&&s&&c||!t&&c||!i)return 1;if(!r&&!f&&!g&&n<e||g&&t&&i&&!r&&!f||o&&t&&i||!s&&i||!c)return-1}return 0}function ya(n,e,t){for(var r=-1,i=n.criteria,f=e.criteria,s=i.length,o=t.length;++r<s;){var c=nf(i[r],f[r]);if(c){if(r>=o)return c;var g=t[r];return c*(g=="desc"?-1:1)}}return n.index-e.index}function ef(n,e,t,r){for(var i=-1,f=n.length,s=t.length,o=-1,c=e.length,g=gn(f-s,0),d=h(c+g),v=!r;++o<c;)d[o]=e[o];for(;++i<s;)(v||i<f)&&(d[t[i]]=n[i]);for(;g--;)d[o++]=n[i++];return d}function tf(n,e,t,r){for(var i=-1,f=n.length,s=-1,o=t.length,c=-1,g=e.length,d=gn(f-o,0),v=h(d+g),x=!r;++i<d;)v[i]=n[i];for(var T=i;++c<g;)v[T+c]=e[c];for(;++s<o;)(x||i<f)&&(v[T+t[s]]=n[i++]);return v}function Tn(n,e){var t=-1,r=n.length;for(e||(e=h(r));++t<r;)e[t]=n[t];return e}function kn(n,e,t,r){var i=!t;t||(t={});for(var f=-1,s=e.length;++f<s;){var o=e[f],c=r?r(t[o],n[o],o,t,n):l;c===l&&(c=n[o]),i?re(t,o,c):ut(t,o,c)}return t}function Ta(n,e){return kn(n,si(n),e)}function Sa(n,e){return kn(n,_f(n),e)}function Kt(n,e){return function(t,r){var i=B(t)?Rs:Xo,f=e?e():{};return i(t,n,C(r,2),f)}}function Ge(n){return U(function(e,t){var r=-1,i=t.length,f=i>1?t[i-1]:l,s=i>2?t[2]:l;for(f=n.length>3&&typeof f=="function"?(i--,f):l,s&&An(t[0],t[1],s)&&(f=i<3?l:f,i=1),e=Q(e);++r<i;){var o=t[r];o&&n(e,o,r,f)}return e})}function rf(n,e){return function(t,r){if(t==null)return t;if(!Sn(t))return n(t,r);for(var i=t.length,f=e?i:-1,s=Q(t);(e?f--:++f<i)&&r(s[f],f,s)!==!1;);return t}}function uf(n){return function(e,t,r){for(var i=-1,f=Q(e),s=r(e),o=s.length;o--;){var c=s[n?o:++i];if(t(f[c],c,f)===!1)break}return e}}function $a(n,e,t){var r=e&F,i=at(n);function f(){var s=this&&this!==vn&&this instanceof f?i:n;return s.apply(r?t:this,arguments)}return f}function ff(n){return function(e){e=Z(e);var t=Fe(e)?Zn(e):l,r=t?t[0]:e.charAt(0),i=t?me(t,1).join(""):e.slice(1);return r[n]()+i}}function He(n){return function(e){return Sr(ul(il(e).replace(_s,"")),n,"")}}function at(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Ue(n.prototype),r=n.apply(t,e);return fn(r)?r:t}}function Ia(n,e,t){var r=at(n);function i(){for(var f=arguments.length,s=h(f),o=f,c=ze(i);o--;)s[o]=arguments[o];var g=f<3&&s[0]!==c&&s[f-1]!==c?[]:pe(s,c);if(f-=g.length,f<t)return cf(n,e,Zt,i.placeholder,l,s,g,l,l,t-f);var d=this&&this!==vn&&this instanceof i?r:n;return Cn(d,this,s)}return i}function lf(n){return function(e,t,r){var i=Q(e);if(!Sn(e)){var f=C(t,3);e=dn(e),t=function(o){return f(i[o],o,i)}}var s=n(e,t,r);return s>-1?i[f?e[s]:s]:l}}function sf(n){return ue(function(e){var t=e.length,r=t,i=Nn.prototype.thru;for(n&&e.reverse();r--;){var f=e[r];if(typeof f!="function")throw new Dn(b);if(i&&!s&&Vt(f)=="wrapper")var s=new Nn([],!0)}for(r=s?r:t;++r<t;){f=e[r];var o=Vt(f),c=o=="wrapper"?fi(f):l;c&&ai(c[0])&&c[1]==(V|ln|rn|sn)&&!c[4].length&&c[9]==1?s=s[Vt(c[0])].apply(s,c[3]):s=f.length==1&&ai(f)?s[o]():s.thru(f)}return function(){var g=arguments,d=g[0];if(s&&g.length==1&&B(d))return s.plant(d).value();for(var v=0,x=t?e[v].apply(this,g):d;++v<t;)x=e[v].call(this,x);return x}})}function Zt(n,e,t,r,i,f,s,o,c,g){var d=e&V,v=e&F,x=e&Y,T=e&(ln|an),L=e&Mn,N=x?l:at(n);function O(){for(var G=arguments.length,z=h(G),Pn=G;Pn--;)z[Pn]=arguments[Pn];if(T)var bn=ze(O),Fn=Ns(z,bn);if(r&&(z=ef(z,r,i,T)),f&&(z=tf(z,f,s,T)),G-=Fn,T&&G<g){var hn=pe(z,bn);return cf(n,e,Zt,O.placeholder,t,z,hn,o,c,g-G)}var Jn=v?t:this,oe=x?Jn[n]:n;return G=z.length,o?z=Xa(z,o):L&&G>1&&z.reverse(),d&&c<G&&(z.length=c),this&&this!==vn&&this instanceof O&&(oe=N||at(oe)),oe.apply(Jn,z)}return O}function of(n,e){return function(t,r){return ta(t,n,e(r),{})}}function Yt(n,e){return function(t,r){var i;if(t===l&&r===l)return e;if(t!==l&&(i=t),r!==l){if(i===l)return r;typeof t=="string"||typeof r=="string"?(t=Ln(t),r=Ln(r)):(t=Yu(t),r=Yu(r)),i=n(t,r)}return i}}function ti(n){return ue(function(e){return e=en(e,Rn(C())),U(function(t){var r=this;return n(e,function(i){return Cn(i,r,t)})})})}function Xt(n,e){e=e===l?" ":Ln(e);var t=e.length;if(t<2)return t?Jr(e,n):e;var r=Jr(e,Ft(n/Me(e)));return Fe(e)?me(Zn(r),0,n).join(""):r.slice(0,n)}function Ca(n,e,t,r){var i=e&F,f=at(n);function s(){for(var o=-1,c=arguments.length,g=-1,d=r.length,v=h(d+c),x=this&&this!==vn&&this instanceof s?f:n;++g<d;)v[g]=r[g];for(;c--;)v[g++]=arguments[++o];return Cn(x,i?t:this,v)}return s}function af(n){return function(e,t,r){return r&&typeof r!="number"&&An(e,t,r)&&(t=r=l),e=se(e),t===l?(t=e,e=0):t=se(t),r=r===l?e<t?1:-1:se(r),ga(e,t,r,n)}}function Jt(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=zn(e),t=zn(t)),n(e,t)}}function cf(n,e,t,r,i,f,s,o,c,g){var d=e&ln,v=d?s:l,x=d?l:s,T=d?f:l,L=d?l:f;e|=d?rn:un,e&=~(d?un:rn),e&yn||(e&=~(F|Y));var N=[n,e,i,T,v,L,x,o,c,g],O=t.apply(l,N);return ai(n)&&bf(O,N),O.placeholder=r,yf(O,n,e)}function ri(n){var e=pn[n];return function(t,r){if(t=zn(t),r=r==null?0:xn(D(r),292),r&&bu(t)){var i=(Z(t)+"e").split("e"),f=e(i[0]+"e"+(+i[1]+r));return i=(Z(f)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(t)}}var Ra=De&&1/yt(new De([,-0]))[1]==Ee?function(n){return new De(n)}:Ti;function hf(n){return function(e){var t=En(e);return t==qn?Pr(e):t==Kn?Zs(e):Ds(e,n(e))}}function ie(n,e,t,r,i,f,s,o){var c=e&Y;if(!c&&typeof n!="function")throw new Dn(b);var g=r?r.length:0;if(g||(e&=~(rn|un),r=i=l),s=s===l?s:gn(D(s),0),o=o===l?o:D(o),g-=i?i.length:0,e&un){var d=r,v=i;r=i=l}var x=c?l:fi(n),T=[n,e,t,r,i,d,v,f,s,o];if(x&&Ka(T,x),n=T[0],e=T[1],t=T[2],r=T[3],i=T[4],o=T[9]=T[9]===l?c?0:n.length:gn(T[9]-g,0),!o&&e&(ln|an)&&(e&=~(ln|an)),!e||e==F)var L=$a(n,e,t);else e==ln||e==an?L=Ia(n,e,o):(e==rn||e==(F|rn))&&!i.length?L=Ca(n,e,t,r):L=Zt.apply(l,T);var N=x?Ku:bf;return yf(N(L,T),n,e)}function pf(n,e,t,r){return n===l||Xn(n,We[t])&&!X.call(r,t)?e:n}function gf(n,e,t,r,i,f){return fn(n)&&fn(e)&&(f.set(e,n),Ht(n,e,l,gf,f),f.delete(e)),n}function La(n){return pt(n)?l:n}function df(n,e,t,r,i,f){var s=t&$,o=n.length,c=e.length;if(o!=c&&!(s&&c>o))return!1;var g=f.get(n),d=f.get(e);if(g&&d)return g==e&&d==n;var v=-1,x=!0,T=t&y?new ye:l;for(f.set(n,e),f.set(e,n);++v<o;){var L=n[v],N=e[v];if(r)var O=s?r(N,L,v,e,n,f):r(L,N,v,n,e,f);if(O!==l){if(O)continue;x=!1;break}if(T){if(!$r(e,function(G,z){if(!je(T,z)&&(L===G||i(L,G,t,r,f)))return T.push(z)})){x=!1;break}}else if(!(L===N||i(L,N,t,r,f))){x=!1;break}}return f.delete(n),f.delete(e),x}function Oa(n,e,t,r,i,f,s){switch(t){case Le:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case ke:return!(n.byteLength!=e.byteLength||!f(new Rt(n),new Rt(e)));case Ze:case Ye:case Xe:return Xn(+n,+e);case _t:return n.name==e.name&&n.message==e.message;case Je:case Ve:return n==e+"";case qn:var o=Pr;case Kn:var c=r&$;if(o||(o=yt),n.size!=e.size&&!c)return!1;var g=s.get(n);if(g)return g==e;r|=y,s.set(n,e);var d=df(o(n),o(e),r,i,f,s);return s.delete(n),d;case mt:if(it)return it.call(n)==it.call(e)}return!1}function Pa(n,e,t,r,i,f){var s=t&$,o=ii(n),c=o.length,g=ii(e),d=g.length;if(c!=d&&!s)return!1;for(var v=c;v--;){var x=o[v];if(!(s?x in e:X.call(e,x)))return!1}var T=f.get(n),L=f.get(e);if(T&&L)return T==e&&L==n;var N=!0;f.set(n,e),f.set(e,n);for(var O=s;++v<c;){x=o[v];var G=n[x],z=e[x];if(r)var Pn=s?r(z,G,x,e,n,f):r(G,z,x,n,e,f);if(!(Pn===l?G===z||i(G,z,t,r,f):Pn)){N=!1;break}O||(O=x=="constructor")}if(N&&!O){var bn=n.constructor,Fn=e.constructor;bn!=Fn&&"constructor"in n&&"constructor"in e&&!(typeof bn=="function"&&bn instanceof bn&&typeof Fn=="function"&&Fn instanceof Fn)&&(N=!1)}return f.delete(n),f.delete(e),N}function ue(n){return hi(wf(n,l,Rf),n+"")}function ii(n){return Fu(n,dn,si)}function ui(n){return Fu(n,$n,_f)}var fi=Bt?function(n){return Bt.get(n)}:Ti;function Vt(n){for(var e=n.name+"",t=Ne[e],r=X.call(Ne,e)?t.length:0;r--;){var i=t[r],f=i.func;if(f==null||f==n)return i.name}return e}function ze(n){var e=X.call(u,"placeholder")?u:n;return e.placeholder}function C(){var n=u.iteratee||bi;return n=n===bi?Wu:n,arguments.length?n(arguments[0],arguments[1]):n}function Qt(n,e){var t=n.__data__;return Ga(e)?t[typeof e=="string"?"string":"hash"]:t.map}function li(n){for(var e=dn(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,xf(i)]}return e}function $e(n,e){var t=zs(n,e);return Bu(t)?t:l}function Fa(n){var e=X.call(n,Ae),t=n[Ae];try{n[Ae]=l;var r=!0}catch{}var i=It.call(n);return r&&(e?n[Ae]=t:delete n[Ae]),i}var si=Mr?function(n){return n==null?[]:(n=Q(n),ce(Mr(n),function(e){return wu.call(n,e)}))}:Si,_f=Mr?function(n){for(var e=[];n;)he(e,si(n)),n=Lt(n);return e}:Si,En=wn;(Br&&En(new Br(new ArrayBuffer(1)))!=Le||et&&En(new et)!=qn||Wr&&En(Wr.resolve())!=Li||De&&En(new De)!=Kn||tt&&En(new tt)!=Qe)&&(En=function(n){var e=wn(n),t=e==ne?n.constructor:l,r=t?Ie(t):"";if(r)switch(r){case _o:return Le;case vo:return qn;case mo:return Li;case xo:return Kn;case Eo:return Qe}return e});function Ma(n,e,t){for(var r=-1,i=t.length;++r<i;){var f=t[r],s=f.size;switch(f.type){case"drop":n+=s;break;case"dropRight":e-=s;break;case"take":e=xn(e,n+s);break;case"takeRight":n=gn(n,e-s);break}}return{start:n,end:e}}function Ba(n){var e=n.match(Gl);return e?e[1].split(Hl):[]}function vf(n,e,t){e=ve(e,n);for(var r=-1,i=e.length,f=!1;++r<i;){var s=jn(e[r]);if(!(f=n!=null&&t(n,s)))break;n=n[s]}return f||++r!=i?f:(i=n==null?0:n.length,!!i&&ir(i)&&fe(s,i)&&(B(n)||Ce(n)))}function Wa(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&X.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function mf(n){return typeof n.constructor=="function"&&!ct(n)?Ue(Lt(n)):{}}function Da(n,e,t){var r=n.constructor;switch(e){case ke:return ei(n);case Ze:case Ye:return new r(+n);case Le:return wa(n,t);case lr:case sr:case or:case ar:case cr:case hr:case pr:case gr:case dr:return ju(n,t);case qn:return new r;case Xe:case Ve:return new r(n);case Je:return Aa(n);case Kn:return new r;case mt:return ba(n)}}function Na(n,e){var t=e.length;if(!t)return n;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace(Ul,`{
/* [wrapped with `+e+`] */
`)}function Ua(n){return B(n)||Ce(n)||!!(Au&&n&&n[Au])}function fe(n,e){var t=typeof n;return e=e==null?ae:e,!!e&&(t=="number"||t!="symbol"&&Ql.test(n))&&n>-1&&n%1==0&&n<e}function An(n,e,t){if(!fn(t))return!1;var r=typeof e;return(r=="number"?Sn(t)&&fe(e,t.length):r=="string"&&e in t)?Xn(t[e],n):!1}function oi(n,e){if(B(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||On(n)?!0:Bl.test(n)||!Ml.test(n)||e!=null&&n in Q(e)}function Ga(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function ai(n){var e=Vt(n),t=u[e];if(typeof t!="function"||!(e in H.prototype))return!1;if(n===t)return!0;var r=fi(t);return!!r&&n===r[0]}function Ha(n){return!!mu&&mu in n}var za=St?le:$i;function ct(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||We;return n===t}function xf(n){return n===n&&!fn(n)}function Ef(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==l||n in Q(t))}}function qa(n){var e=tr(n,function(r){return t.size===tn&&t.clear(),r}),t=e.cache;return e}function Ka(n,e){var t=n[1],r=e[1],i=t|r,f=i<(F|Y|V),s=r==V&&t==ln||r==V&&t==sn&&n[7].length<=e[8]||r==(V|sn)&&e[7].length<=e[8]&&t==ln;if(!(f||s))return n;r&F&&(n[2]=e[2],i|=t&F?0:yn);var o=e[3];if(o){var c=n[3];n[3]=c?ef(c,o,e[4]):o,n[4]=c?pe(n[3],S):e[4]}return o=e[5],o&&(c=n[5],n[5]=c?tf(c,o,e[6]):o,n[6]=c?pe(n[5],S):e[6]),o=e[7],o&&(n[7]=o),r&V&&(n[8]=n[8]==null?e[8]:xn(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=i,n}function Za(n){var e=[];if(n!=null)for(var t in Q(n))e.push(t);return e}function Ya(n){return It.call(n)}function wf(n,e,t){return e=gn(e===l?n.length-1:e,0),function(){for(var r=arguments,i=-1,f=gn(r.length-e,0),s=h(f);++i<f;)s[i]=r[e+i];i=-1;for(var o=h(e+1);++i<e;)o[i]=r[i];return o[e]=t(s),Cn(n,this,o)}}function Af(n,e){return e.length<2?n:Se(n,Gn(e,0,-1))}function Xa(n,e){for(var t=n.length,r=xn(e.length,t),i=Tn(n);r--;){var f=e[r];n[r]=fe(f,t)?i[f]:l}return n}function ci(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var bf=Tf(Ku),ht=so||function(n,e){return vn.setTimeout(n,e)},hi=Tf(va);function yf(n,e,t){var r=e+"";return hi(n,Na(r,Ja(Ba(r),t)))}function Tf(n){var e=0,t=0;return function(){var r=ho(),i=dl-(r-t);if(t=r,i>0){if(++e>=gl)return arguments[0]}else e=0;return n.apply(l,arguments)}}function kt(n,e){var t=-1,r=n.length,i=r-1;for(e=e===l?r:e;++t<e;){var f=Xr(t,i),s=n[f];n[f]=n[t],n[t]=s}return n.length=e,n}var Sf=qa(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Wl,function(t,r,i,f){e.push(i?f.replace(Kl,"$1"):r||t)}),e});function jn(n){if(typeof n=="string"||On(n))return n;var e=n+"";return e=="0"&&1/n==-Ee?"-0":e}function Ie(n){if(n!=null){try{return $t.call(n)}catch{}try{return n+""}catch{}}return""}function Ja(n,e){return Wn(wl,function(t){var r="_."+t[0];e&t[1]&&!At(n,r)&&n.push(r)}),n.sort()}function $f(n){if(n instanceof H)return n.clone();var e=new Nn(n.__wrapped__,n.__chain__);return e.__actions__=Tn(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}function Va(n,e,t){(t?An(n,e,t):e===l)?e=1:e=gn(D(e),0);var r=n==null?0:n.length;if(!r||e<1)return[];for(var i=0,f=0,s=h(Ft(r/e));i<r;)s[f++]=Gn(n,i,i+=e);return s}function Qa(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var f=n[e];f&&(i[r++]=f)}return i}function ka(){var n=arguments.length;if(!n)return[];for(var e=h(n-1),t=arguments[0],r=n;r--;)e[r-1]=arguments[r];return he(B(t)?Tn(t):[t],mn(e,1))}var ja=U(function(n,e){return cn(n)?ft(n,mn(e,1,cn,!0)):[]}),nc=U(function(n,e){var t=Hn(e);return cn(t)&&(t=l),cn(n)?ft(n,mn(e,1,cn,!0),C(t,2)):[]}),ec=U(function(n,e){var t=Hn(e);return cn(t)&&(t=l),cn(n)?ft(n,mn(e,1,cn,!0),l,t):[]});function tc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===l?1:D(e),Gn(n,e<0?0:e,r)):[]}function rc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===l?1:D(e),e=r-e,Gn(n,0,e<0?0:e)):[]}function ic(n,e){return n&&n.length?qt(n,C(e,3),!0,!0):[]}function uc(n,e){return n&&n.length?qt(n,C(e,3),!0):[]}function fc(n,e,t,r){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&An(n,e,t)&&(t=0,r=i),ko(n,e,t,r)):[]}function If(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:D(t);return i<0&&(i=gn(r+i,0)),bt(n,C(e,3),i)}function Cf(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==l&&(i=D(t),i=t<0?gn(r+i,0):xn(i,r-1)),bt(n,C(e,3),i,!0)}function Rf(n){var e=n==null?0:n.length;return e?mn(n,1):[]}function lc(n){var e=n==null?0:n.length;return e?mn(n,Ee):[]}function sc(n,e){var t=n==null?0:n.length;return t?(e=e===l?1:D(e),mn(n,e)):[]}function oc(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}function Lf(n){return n&&n.length?n[0]:l}function ac(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:D(t);return i<0&&(i=gn(r+i,0)),Pe(n,e,i)}function cc(n){var e=n==null?0:n.length;return e?Gn(n,0,-1):[]}var hc=U(function(n){var e=en(n,jr);return e.length&&e[0]===n[0]?zr(e):[]}),pc=U(function(n){var e=Hn(n),t=en(n,jr);return e===Hn(t)?e=l:t.pop(),t.length&&t[0]===n[0]?zr(t,C(e,2)):[]}),gc=U(function(n){var e=Hn(n),t=en(n,jr);return e=typeof e=="function"?e:l,e&&t.pop(),t.length&&t[0]===n[0]?zr(t,l,e):[]});function dc(n,e){return n==null?"":ao.call(n,e)}function Hn(n){var e=n==null?0:n.length;return e?n[e-1]:l}function _c(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r;return t!==l&&(i=D(t),i=i<0?gn(r+i,0):xn(i,r-1)),e===e?Xs(n,e,i):bt(n,au,i,!0)}function vc(n,e){return n&&n.length?Gu(n,D(e)):l}var mc=U(Of);function Of(n,e){return n&&n.length&&e&&e.length?Yr(n,e):n}function xc(n,e,t){return n&&n.length&&e&&e.length?Yr(n,e,C(t,2)):n}function Ec(n,e,t){return n&&n.length&&e&&e.length?Yr(n,e,l,t):n}var wc=ue(function(n,e){var t=n==null?0:n.length,r=Nr(n,e);return qu(n,en(e,function(i){return fe(i,t)?+i:i}).sort(nf)),r});function Ac(n,e){var t=[];if(!(n&&n.length))return t;var r=-1,i=[],f=n.length;for(e=C(e,3);++r<f;){var s=n[r];e(s,r,n)&&(t.push(s),i.push(r))}return qu(n,i),t}function pi(n){return n==null?n:go.call(n)}function bc(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&An(n,e,t)?(e=0,t=r):(e=e==null?0:D(e),t=t===l?r:D(t)),Gn(n,e,t)):[]}function yc(n,e){return zt(n,e)}function Tc(n,e,t){return Vr(n,e,C(t,2))}function Sc(n,e){var t=n==null?0:n.length;if(t){var r=zt(n,e);if(r<t&&Xn(n[r],e))return r}return-1}function $c(n,e){return zt(n,e,!0)}function Ic(n,e,t){return Vr(n,e,C(t,2),!0)}function Cc(n,e){var t=n==null?0:n.length;if(t){var r=zt(n,e,!0)-1;if(Xn(n[r],e))return r}return-1}function Rc(n){return n&&n.length?Zu(n):[]}function Lc(n,e){return n&&n.length?Zu(n,C(e,2)):[]}function Oc(n){var e=n==null?0:n.length;return e?Gn(n,1,e):[]}function Pc(n,e,t){return n&&n.length?(e=t||e===l?1:D(e),Gn(n,0,e<0?0:e)):[]}function Fc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===l?1:D(e),e=r-e,Gn(n,e<0?0:e,r)):[]}function Mc(n,e){return n&&n.length?qt(n,C(e,3),!1,!0):[]}function Bc(n,e){return n&&n.length?qt(n,C(e,3)):[]}var Wc=U(function(n){return _e(mn(n,1,cn,!0))}),Dc=U(function(n){var e=Hn(n);return cn(e)&&(e=l),_e(mn(n,1,cn,!0),C(e,2))}),Nc=U(function(n){var e=Hn(n);return e=typeof e=="function"?e:l,_e(mn(n,1,cn,!0),l,e)});function Uc(n){return n&&n.length?_e(n):[]}function Gc(n,e){return n&&n.length?_e(n,C(e,2)):[]}function Hc(n,e){return e=typeof e=="function"?e:l,n&&n.length?_e(n,l,e):[]}function gi(n){if(!(n&&n.length))return[];var e=0;return n=ce(n,function(t){if(cn(t))return e=gn(t.length,e),!0}),Lr(e,function(t){return en(n,Ir(t))})}function Pf(n,e){if(!(n&&n.length))return[];var t=gi(n);return e==null?t:en(t,function(r){return Cn(e,l,r)})}var zc=U(function(n,e){return cn(n)?ft(n,e):[]}),qc=U(function(n){return kr(ce(n,cn))}),Kc=U(function(n){var e=Hn(n);return cn(e)&&(e=l),kr(ce(n,cn),C(e,2))}),Zc=U(function(n){var e=Hn(n);return e=typeof e=="function"?e:l,kr(ce(n,cn),l,e)}),Yc=U(gi);function Xc(n,e){return Vu(n||[],e||[],ut)}function Jc(n,e){return Vu(n||[],e||[],ot)}var Vc=U(function(n){var e=n.length,t=e>1?n[e-1]:l;return t=typeof t=="function"?(n.pop(),t):l,Pf(n,t)});function Ff(n){var e=u(n);return e.__chain__=!0,e}function Qc(n,e){return e(n),n}function jt(n,e){return e(n)}var kc=ue(function(n){var e=n.length,t=e?n[0]:0,r=this.__wrapped__,i=function(f){return Nr(f,n)};return e>1||this.__actions__.length||!(r instanceof H)||!fe(t)?this.thru(i):(r=r.slice(t,+t+(e?1:0)),r.__actions__.push({func:jt,args:[i],thisArg:l}),new Nn(r,this.__chain__).thru(function(f){return e&&!f.length&&f.push(l),f}))});function jc(){return Ff(this)}function nh(){return new Nn(this.value(),this.__chain__)}function eh(){this.__values__===l&&(this.__values__=Xf(this.value()));var n=this.__index__>=this.__values__.length,e=n?l:this.__values__[this.__index__++];return{done:n,value:e}}function th(){return this}function rh(n){for(var e,t=this;t instanceof Dt;){var r=$f(t);r.__index__=0,r.__values__=l,e?i.__wrapped__=r:e=r;var i=r;t=t.__wrapped__}return i.__wrapped__=n,e}function ih(){var n=this.__wrapped__;if(n instanceof H){var e=n;return this.__actions__.length&&(e=new H(this)),e=e.reverse(),e.__actions__.push({func:jt,args:[pi],thisArg:l}),new Nn(e,this.__chain__)}return this.thru(pi)}function uh(){return Ju(this.__wrapped__,this.__actions__)}var fh=Kt(function(n,e,t){X.call(n,t)?++n[t]:re(n,t,1)});function lh(n,e,t){var r=B(n)?su:Qo;return t&&An(n,e,t)&&(e=l),r(n,C(e,3))}function sh(n,e){var t=B(n)?ce:Ou;return t(n,C(e,3))}var oh=lf(If),ah=lf(Cf);function ch(n,e){return mn(nr(n,e),1)}function hh(n,e){return mn(nr(n,e),Ee)}function ph(n,e,t){return t=t===l?1:D(t),mn(nr(n,e),t)}function Mf(n,e){var t=B(n)?Wn:de;return t(n,C(e,3))}function Bf(n,e){var t=B(n)?Ls:Lu;return t(n,C(e,3))}var gh=Kt(function(n,e,t){X.call(n,t)?n[t].push(e):re(n,t,[e])});function dh(n,e,t,r){n=Sn(n)?n:Ke(n),t=t&&!r?D(t):0;var i=n.length;return t<0&&(t=gn(i+t,0)),ur(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&Pe(n,e,t)>-1}var _h=U(function(n,e,t){var r=-1,i=typeof e=="function",f=Sn(n)?h(n.length):[];return de(n,function(s){f[++r]=i?Cn(e,s,t):lt(s,e,t)}),f}),vh=Kt(function(n,e,t){re(n,t,e)});function nr(n,e){var t=B(n)?en:Du;return t(n,C(e,3))}function mh(n,e,t,r){return n==null?[]:(B(e)||(e=e==null?[]:[e]),t=r?l:t,B(t)||(t=t==null?[]:[t]),Hu(n,e,t))}var xh=Kt(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]});function Eh(n,e,t){var r=B(n)?Sr:hu,i=arguments.length<3;return r(n,C(e,4),t,i,de)}function wh(n,e,t){var r=B(n)?Os:hu,i=arguments.length<3;return r(n,C(e,4),t,i,Lu)}function Ah(n,e){var t=B(n)?ce:Ou;return t(n,rr(C(e,3)))}function bh(n){var e=B(n)?$u:da;return e(n)}function yh(n,e,t){(t?An(n,e,t):e===l)?e=1:e=D(e);var r=B(n)?Zo:_a;return r(n,e)}function Th(n){var e=B(n)?Yo:ma;return e(n)}function Sh(n){if(n==null)return 0;if(Sn(n))return ur(n)?Me(n):n.length;var e=En(n);return e==qn||e==Kn?n.size:Kr(n).length}function $h(n,e,t){var r=B(n)?$r:xa;return t&&An(n,e,t)&&(e=l),r(n,C(e,3))}var Ih=U(function(n,e){if(n==null)return[];var t=e.length;return t>1&&An(n,e[0],e[1])?e=[]:t>2&&An(e[0],e[1],e[2])&&(e=[e[0]]),Hu(n,mn(e,1),[])}),er=lo||function(){return vn.Date.now()};function Ch(n,e){if(typeof e!="function")throw new Dn(b);return n=D(n),function(){if(--n<1)return e.apply(this,arguments)}}function Wf(n,e,t){return e=t?l:e,e=n&&e==null?n.length:e,ie(n,V,l,l,l,l,e)}function Df(n,e){var t;if(typeof e!="function")throw new Dn(b);return n=D(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=l),t}}var di=U(function(n,e,t){var r=F;if(t.length){var i=pe(t,ze(di));r|=rn}return ie(n,r,e,t,i)}),Nf=U(function(n,e,t){var r=F|Y;if(t.length){var i=pe(t,ze(Nf));r|=rn}return ie(e,r,n,t,i)});function Uf(n,e,t){e=t?l:e;var r=ie(n,ln,l,l,l,l,l,e);return r.placeholder=Uf.placeholder,r}function Gf(n,e,t){e=t?l:e;var r=ie(n,an,l,l,l,l,l,e);return r.placeholder=Gf.placeholder,r}function Hf(n,e,t){var r,i,f,s,o,c,g=0,d=!1,v=!1,x=!0;if(typeof n!="function")throw new Dn(b);e=zn(e)||0,fn(t)&&(d=!!t.leading,v="maxWait"in t,f=v?gn(zn(t.maxWait)||0,e):f,x="trailing"in t?!!t.trailing:x);function T(hn){var Jn=r,oe=i;return r=i=l,g=hn,s=n.apply(oe,Jn),s}function L(hn){return g=hn,o=ht(G,e),d?T(hn):s}function N(hn){var Jn=hn-c,oe=hn-g,sl=e-Jn;return v?xn(sl,f-oe):sl}function O(hn){var Jn=hn-c,oe=hn-g;return c===l||Jn>=e||Jn<0||v&&oe>=f}function G(){var hn=er();if(O(hn))return z(hn);o=ht(G,N(hn))}function z(hn){return o=l,x&&r?T(hn):(r=i=l,s)}function Pn(){o!==l&&Qu(o),g=0,r=c=i=o=l}function bn(){return o===l?s:z(er())}function Fn(){var hn=er(),Jn=O(hn);if(r=arguments,i=this,c=hn,Jn){if(o===l)return L(c);if(v)return Qu(o),o=ht(G,e),T(c)}return o===l&&(o=ht(G,e)),s}return Fn.cancel=Pn,Fn.flush=bn,Fn}var Rh=U(function(n,e){return Ru(n,1,e)}),Lh=U(function(n,e,t){return Ru(n,zn(e)||0,t)});function Oh(n){return ie(n,Mn)}function tr(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new Dn(b);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],f=t.cache;if(f.has(i))return f.get(i);var s=n.apply(this,r);return t.cache=f.set(i,s)||f,s};return t.cache=new(tr.Cache||te),t}tr.Cache=te;function rr(n){if(typeof n!="function")throw new Dn(b);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function Ph(n){return Df(2,n)}var Fh=Ea(function(n,e){e=e.length==1&&B(e[0])?en(e[0],Rn(C())):en(mn(e,1),Rn(C()));var t=e.length;return U(function(r){for(var i=-1,f=xn(r.length,t);++i<f;)r[i]=e[i].call(this,r[i]);return Cn(n,this,r)})}),_i=U(function(n,e){var t=pe(e,ze(_i));return ie(n,rn,l,e,t)}),zf=U(function(n,e){var t=pe(e,ze(zf));return ie(n,un,l,e,t)}),Mh=ue(function(n,e){return ie(n,sn,l,l,l,e)});function Bh(n,e){if(typeof n!="function")throw new Dn(b);return e=e===l?e:D(e),U(n,e)}function Wh(n,e){if(typeof n!="function")throw new Dn(b);return e=e==null?0:gn(D(e),0),U(function(t){var r=t[e],i=me(t,0,e);return r&&he(i,r),Cn(n,this,i)})}function Dh(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new Dn(b);return fn(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Hf(n,e,{leading:r,maxWait:e,trailing:i})}function Nh(n){return Wf(n,1)}function Uh(n,e){return _i(ni(e),n)}function Gh(){if(!arguments.length)return[];var n=arguments[0];return B(n)?n:[n]}function Hh(n){return Un(n,W)}function zh(n,e){return e=typeof e=="function"?e:l,Un(n,W,e)}function qh(n){return Un(n,R|W)}function Kh(n,e){return e=typeof e=="function"?e:l,Un(n,R|W,e)}function Zh(n,e){return e==null||Cu(n,e,dn(e))}function Xn(n,e){return n===e||n!==n&&e!==e}var Yh=Jt(Hr),Xh=Jt(function(n,e){return n>=e}),Ce=Mu(function(){return arguments}())?Mu:function(n){return on(n)&&X.call(n,"callee")&&!wu.call(n,"callee")},B=h.isArray,Jh=tu?Rn(tu):ra;function Sn(n){return n!=null&&ir(n.length)&&!le(n)}function cn(n){return on(n)&&Sn(n)}function Vh(n){return n===!0||n===!1||on(n)&&wn(n)==Ze}var xe=oo||$i,Qh=ru?Rn(ru):ia;function kh(n){return on(n)&&n.nodeType===1&&!pt(n)}function jh(n){if(n==null)return!0;if(Sn(n)&&(B(n)||typeof n=="string"||typeof n.splice=="function"||xe(n)||qe(n)||Ce(n)))return!n.length;var e=En(n);if(e==qn||e==Kn)return!n.size;if(ct(n))return!Kr(n).length;for(var t in n)if(X.call(n,t))return!1;return!0}function np(n,e){return st(n,e)}function ep(n,e,t){t=typeof t=="function"?t:l;var r=t?t(n,e):l;return r===l?st(n,e,l,t):!!r}function vi(n){if(!on(n))return!1;var e=wn(n);return e==_t||e==bl||typeof n.message=="string"&&typeof n.name=="string"&&!pt(n)}function tp(n){return typeof n=="number"&&bu(n)}function le(n){if(!fn(n))return!1;var e=wn(n);return e==vt||e==Ri||e==Al||e==Tl}function qf(n){return typeof n=="number"&&n==D(n)}function ir(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=ae}function fn(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function on(n){return n!=null&&typeof n=="object"}var Kf=iu?Rn(iu):fa;function rp(n,e){return n===e||qr(n,e,li(e))}function ip(n,e,t){return t=typeof t=="function"?t:l,qr(n,e,li(e),t)}function up(n){return Zf(n)&&n!=+n}function fp(n){if(za(n))throw new M(I);return Bu(n)}function lp(n){return n===null}function sp(n){return n==null}function Zf(n){return typeof n=="number"||on(n)&&wn(n)==Xe}function pt(n){if(!on(n)||wn(n)!=ne)return!1;var e=Lt(n);if(e===null)return!0;var t=X.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&$t.call(t)==ro}var mi=uu?Rn(uu):la;function op(n){return qf(n)&&n>=-ae&&n<=ae}var Yf=fu?Rn(fu):sa;function ur(n){return typeof n=="string"||!B(n)&&on(n)&&wn(n)==Ve}function On(n){return typeof n=="symbol"||on(n)&&wn(n)==mt}var qe=lu?Rn(lu):oa;function ap(n){return n===l}function cp(n){return on(n)&&En(n)==Qe}function hp(n){return on(n)&&wn(n)==$l}var pp=Jt(Zr),gp=Jt(function(n,e){return n<=e});function Xf(n){if(!n)return[];if(Sn(n))return ur(n)?Zn(n):Tn(n);if(nt&&n[nt])return Ks(n[nt]());var e=En(n),t=e==qn?Pr:e==Kn?yt:Ke;return t(n)}function se(n){if(!n)return n===0?n:0;if(n=zn(n),n===Ee||n===-Ee){var e=n<0?-1:1;return e*ml}return n===n?n:0}function D(n){var e=se(n),t=e%1;return e===e?t?e-t:e:0}function Jf(n){return n?Te(D(n),0,Vn):0}function zn(n){if(typeof n=="number")return n;if(On(n))return gt;if(fn(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=fn(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=pu(n);var t=Xl.test(n);return t||Vl.test(n)?Is(n.slice(2),t?2:8):Yl.test(n)?gt:+n}function Vf(n){return kn(n,$n(n))}function dp(n){return n?Te(D(n),-ae,ae):n===0?n:0}function Z(n){return n==null?"":Ln(n)}var _p=Ge(function(n,e){if(ct(e)||Sn(e)){kn(e,dn(e),n);return}for(var t in e)X.call(e,t)&&ut(n,t,e[t])}),Qf=Ge(function(n,e){kn(e,$n(e),n)}),fr=Ge(function(n,e,t,r){kn(e,$n(e),n,r)}),vp=Ge(function(n,e,t,r){kn(e,dn(e),n,r)}),mp=ue(Nr);function xp(n,e){var t=Ue(n);return e==null?t:Iu(t,e)}var Ep=U(function(n,e){n=Q(n);var t=-1,r=e.length,i=r>2?e[2]:l;for(i&&An(e[0],e[1],i)&&(r=1);++t<r;)for(var f=e[t],s=$n(f),o=-1,c=s.length;++o<c;){var g=s[o],d=n[g];(d===l||Xn(d,We[g])&&!X.call(n,g))&&(n[g]=f[g])}return n}),wp=U(function(n){return n.push(l,gf),Cn(kf,l,n)});function Ap(n,e){return ou(n,C(e,3),Qn)}function bp(n,e){return ou(n,C(e,3),Gr)}function yp(n,e){return n==null?n:Ur(n,C(e,3),$n)}function Tp(n,e){return n==null?n:Pu(n,C(e,3),$n)}function Sp(n,e){return n&&Qn(n,C(e,3))}function $p(n,e){return n&&Gr(n,C(e,3))}function Ip(n){return n==null?[]:Gt(n,dn(n))}function Cp(n){return n==null?[]:Gt(n,$n(n))}function xi(n,e,t){var r=n==null?l:Se(n,e);return r===l?t:r}function Rp(n,e){return n!=null&&vf(n,e,jo)}function Ei(n,e){return n!=null&&vf(n,e,na)}var Lp=of(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=It.call(e)),n[e]=t},Ai(In)),Op=of(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=It.call(e)),X.call(n,e)?n[e].push(t):n[e]=[t]},C),Pp=U(lt);function dn(n){return Sn(n)?Su(n):Kr(n)}function $n(n){return Sn(n)?Su(n,!0):aa(n)}function Fp(n,e){var t={};return e=C(e,3),Qn(n,function(r,i,f){re(t,e(r,i,f),r)}),t}function Mp(n,e){var t={};return e=C(e,3),Qn(n,function(r,i,f){re(t,i,e(r,i,f))}),t}var Bp=Ge(function(n,e,t){Ht(n,e,t)}),kf=Ge(function(n,e,t,r){Ht(n,e,t,r)}),Wp=ue(function(n,e){var t={};if(n==null)return t;var r=!1;e=en(e,function(f){return f=ve(f,n),r||(r=f.length>1),f}),kn(n,ui(n),t),r&&(t=Un(t,R|J|W,La));for(var i=e.length;i--;)Qr(t,e[i]);return t});function Dp(n,e){return jf(n,rr(C(e)))}var Np=ue(function(n,e){return n==null?{}:ha(n,e)});function jf(n,e){if(n==null)return{};var t=en(ui(n),function(r){return[r]});return e=C(e),zu(n,t,function(r,i){return e(r,i[0])})}function Up(n,e,t){e=ve(e,n);var r=-1,i=e.length;for(i||(i=1,n=l);++r<i;){var f=n==null?l:n[jn(e[r])];f===l&&(r=i,f=t),n=le(f)?f.call(n):f}return n}function Gp(n,e,t){return n==null?n:ot(n,e,t)}function Hp(n,e,t,r){return r=typeof r=="function"?r:l,n==null?n:ot(n,e,t,r)}var nl=hf(dn),tl=hf($n);function zp(n,e,t){var r=B(n),i=r||xe(n)||qe(n);if(e=C(e,4),t==null){var f=n&&n.constructor;i?t=r?new f:[]:fn(n)?t=le(f)?Ue(Lt(n)):{}:t={}}return(i?Wn:Qn)(n,function(s,o,c){return e(t,s,o,c)}),t}function qp(n,e){return n==null?!0:Qr(n,e)}function Kp(n,e,t){return n==null?n:Xu(n,e,ni(t))}function Zp(n,e,t,r){return r=typeof r=="function"?r:l,n==null?n:Xu(n,e,ni(t),r)}function Ke(n){return n==null?[]:Or(n,dn(n))}function Yp(n){return n==null?[]:Or(n,$n(n))}function Xp(n,e,t){return t===l&&(t=e,e=l),t!==l&&(t=zn(t),t=t===t?t:0),e!==l&&(e=zn(e),e=e===e?e:0),Te(zn(n),e,t)}function Jp(n,e,t){return e=se(e),t===l?(t=e,e=0):t=se(t),n=zn(n),ea(n,e,t)}function Vp(n,e,t){if(t&&typeof t!="boolean"&&An(n,e,t)&&(e=t=l),t===l&&(typeof e=="boolean"?(t=e,e=l):typeof n=="boolean"&&(t=n,n=l)),n===l&&e===l?(n=0,e=1):(n=se(n),e===l?(e=n,n=0):e=se(e)),n>e){var r=n;n=e,e=r}if(t||n%1||e%1){var i=yu();return xn(n+i*(e-n+$s("1e-"+((i+"").length-1))),e)}return Xr(n,e)}var Qp=He(function(n,e,t){return e=e.toLowerCase(),n+(t?rl(e):e)});function rl(n){return wi(Z(n).toLowerCase())}function il(n){return n=Z(n),n&&n.replace(kl,Us).replace(vs,"")}function kp(n,e,t){n=Z(n),e=Ln(e);var r=n.length;t=t===l?r:Te(D(t),0,r);var i=t;return t-=e.length,t>=0&&n.slice(t,i)==e}function jp(n){return n=Z(n),n&&Ol.test(n)?n.replace(Pi,Gs):n}function ng(n){return n=Z(n),n&&Dl.test(n)?n.replace(_r,"\\$&"):n}var eg=He(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()}),tg=He(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()}),rg=ff("toLowerCase");function ig(n,e,t){n=Z(n),e=D(e);var r=e?Me(n):0;if(!e||r>=e)return n;var i=(e-r)/2;return Xt(Mt(i),t)+n+Xt(Ft(i),t)}function ug(n,e,t){n=Z(n),e=D(e);var r=e?Me(n):0;return e&&r<e?n+Xt(e-r,t):n}function fg(n,e,t){n=Z(n),e=D(e);var r=e?Me(n):0;return e&&r<e?Xt(e-r,t)+n:n}function lg(n,e,t){return t||e==null?e=0:e&&(e=+e),po(Z(n).replace(vr,""),e||0)}function sg(n,e,t){return(t?An(n,e,t):e===l)?e=1:e=D(e),Jr(Z(n),e)}function og(){var n=arguments,e=Z(n[0]);return n.length<3?e:e.replace(n[1],n[2])}var ag=He(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});function cg(n,e,t){return t&&typeof t!="number"&&An(n,e,t)&&(e=t=l),t=t===l?Vn:t>>>0,t?(n=Z(n),n&&(typeof e=="string"||e!=null&&!mi(e))&&(e=Ln(e),!e&&Fe(n))?me(Zn(n),0,t):n.split(e,t)):[]}var hg=He(function(n,e,t){return n+(t?" ":"")+wi(e)});function pg(n,e,t){return n=Z(n),t=t==null?0:Te(D(t),0,n.length),e=Ln(e),n.slice(t,t+e.length)==e}function gg(n,e,t){var r=u.templateSettings;t&&An(n,e,t)&&(e=l),n=Z(n),e=fr({},e,r,pf);var i=fr({},e.imports,r.imports,pf),f=dn(i),s=Or(i,f),o,c,g=0,d=e.interpolate||xt,v="__p += '",x=Fr((e.escape||xt).source+"|"+d.source+"|"+(d===Fi?Zl:xt).source+"|"+(e.evaluate||xt).source+"|$","g"),T="//# sourceURL="+(X.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++As+"]")+`
`;n.replace(x,function(O,G,z,Pn,bn,Fn){return z||(z=Pn),v+=n.slice(g,Fn).replace(jl,Hs),G&&(o=!0,v+=`' +
__e(`+G+`) +
'`),bn&&(c=!0,v+=`';
`+bn+`;
__p += '`),z&&(v+=`' +
((__t = (`+z+`)) == null ? '' : __t) +
'`),g=Fn+O.length,O}),v+=`';
`;var L=X.call(e,"variable")&&e.variable;if(!L)v=`with (obj) {
`+v+`
}
`;else if(ql.test(L))throw new M(j);v=(c?v.replace(Il,""):v).replace(Cl,"$1").replace(Rl,"$1;"),v="function("+(L||"obj")+`) {
`+(L?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(o?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+v+`return __p
}`;var N=fl(function(){return q(f,T+"return "+v).apply(l,s)});if(N.source=v,vi(N))throw N;return N}function dg(n){return Z(n).toLowerCase()}function _g(n){return Z(n).toUpperCase()}function vg(n,e,t){if(n=Z(n),n&&(t||e===l))return pu(n);if(!n||!(e=Ln(e)))return n;var r=Zn(n),i=Zn(e),f=gu(r,i),s=du(r,i)+1;return me(r,f,s).join("")}function mg(n,e,t){if(n=Z(n),n&&(t||e===l))return n.slice(0,vu(n)+1);if(!n||!(e=Ln(e)))return n;var r=Zn(n),i=du(r,Zn(e))+1;return me(r,0,i).join("")}function xg(n,e,t){if(n=Z(n),n&&(t||e===l))return n.replace(vr,"");if(!n||!(e=Ln(e)))return n;var r=Zn(n),i=gu(r,Zn(e));return me(r,i).join("")}function Eg(n,e){var t=hl,r=pl;if(fn(e)){var i="separator"in e?e.separator:i;t="length"in e?D(e.length):t,r="omission"in e?Ln(e.omission):r}n=Z(n);var f=n.length;if(Fe(n)){var s=Zn(n);f=s.length}if(t>=f)return n;var o=t-Me(r);if(o<1)return r;var c=s?me(s,0,o).join(""):n.slice(0,o);if(i===l)return c+r;if(s&&(o+=c.length-o),mi(i)){if(n.slice(o).search(i)){var g,d=c;for(i.global||(i=Fr(i.source,Z(Mi.exec(i))+"g")),i.lastIndex=0;g=i.exec(d);)var v=g.index;c=c.slice(0,v===l?o:v)}}else if(n.indexOf(Ln(i),o)!=o){var x=c.lastIndexOf(i);x>-1&&(c=c.slice(0,x))}return c+r}function wg(n){return n=Z(n),n&&Ll.test(n)?n.replace(Oi,Js):n}var Ag=He(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()}),wi=ff("toUpperCase");function ul(n,e,t){return n=Z(n),e=t?l:e,e===l?qs(n)?ks(n):Ms(n):n.match(e)||[]}var fl=U(function(n,e){try{return Cn(n,l,e)}catch(t){return vi(t)?t:new M(t)}}),bg=ue(function(n,e){return Wn(e,function(t){t=jn(t),re(n,t,di(n[t],n))}),n});function yg(n){var e=n==null?0:n.length,t=C();return n=e?en(n,function(r){if(typeof r[1]!="function")throw new Dn(b);return[t(r[0]),r[1]]}):[],U(function(r){for(var i=-1;++i<e;){var f=n[i];if(Cn(f[0],this,r))return Cn(f[1],this,r)}})}function Tg(n){return Vo(Un(n,R))}function Ai(n){return function(){return n}}function Sg(n,e){return n==null||n!==n?e:n}var $g=sf(),Ig=sf(!0);function In(n){return n}function bi(n){return Wu(typeof n=="function"?n:Un(n,R))}function Cg(n){return Nu(Un(n,R))}function Rg(n,e){return Uu(n,Un(e,R))}var Lg=U(function(n,e){return function(t){return lt(t,n,e)}}),Og=U(function(n,e){return function(t){return lt(n,t,e)}});function yi(n,e,t){var r=dn(e),i=Gt(e,r);t==null&&!(fn(e)&&(i.length||!r.length))&&(t=e,e=n,n=this,i=Gt(e,dn(e)));var f=!(fn(t)&&"chain"in t)||!!t.chain,s=le(n);return Wn(i,function(o){var c=e[o];n[o]=c,s&&(n.prototype[o]=function(){var g=this.__chain__;if(f||g){var d=n(this.__wrapped__),v=d.__actions__=Tn(this.__actions__);return v.push({func:c,args:arguments,thisArg:n}),d.__chain__=g,d}return c.apply(n,he([this.value()],arguments))})}),n}function Pg(){return vn._===this&&(vn._=io),this}function Ti(){}function Fg(n){return n=D(n),U(function(e){return Gu(e,n)})}var Mg=ti(en),Bg=ti(su),Wg=ti($r);function ll(n){return oi(n)?Ir(jn(n)):pa(n)}function Dg(n){return function(e){return n==null?l:Se(n,e)}}var Ng=af(),Ug=af(!0);function Si(){return[]}function $i(){return!1}function Gg(){return{}}function Hg(){return""}function zg(){return!0}function qg(n,e){if(n=D(n),n<1||n>ae)return[];var t=Vn,r=xn(n,Vn);e=C(e),n-=Vn;for(var i=Lr(r,e);++t<n;)e(t);return i}function Kg(n){return B(n)?en(n,jn):On(n)?[n]:Tn(Sf(Z(n)))}function Zg(n){var e=++to;return Z(n)+e}var Yg=Yt(function(n,e){return n+e},0),Xg=ri("ceil"),Jg=Yt(function(n,e){return n/e},1),Vg=ri("floor");function Qg(n){return n&&n.length?Ut(n,In,Hr):l}function kg(n,e){return n&&n.length?Ut(n,C(e,2),Hr):l}function jg(n){return cu(n,In)}function nd(n,e){return cu(n,C(e,2))}function ed(n){return n&&n.length?Ut(n,In,Zr):l}function td(n,e){return n&&n.length?Ut(n,C(e,2),Zr):l}var rd=Yt(function(n,e){return n*e},1),id=ri("round"),ud=Yt(function(n,e){return n-e},0);function fd(n){return n&&n.length?Rr(n,In):0}function ld(n,e){return n&&n.length?Rr(n,C(e,2)):0}return u.after=Ch,u.ary=Wf,u.assign=_p,u.assignIn=Qf,u.assignInWith=fr,u.assignWith=vp,u.at=mp,u.before=Df,u.bind=di,u.bindAll=bg,u.bindKey=Nf,u.castArray=Gh,u.chain=Ff,u.chunk=Va,u.compact=Qa,u.concat=ka,u.cond=yg,u.conforms=Tg,u.constant=Ai,u.countBy=fh,u.create=xp,u.curry=Uf,u.curryRight=Gf,u.debounce=Hf,u.defaults=Ep,u.defaultsDeep=wp,u.defer=Rh,u.delay=Lh,u.difference=ja,u.differenceBy=nc,u.differenceWith=ec,u.drop=tc,u.dropRight=rc,u.dropRightWhile=ic,u.dropWhile=uc,u.fill=fc,u.filter=sh,u.flatMap=ch,u.flatMapDeep=hh,u.flatMapDepth=ph,u.flatten=Rf,u.flattenDeep=lc,u.flattenDepth=sc,u.flip=Oh,u.flow=$g,u.flowRight=Ig,u.fromPairs=oc,u.functions=Ip,u.functionsIn=Cp,u.groupBy=gh,u.initial=cc,u.intersection=hc,u.intersectionBy=pc,u.intersectionWith=gc,u.invert=Lp,u.invertBy=Op,u.invokeMap=_h,u.iteratee=bi,u.keyBy=vh,u.keys=dn,u.keysIn=$n,u.map=nr,u.mapKeys=Fp,u.mapValues=Mp,u.matches=Cg,u.matchesProperty=Rg,u.memoize=tr,u.merge=Bp,u.mergeWith=kf,u.method=Lg,u.methodOf=Og,u.mixin=yi,u.negate=rr,u.nthArg=Fg,u.omit=Wp,u.omitBy=Dp,u.once=Ph,u.orderBy=mh,u.over=Mg,u.overArgs=Fh,u.overEvery=Bg,u.overSome=Wg,u.partial=_i,u.partialRight=zf,u.partition=xh,u.pick=Np,u.pickBy=jf,u.property=ll,u.propertyOf=Dg,u.pull=mc,u.pullAll=Of,u.pullAllBy=xc,u.pullAllWith=Ec,u.pullAt=wc,u.range=Ng,u.rangeRight=Ug,u.rearg=Mh,u.reject=Ah,u.remove=Ac,u.rest=Bh,u.reverse=pi,u.sampleSize=yh,u.set=Gp,u.setWith=Hp,u.shuffle=Th,u.slice=bc,u.sortBy=Ih,u.sortedUniq=Rc,u.sortedUniqBy=Lc,u.split=cg,u.spread=Wh,u.tail=Oc,u.take=Pc,u.takeRight=Fc,u.takeRightWhile=Mc,u.takeWhile=Bc,u.tap=Qc,u.throttle=Dh,u.thru=jt,u.toArray=Xf,u.toPairs=nl,u.toPairsIn=tl,u.toPath=Kg,u.toPlainObject=Vf,u.transform=zp,u.unary=Nh,u.union=Wc,u.unionBy=Dc,u.unionWith=Nc,u.uniq=Uc,u.uniqBy=Gc,u.uniqWith=Hc,u.unset=qp,u.unzip=gi,u.unzipWith=Pf,u.update=Kp,u.updateWith=Zp,u.values=Ke,u.valuesIn=Yp,u.without=zc,u.words=ul,u.wrap=Uh,u.xor=qc,u.xorBy=Kc,u.xorWith=Zc,u.zip=Yc,u.zipObject=Xc,u.zipObjectDeep=Jc,u.zipWith=Vc,u.entries=nl,u.entriesIn=tl,u.extend=Qf,u.extendWith=fr,yi(u,u),u.add=Yg,u.attempt=fl,u.camelCase=Qp,u.capitalize=rl,u.ceil=Xg,u.clamp=Xp,u.clone=Hh,u.cloneDeep=qh,u.cloneDeepWith=Kh,u.cloneWith=zh,u.conformsTo=Zh,u.deburr=il,u.defaultTo=Sg,u.divide=Jg,u.endsWith=kp,u.eq=Xn,u.escape=jp,u.escapeRegExp=ng,u.every=lh,u.find=oh,u.findIndex=If,u.findKey=Ap,u.findLast=ah,u.findLastIndex=Cf,u.findLastKey=bp,u.floor=Vg,u.forEach=Mf,u.forEachRight=Bf,u.forIn=yp,u.forInRight=Tp,u.forOwn=Sp,u.forOwnRight=$p,u.get=xi,u.gt=Yh,u.gte=Xh,u.has=Rp,u.hasIn=Ei,u.head=Lf,u.identity=In,u.includes=dh,u.indexOf=ac,u.inRange=Jp,u.invoke=Pp,u.isArguments=Ce,u.isArray=B,u.isArrayBuffer=Jh,u.isArrayLike=Sn,u.isArrayLikeObject=cn,u.isBoolean=Vh,u.isBuffer=xe,u.isDate=Qh,u.isElement=kh,u.isEmpty=jh,u.isEqual=np,u.isEqualWith=ep,u.isError=vi,u.isFinite=tp,u.isFunction=le,u.isInteger=qf,u.isLength=ir,u.isMap=Kf,u.isMatch=rp,u.isMatchWith=ip,u.isNaN=up,u.isNative=fp,u.isNil=sp,u.isNull=lp,u.isNumber=Zf,u.isObject=fn,u.isObjectLike=on,u.isPlainObject=pt,u.isRegExp=mi,u.isSafeInteger=op,u.isSet=Yf,u.isString=ur,u.isSymbol=On,u.isTypedArray=qe,u.isUndefined=ap,u.isWeakMap=cp,u.isWeakSet=hp,u.join=dc,u.kebabCase=eg,u.last=Hn,u.lastIndexOf=_c,u.lowerCase=tg,u.lowerFirst=rg,u.lt=pp,u.lte=gp,u.max=Qg,u.maxBy=kg,u.mean=jg,u.meanBy=nd,u.min=ed,u.minBy=td,u.stubArray=Si,u.stubFalse=$i,u.stubObject=Gg,u.stubString=Hg,u.stubTrue=zg,u.multiply=rd,u.nth=vc,u.noConflict=Pg,u.noop=Ti,u.now=er,u.pad=ig,u.padEnd=ug,u.padStart=fg,u.parseInt=lg,u.random=Vp,u.reduce=Eh,u.reduceRight=wh,u.repeat=sg,u.replace=og,u.result=Up,u.round=id,u.runInContext=a,u.sample=bh,u.size=Sh,u.snakeCase=ag,u.some=$h,u.sortedIndex=yc,u.sortedIndexBy=Tc,u.sortedIndexOf=Sc,u.sortedLastIndex=$c,u.sortedLastIndexBy=Ic,u.sortedLastIndexOf=Cc,u.startCase=hg,u.startsWith=pg,u.subtract=ud,u.sum=fd,u.sumBy=ld,u.template=gg,u.times=qg,u.toFinite=se,u.toInteger=D,u.toLength=Jf,u.toLower=dg,u.toNumber=zn,u.toSafeInteger=dp,u.toString=Z,u.toUpper=_g,u.trim=vg,u.trimEnd=mg,u.trimStart=xg,u.truncate=Eg,u.unescape=wg,u.uniqueId=Zg,u.upperCase=Ag,u.upperFirst=wi,u.each=Mf,u.eachRight=Bf,u.first=Lf,yi(u,function(){var n={};return Qn(u,function(e,t){X.call(u.prototype,t)||(n[t]=e)}),n}(),{chain:!1}),u.VERSION=P,Wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){u[n].placeholder=u}),Wn(["drop","take"],function(n,e){H.prototype[n]=function(t){t=t===l?1:gn(D(t),0);var r=this.__filtered__&&!e?new H(this):this.clone();return r.__filtered__?r.__takeCount__=xn(t,r.__takeCount__):r.__views__.push({size:xn(t,Vn),type:n+(r.__dir__<0?"Right":"")}),r},H.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Wn(["filter","map","takeWhile"],function(n,e){var t=e+1,r=t==Ci||t==vl;H.prototype[n]=function(i){var f=this.clone();return f.__iteratees__.push({iteratee:C(i,3),type:t}),f.__filtered__=f.__filtered__||r,f}}),Wn(["head","last"],function(n,e){var t="take"+(e?"Right":"");H.prototype[n]=function(){return this[t](1).value()[0]}}),Wn(["initial","tail"],function(n,e){var t="drop"+(e?"":"Right");H.prototype[n]=function(){return this.__filtered__?new H(this):this[t](1)}}),H.prototype.compact=function(){return this.filter(In)},H.prototype.find=function(n){return this.filter(n).head()},H.prototype.findLast=function(n){return this.reverse().find(n)},H.prototype.invokeMap=U(function(n,e){return typeof n=="function"?new H(this):this.map(function(t){return lt(t,n,e)})}),H.prototype.reject=function(n){return this.filter(rr(C(n)))},H.prototype.slice=function(n,e){n=D(n);var t=this;return t.__filtered__&&(n>0||e<0)?new H(t):(n<0?t=t.takeRight(-n):n&&(t=t.drop(n)),e!==l&&(e=D(e),t=e<0?t.dropRight(-e):t.take(e-n)),t)},H.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},H.prototype.toArray=function(){return this.take(Vn)},Qn(H.prototype,function(n,e){var t=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=u[r?"take"+(e=="last"?"Right":""):e],f=r||/^find/.test(e);!i||(u.prototype[e]=function(){var s=this.__wrapped__,o=r?[1]:arguments,c=s instanceof H,g=o[0],d=c||B(s),v=function(G){var z=i.apply(u,he([G],o));return r&&x?z[0]:z};d&&t&&typeof g=="function"&&g.length!=1&&(c=d=!1);var x=this.__chain__,T=!!this.__actions__.length,L=f&&!x,N=c&&!T;if(!f&&d){s=N?s:new H(this);var O=n.apply(s,o);return O.__actions__.push({func:jt,args:[v],thisArg:l}),new Nn(O,x)}return L&&N?n.apply(this,o):(O=this.thru(v),L?r?O.value()[0]:O.value():O)})}),Wn(["pop","push","shift","sort","splice","unshift"],function(n){var e=Tt[n],t=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);u.prototype[n]=function(){var i=arguments;if(r&&!this.__chain__){var f=this.value();return e.apply(B(f)?f:[],i)}return this[t](function(s){return e.apply(B(s)?s:[],i)})}}),Qn(H.prototype,function(n,e){var t=u[e];if(t){var r=t.name+"";X.call(Ne,r)||(Ne[r]=[]),Ne[r].push({name:e,func:t})}}),Ne[Zt(l,Y).name]=[{name:"wrapper",func:l}],H.prototype.clone=wo,H.prototype.reverse=Ao,H.prototype.value=bo,u.prototype.at=kc,u.prototype.chain=jc,u.prototype.commit=nh,u.prototype.next=eh,u.prototype.plant=rh,u.prototype.reverse=ih,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=uh,u.prototype.first=u.prototype.head,nt&&(u.prototype[nt]=th),u},Be=js();we?((we.exports=Be)._=Be,br._=Be):vn._=Be}).call(commonjsGlobal)})(lodash,lodash.exports);var _=lodash.exports;const isObject=E=>E!==null&&typeof E=="object",getFromPath=(E,m)=>m.split(".").reduce((l,P)=>l[P],E),setByPath=(E,m,l)=>(Object(E)!==E||(Array.isArray(m)||(m=m.toString().match(/[^.[\]]+/g)||[]),m.slice(0,-1).reduce((P,w,I)=>Object(P[w])===P[w]?P[w]:P[w]=Math.abs(Number.parseInt(m[I+1]))>>0==+m[I+1]?[]:{},E)[m[m.length-1]]=l),E);function AsPuya(E){return class extends E{constructor(...m){super(...m);_n(this,"$$context",{});_n(this,"setByPath",(m,l,P)=>{Array.isArray(m)||(m=m.toString().match(/[^.[\]]+/g)||[]),m.slice(0,-1).reduce((w,I,b)=>Object(w[I])===w[I]?w[I]:w[I]=Math.abs(Number.parseInt(m[b+1]))>>0==+m[b+1]?[]:{},this.$$context)[m[m.length-1]]=l});var P;const l=(w=[])=>({get:(I,b)=>b=="isProxy"?!0:typeof I[b]=="object"&&I[b]!=null?new Proxy(I[b],l([...w,b])):I[b],set:(I,b,j)=>{var S,R,J,W,$;I[b]=j,(S=this.$$subscribes[""])==null||S.forEach(y=>{y.fn(this)});const K=[...w,b];typeof K[0]=="string"&&((J=(R=this.$$subscribes)==null?void 0:R[K[0]])==null||J.forEach(y=>{try{y.fn(I)}catch{}}));let tn="";for(let y of K.slice(1))tn+=(tn?".":"")+y,($=(W=this.$$subscribes)==null?void 0:W[K[0]+"."+tn])==null||$.forEach(F=>{const Y=getFromPath(I,tn);F.fn(Y)});return!0}});(P=Object.keys(this).filter(w=>w[0]!=="$"&&typeof this[w]!="function"))==null||P.forEach(w=>{const I=this[w];this[w]&&(this.$$context[w]=this[w]),Object.defineProperty(this,w,{get:()=>this.$$context[w],set:b=>{var j,K;isObject(b)?(this.$$context["$_"+w]=b,this.$$context[w]=new Proxy(this.$$context["$_"+w],l([w]))):this.$$context[w]=b,(j=this.$$subscribes[""])==null||j.forEach(tn=>{tn.fn(this)}),(K=this.$$subscribes[w])==null||K.forEach(tn=>{tn.fn(b)})},configurable:!1}),isObject(this[w])&&(this[w]=this.$$context[w]),this[w]=I})}}}class Puya{constructor(){_n(this,"$$subscribes",{});_n(this,"$$ctx",{});_n(this,"$id");_n(this,"$$beforeMountListeners",{});this.$id=nanoid(5),setTimeout(()=>{Object.values(this.$$beforeMountListeners).forEach(m=>{typeof m=="function"&&m()}),this.beforeMount()},10)}addSubscribe(m="",l,P,w=0){if(typeof m=="string"){const I=m,b=l,j=P,K=nanoid(5);return this.$$subscribes[I]=[...this.$$subscribes[I]?this.$$subscribes[I]:[],{class:j,fn:w?_.throttle(b,w):b,id:K}],K}else{const I=m,b=l;w=P;const j=nanoid(5);return this.$$subscribes[""]=[...this.$$subscribes[""]?this.$$subscribes[""]:[],{class:b,fn:w?_.throttle(I,w):I,id:j}],j}}removeSubscribeByClass(m){Object.keys(this.$$subscribes).forEach(l=>{this.$$subscribes[l]=this.$$subscribes[l].filter(P=>P.class!==m)})}render(){}addBeforeMountListener(m){const l=nanoid(5);return this.$$beforeMountListeners[l]=m,l}beforeMount(){}}class ForDirective{constructor(m){this.bvrElement=m}render(m,l,P){var J,W;const w=m;let I=[];const b=(J=w.attribs.exp.match(/[$](\w)+/g))==null?void 0:J.join(","),j=w.attribs.exp.replaceAll(/((this\.))(?=([A-z]|_)+([A-z]|_|\d)*)(\.(([A-z]|_)+([A-z]|_|\d)*))*/g,"that.");(W=w.attribs.exp.match(/(?<=this\.)(([A-z]|_)+([A-z]|_|\d)*)(\.(([A-z]|_)+([A-z]|_|\d)*))*/g))==null||W.forEach($=>{console.log("$scopestr",$),this.bvrElement.addSubscribe($,()=>R(),P)}),console.log("exp",j),console.log("for vars",b);const K=`
                    var that = this;
                    const {${Object.keys(l).join(",")}} = ${JSON.stringify(l)}
                    const elements = []
                    for( ${j} ){
                        elements.push(...tEl.children.map((tChild)=>{
                            console.log('vars', {${b}})
                            return appendElFromTemplate(those, tChild, elem, {${b}}, scopeId)
                        }))
                    }
                    return elements;
                    `,tn=["appendElFromTemplate,those,tEl,elem,scopeId",K];let S;const R=()=>{var ln;S&&this.bvrElement.removeSubscribeByClass(S);function $(an){for(var rn=[],un=[an];un.length>0;)for(var V=un.pop(),sn=0;sn<((V==null?void 0:V.childNodes.length)||0);sn++){var Mn=V==null?void 0:V.childNodes[sn];(Mn==null?void 0:Mn.nodeType)===Node.COMMENT_NODE&&Mn instanceof Comment?rn.push(Mn):un.push(Mn)}return rn}let y,F;const Y=nanoid(6);let yn=!1;if(!S)yn=!0,S=Y,y=document.createComment("for:"+Y),F=document.createComment("endfor:"+Y),I=[y,F];else for(y=$(this.bvrElement.$$rootElement).find(an=>an.nodeValue==="for:"+S),F=$(this.bvrElement.$$rootElement).find(an=>an.nodeValue==="endfor:"+S);(y==null?void 0:y.nextSibling)!==F&&(y==null?void 0:y.nextSibling);)(ln=y==null?void 0:y.parentElement)==null||ln.removeChild(y==null?void 0:y.nextSibling);try{const rn=Function.apply(null,tn).bind(this.bvrElement)(appendElFromTemplate,this.bvrElement,w,void 0,Y);if(yn)I=[I[0],...rn,I[1]];else{const un=(V,sn)=>{Array.isArray(sn)?sn.forEach(Mn=>{un(V,Mn)}):V.before(sn)};F&&un(F,rn)}}catch(an){console.error(an)}};return R(),I}}_n(ForDirective,"tagName","for");class IfDirective{constructor(m){this.bvrElement=m}render(m,l,P){var J;const w=m;let I=[];const b=(J=w.attribs.exp.match(/[$](\w)+/g))==null?void 0:J.join(","),j=w.attribs.exp.replace(/this(.\w)+/,W=>{const $=W.replace("this.","");return this.bvrElement.addSubscribe($,()=>R(),P),W.replace(/this./,"that.")});console.log("vars",b);const K=`
                    const {${l&&Object.keys(l).join(",")}} = ${JSON.stringify(l)}
                    var that = this;

                    if( ${j} ){
                        return tEl.children.map((tChild)=>{
                            return appendElFromTemplate(those, tChild, elem, {${b}}, scopeId)
                        })
                    }else {
                        return []
                    }
                `,tn=["appendElFromTemplate,those,tEl,elem,scopeId",K];let S;const R=()=>{var yn;S&&this.bvrElement.removeSubscribeByClass(S);function W(ln){for(var an=[],rn=[ln];rn.length>0;)for(var un=rn.pop(),V=0;V<((un==null?void 0:un.childNodes.length)||0);V++){var sn=un==null?void 0:un.childNodes[V];(sn==null?void 0:sn.nodeType)===Node.COMMENT_NODE&&sn instanceof Comment?an.push(sn):rn.push(sn)}return an}let $,y;const F=nanoid(6);let Y=!1;if(!S)Y=!0,S=F,$=document.createComment("if:"+F),y=document.createComment("endif:"+F),I=[$,y];else for($=W(this.bvrElement.$$rootElement).find(ln=>ln.nodeValue==="if:"+S),y=W(this.bvrElement.$$rootElement).find(ln=>ln.nodeValue==="endif:"+S);($==null?void 0:$.nextSibling)!==y&&($==null?void 0:$.nextSibling);)(yn=$==null?void 0:$.parentElement)==null||yn.removeChild($==null?void 0:$.nextSibling);try{const an=Function.apply(null,tn).bind(this.bvrElement)(appendElFromTemplate,this.bvrElement,w,void 0,F);if(Y)I=[I[0],...an,I[1]];else{const rn=(un,V)=>{Array.isArray(V)?V.forEach(sn=>{rn(un,sn)}):un.before(V)};y&&rn(y,an)}}catch(ln){console.error(ln),I=[]}};return R(),I}}_n(IfDirective,"tagName","if");const loop=(E,m,l)=>{var I;if(E.name==="slot"){const b=((I=E==null?void 0:E.attribs)==null?void 0:I.name)||"default";let j;E.children.forEach(K=>{var tn,S;K.type==="tag"&&K.name==="filler"&&(((tn=K.attribs)==null?void 0:tn.slot)?((S=K.attribs)==null?void 0:S.slot)===b:b==="default")&&(j=K)}),l.$$slots=cl(al({},l.$$slots),{[b]:{templatePath:m,filler:j}})}var P=E==null?void 0:E.children;console.log("nodes",P,E);for(var w=0;w<((P==null?void 0:P.length)||0);w++)console.log("inside for",w,P[w]),loop(P[w],[...m,w],l)};class ComponentDirective{constructor(m){this.bvrElement=m}render(m,l,P){var K,tn;const w=Function.apply(null,["cmp","return new cmp()"]),I=(K=this.bvrElement.$$elements)==null?void 0:K[m.name],b=w.bind(this.bvrElement)(I);b.$$elements=(tn=this.bvrElement)==null?void 0:tn.$$elements,b.props={},console.log("ok"),console.log("template",b.$$template,b,"ok"),loop(b.$$template,[],b),Object.entries(m.attribs).forEach(([S,R])=>{var J,W,$;if(S.indexOf("@")===0){S.replace("@","");const y=S;if(!y)return;Function.apply(null,["$event",y])}else if(S==="$"){const y=()=>{Function.apply(null,["$",R]).bind(this.bvrElement)(b)};(J=R.match(/this(.\w){0,}/g))==null||J.forEach(F=>{F=F.slice(5),this.bvrElement.addSubscribe(F,y,P)}),y()}else if(S.indexOf("set.")===0){const y=()=>{b.props[S.replace("set.","")]=Function.apply(null,["","return "+R]).bind(this.bvrElement)()};(W=R.match(/(?<=this\.)(([A-z]|_)+([A-z]|_|\d)*)(\.(([A-z]|_)+([A-z]|_|\d)*))*/g))==null||W.forEach(F=>{this.bvrElement.addSubscribe(F,y,P)}),y()}else if(S.indexOf("bi.")===0){const y=S.replace("bi.",""),F=()=>{b.props[y]=Function.apply(null,["","return "+R]).bind(this.bvrElement)()};($=R.match(/(?<=this\.)(([A-z]|_)+([A-z]|_|\d)*)(\.(([A-z]|_)+([A-z]|_|\d)*))*/g))==null||$.forEach(Y=>{this.bvrElement.addSubscribe(Y,F,P)}),F(),b.addSubscribe("props."+y,Y=>{_.isEqual(getFromPath(this.bvrElement,R.slice(5)),Y)||setByPath(this.bvrElement,R.slice(5),Y)})}else if(S.indexOf("get.")===0){const y=S.replace("get.","");if(R.indexOf("=")>=0){let F={rhs:R.slice(R.indexOf("=")+1).trim(),lhs:R.slice(0,R.indexOf("=")).trim()};b.addSubscribe("props."+y,Y=>{const yn=Function.apply(null,["$","return "+F.rhs]).bind(this.bvrElement)(Y);_.isEqual(getFromPath(this.bvrElement,F.lhs.slice(5)),yn)||setByPath(this.bvrElement,F.lhs.slice(5),yn)})}else b.addSubscribe("props."+y,F=>{_.isEqual(getFromPath(this.bvrElement,R.slice(5)),F)||(console.log("v",R),setByPath(this.bvrElement,R.slice(5),F))})}}),b.$$parent=this.bvrElement;const j=document.createElement("div");return b.$$rootElement=j,b.mount(),j}}var ElementType;(function(E){E.Root="root",E.Text="text",E.Directive="directive",E.Comment="comment",E.Script="script",E.Style="style",E.Tag="tag",E.CDATA="cdata",E.Doctype="doctype"})(ElementType||(ElementType={}));function html(E,...m){return E.reduce((P,w,I)=>P+w+(I<E.length-1?String(m[I]):""),"")}function domReady(){return new Promise(E=>{document.addEventListener("DOMContentLoaded",()=>E(!0)),(document.readyState==="interactive"||document.readyState==="complete")&&E(!0)})}const appendElFromTemplate=(that,templateEl,htmlParentEl,scope={},scopeId)=>{var E,m,l,P,w,I,b,j,K,tn;let element;if(Array.isArray(templateEl)||templateEl.type===ElementType.Root)return(templateEl.children||templateEl).map(R=>appendElFromTemplate(that,R,htmlParentEl,scope||{},scopeId));if(templateEl.type===ElementType.Tag&&((E=templateEl.name)==null?void 0:E.toLowerCase())==="for")element=new ForDirective(that).render(templateEl,scope||{},scopeId);else if(templateEl.type===ElementType.Tag&&((m=templateEl.name)==null?void 0:m.toLowerCase())==="if")element=new IfDirective(that).render(templateEl,scope||{},scopeId);else if(templateEl.type===ElementType.Tag&&((l=that.$$elements)==null?void 0:l[templateEl.name]))console.log("bvr element detected"),element=new ComponentDirective(that).render(templateEl,scope,scopeId);else if(templateEl.type===ElementType.Tag&&templateEl.name==="slot"&&((P=that.$$slots)==null?void 0:P[templateEl.attribs.name||"default"])){const S=(w=that.$$slots)==null?void 0:w[templateEl.attribs.name||"default"].filler;S&&(that==null?void 0:that.$$parent)?(console.log("fillerIs",S,that),element=appendElFromTemplate(that==null?void 0:that.$$parent,S==null?void 0:S.children,void 0,scope,scopeId)||""):element=""}else if((templateEl.type===ElementType.Tag||templateEl.type===ElementType.Style)&&templateEl.name){const tEl=templateEl;element=document.createElement(tEl.name),tEl.children.forEach(S=>{appendElFromTemplate(that,S,element,scope,scopeId)}),tEl.attribs&&Object.entries(tEl.attribs).forEach(([attrName,attrValue])=>{var S,R,J;if(attrName.indexOf("@")===0){const W=attrName.replace("@",""),$=attrValue;if(!$)return;(element instanceof HTMLStyleElement||element instanceof HTMLElement)&&element.addEventListener(W,y=>{const F=["$event",$],Y=Function.apply(null,F);try{Y.bind(that)(y)}catch{}})}else if(attrName==="$"){const W=()=>{Function.apply(null,["$",attrValue]).bind(that)(element)};(S=attrValue.match(/(?<=this\.)(([A-z]|_)+([A-z]|_|\d)*)(\.(([A-z]|_)+([A-z]|_|\d)*))*/g))==null||S.forEach($=>{that.addSubscribe($,W,scopeId)}),W()}else{let childToParent=!1,parentToChild=!1,str=attrName,pos=attrName.lastIndexOf("}");pos>attrName.length-2&&(console.log("childToParent"),str=str.slice(0,pos),childToParent=!0),pos=attrName.lastIndexOf("{"),pos>attrName.length-3&&(console.log("parentToChild"),str=str.slice(0,pos),parentToChild=!0);try{const ev=eval("scope."+attrValue);if(ev!==void 0){element[str]=ev;return}}catch(W){try{const $=new Function("return "+attrValue).bind(that)();element[str]=$}catch{}}if(parentToChild){(R=attrValue.match(/(?<=this\.)(([A-z]|_)+([A-z]|_|\d)*)(\.(([A-z]|_)+([A-z]|_|\d)*))*/g))==null||R.forEach($=>{that.addSubscribe($,y=>{element.value=y})});const W=()=>{element[str]=Function.apply(null,["","return "+attrValue]).bind(that)()};(J=attrValue.match(/this(.\w){0,}/g))==null||J.forEach($=>{$=$.slice(5),that.addSubscribe($,W,scopeId)}),W()}childToParent&&(element instanceof HTMLStyleElement||element instanceof HTMLElement)&&(element.addEventListener("change",W=>{var y;const $=(y=W.currentTarget)==null?void 0:y[str];_.isEqual(getFromPath(that,attrValue.slice(5)),$)||setByPath(that,attrValue.slice(5),$)}),element.addEventListener("input",W=>{var y;const $=(y=W.currentTarget)==null?void 0:y[str];_.isEqual(getFromPath(that,attrValue.slice(5)),$)||setByPath(that,attrValue.slice(5),$)})),!parentToChild&&!childToParent&&element.setAttribute(attrName,attrValue)}})}else if(templateEl.type===ElementType.Text&&templateEl.data){const el=templateEl;element=document.createTextNode(el.data);const set=()=>{var S;element instanceof Text&&(element.textContent=((S=el.data)==null?void 0:S.replace(/\{\{.+?}}((\(\d{0,10}\))){0,1}/g,match=>{var R,J;let rawLength=(J=(R=match.match(/\{\{.+?}}/g))==null?void 0:R[0])==null?void 0:J.length;const scopeStr=match.substr(2,match.length-4-(match.length-(rawLength||0))).trim();try{const ev=eval("scope."+scopeStr);if(ev!==void 0)return ev}catch(W){}try{return new Function("return "+scopeStr).bind(that)()}catch(W){}}))||"")};(b=(I=element.textContent)==null?void 0:I.match(/<[\?]js.*/g))==null||b.forEach(S=>{console.log("js block",S)}),(K=(j=element.textContent)==null?void 0:j.match(/\{\{.+?}}((\(\d{0,10}\))){0,1}/g))==null||K.forEach(S=>{var y,F,Y;const R=(y=S.match(/\}\}\(\d{0,10}\)/g))==null?void 0:y[0],J=(R==null?void 0:R.slice(3,R.length-1))||"0",W=parseInt(J),$=S.slice(2,S.length-(J.length+1)).trim();((F=$.match(/^(new)[\s]\w+[\s\S]+/))==null?void 0:F.length)||(Y=$.match(/(?<=this\.)(([A-z]|_)+([A-z]|_|\d)*)(\.(([A-z]|_)+([A-z]|_|\d)*))*/g))==null||Y.forEach(yn=>{that.addSubscribe(yn,set,scopeId,W)})}),set()}else element=document.createElement("none");if(Array.isArray(element)){const S=(R,J)=>{Array.isArray(J)?J.forEach(W=>{S(R,W)}):R.append(J)};htmlParentEl&&S(htmlParentEl,element)}else(tn=htmlParentEl==null?void 0:htmlParentEl.append)==null||tn.call(htmlParentEl,element);return element};class BVRElement extends Puya{constructor(){super(...arguments);_n(this,"$$rootElement",document.createElement("div"));_n(this,"$$parent");_n(this,"$$elementSelector");_n(this,"$$slots",{});_n(this,"props",{});_n(this,"$$directives",[]);_n(this,"$$elements",{});_n(this,"$$template",{type:ElementType.Tag,tagName:"div"})}template(){}mounted(){}async mount(){await domReady(),await new Promise(m=>{this.addBeforeMountListener(()=>{m(!0)})}),this.$$elementSelector&&(this.$$rootElement=document.querySelector(this.$$elementSelector)||this.$$rootElement),this.render(),this.mounted()}render(){this.$$template=this.template()||this.$$template;let m=[],l=document.createElement("div");this.$$template=this.template()||this.$$template,appendElFromTemplate(this,this.$$template,this.$$rootElement,void 0,void 0),m.forEach(P=>{l.innerHTML=l.innerHTML.replace(`__$$__${P.$id}__$$__`,`<div phid=${P.$id}></div>`);const w=l.querySelector(`[phid="${P.$id}"]`);!w||!(w instanceof HTMLElement)||(P.$$rootElement=w,P.mount())}),this.$$rootElement&&this.$$rootElement.appendChild(l)}}_n(BVRElement,"$$includedElems",{}),exports.AsPuya=AsPuya,exports.BVRElement=BVRElement,exports.Puya=Puya,exports.html=html,Object.defineProperty(exports,"__esModule",{value:!0}),exports[Symbol.toStringTag]="Module"});

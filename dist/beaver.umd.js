var ld=Object.defineProperty,od=Object.defineProperties;var ad=Object.getOwnPropertyDescriptors;var ls=Object.getOwnPropertySymbols;var cd=Object.prototype.hasOwnProperty,hd=Object.prototype.propertyIsEnumerable;var Ii=(A,m,s)=>m in A?ld(A,m,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[m]=s,os=(A,m)=>{for(var s in m||(m={}))cd.call(m,s)&&Ii(A,s,m[s]);if(ls)for(var s of ls(m))hd.call(m,s)&&Ii(A,s,m[s]);return A},as=(A,m)=>od(A,ad(m));var _n=(A,m,s)=>(Ii(A,typeof m!="symbol"?m+"":m,s),s);(function(A,m){typeof exports=="object"&&typeof module!="undefined"?m(exports):typeof define=="function"&&define.amd?define(["exports"],m):(A=typeof globalThis!="undefined"?globalThis:A||self,m(A.BeaverJS={}))})(this,function(exports){"use strict";let nanoid=(A=21)=>{let m="",s=crypto.getRandomValues(new Uint8Array(A));for(;A--;){let B=s[A]&63;B<36?m+=B.toString(36):B<62?m+=(B-26).toString(36).toUpperCase():B<63?m+="_":m+="-"}return m};var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(A,m){(function(){var s,B="4.17.21",y=200,L="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",T="Expected a function",hn="Invalid `variable` option passed into `_.template`",rn="__lodash_hash_undefined__",pn=500,O="__lodash_placeholder__",q=1,$=2,w=4,b=1,G=2,z=1,U=2,Y=4,F=8,un=16,Q=32,j=64,en=128,sn=256,fr=512,cs=30,hs="...",ps=800,gs=16,Ci=1,ds=2,_s=3,xe=1/0,oe=9007199254740991,vs=17976931348623157e292,pt=0/0,Jn=4294967295,ms=Jn-1,xs=Jn>>>1,ws=[["ary",en],["bind",z],["bindKey",U],["curry",F],["curryRight",un],["flip",fr],["partial",Q],["partialRight",j],["rearg",sn]],Ce="[object Arguments]",gt="[object Array]",Es="[object AsyncFunction]",ze="[object Boolean]",Ze="[object Date]",bs="[object DOMException]",dt="[object Error]",_t="[object Function]",Ri="[object GeneratorFunction]",qn="[object Map]",Ye="[object Number]",ys="[object Null]",jn="[object Object]",Li="[object Promise]",As="[object Proxy]",Xe="[object RegExp]",Kn="[object Set]",Je="[object String]",vt="[object Symbol]",Ts="[object Undefined]",Ve="[object WeakMap]",Ss="[object WeakSet]",Qe="[object ArrayBuffer]",Re="[object DataView]",sr="[object Float32Array]",lr="[object Float64Array]",or="[object Int8Array]",ar="[object Int16Array]",cr="[object Int32Array]",hr="[object Uint8Array]",pr="[object Uint8ClampedArray]",gr="[object Uint16Array]",dr="[object Uint32Array]",$s=/\b__p \+= '';/g,Is=/\b(__p \+=) '' \+/g,Cs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Oi=/&(?:amp|lt|gt|quot|#39);/g,Pi=/[&<>"']/g,Rs=RegExp(Oi.source),Ls=RegExp(Pi.source),Os=/<%-([\s\S]+?)%>/g,Ps=/<%([\s\S]+?)%>/g,Fi=/<%=([\s\S]+?)%>/g,Fs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ms=/^\w*$/,Bs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_r=/[\\^$.*+?()[\]{}|]/g,Ws=RegExp(_r.source),vr=/^\s+/,Ds=/\s/,Ns=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Us=/\{\n\/\* \[wrapped with (.+)\] \*/,Gs=/,? & /,Hs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qs=/[()=,{}\[\]\/\s]/,Ks=/\\(\\)?/g,zs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mi=/\w*$/,Zs=/^[-+]0x[0-9a-f]+$/i,Ys=/^0b[01]+$/i,Xs=/^\[object .+?Constructor\]$/,Js=/^0o[0-7]+$/i,Vs=/^(?:0|[1-9]\d*)$/,Qs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mt=/($^)/,ks=/['\n\r\u2028\u2029\\]/g,xt="\\ud800-\\udfff",js="\\u0300-\\u036f",nl="\\ufe20-\\ufe2f",tl="\\u20d0-\\u20ff",Bi=js+nl+tl,Wi="\\u2700-\\u27bf",Di="a-z\\xdf-\\xf6\\xf8-\\xff",rl="\\xac\\xb1\\xd7\\xf7",il="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ul="\\u2000-\\u206f",fl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ni="A-Z\\xc0-\\xd6\\xd8-\\xde",Ui="\\ufe0e\\ufe0f",Gi=rl+il+ul+fl,mr="['\u2019]",sl="["+xt+"]",Hi="["+Gi+"]",wt="["+Bi+"]",qi="\\d+",ll="["+Wi+"]",Ki="["+Di+"]",zi="[^"+xt+Gi+qi+Wi+Di+Ni+"]",xr="\\ud83c[\\udffb-\\udfff]",ol="(?:"+wt+"|"+xr+")",Zi="[^"+xt+"]",wr="(?:\\ud83c[\\udde6-\\uddff]){2}",Er="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="["+Ni+"]",Yi="\\u200d",Xi="(?:"+Ki+"|"+zi+")",al="(?:"+Le+"|"+zi+")",Ji="(?:"+mr+"(?:d|ll|m|re|s|t|ve))?",Vi="(?:"+mr+"(?:D|LL|M|RE|S|T|VE))?",Qi=ol+"?",ki="["+Ui+"]?",cl="(?:"+Yi+"(?:"+[Zi,wr,Er].join("|")+")"+ki+Qi+")*",hl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ji=ki+Qi+cl,gl="(?:"+[ll,wr,Er].join("|")+")"+ji,dl="(?:"+[Zi+wt+"?",wt,wr,Er,sl].join("|")+")",_l=RegExp(mr,"g"),vl=RegExp(wt,"g"),br=RegExp(xr+"(?="+xr+")|"+dl+ji,"g"),ml=RegExp([Le+"?"+Ki+"+"+Ji+"(?="+[Hi,Le,"$"].join("|")+")",al+"+"+Vi+"(?="+[Hi,Le+Xi,"$"].join("|")+")",Le+"?"+Xi+"+"+Ji,Le+"+"+Vi,pl,hl,qi,gl].join("|"),"g"),xl=RegExp("["+Yi+xt+Bi+Ui+"]"),wl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,El=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bl=-1,tn={};tn[sr]=tn[lr]=tn[or]=tn[ar]=tn[cr]=tn[hr]=tn[pr]=tn[gr]=tn[dr]=!0,tn[Ce]=tn[gt]=tn[Qe]=tn[ze]=tn[Re]=tn[Ze]=tn[dt]=tn[_t]=tn[qn]=tn[Ye]=tn[jn]=tn[Xe]=tn[Kn]=tn[Je]=tn[Ve]=!1;var nn={};nn[Ce]=nn[gt]=nn[Qe]=nn[Re]=nn[ze]=nn[Ze]=nn[sr]=nn[lr]=nn[or]=nn[ar]=nn[cr]=nn[qn]=nn[Ye]=nn[jn]=nn[Xe]=nn[Kn]=nn[Je]=nn[vt]=nn[hr]=nn[pr]=nn[gr]=nn[dr]=!0,nn[dt]=nn[_t]=nn[Ve]=!1;var yl={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Al={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$l=parseFloat,Il=parseInt,nu=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Cl=typeof self=="object"&&self&&self.Object===Object&&self,mn=nu||Cl||Function("return this")(),yr=m&&!m.nodeType&&m,we=yr&&!0&&A&&!A.nodeType&&A,eu=we&&we.exports===yr,Ar=eu&&nu.process,Mn=function(){try{var a=we&&we.require&&we.require("util").types;return a||Ar&&Ar.binding&&Ar.binding("util")}catch{}}(),tu=Mn&&Mn.isArrayBuffer,ru=Mn&&Mn.isDate,iu=Mn&&Mn.isMap,uu=Mn&&Mn.isRegExp,fu=Mn&&Mn.isSet,su=Mn&&Mn.isTypedArray;function Cn(a,p,h){switch(h.length){case 0:return a.call(p);case 1:return a.call(p,h[0]);case 2:return a.call(p,h[0],h[1]);case 3:return a.call(p,h[0],h[1],h[2])}return a.apply(p,h)}function Rl(a,p,h,E){for(var P=-1,X=a==null?0:a.length;++P<X;){var gn=a[P];p(E,gn,h(gn),a)}return E}function Bn(a,p){for(var h=-1,E=a==null?0:a.length;++h<E&&p(a[h],h,a)!==!1;);return a}function Ll(a,p){for(var h=a==null?0:a.length;h--&&p(a[h],h,a)!==!1;);return a}function lu(a,p){for(var h=-1,E=a==null?0:a.length;++h<E;)if(!p(a[h],h,a))return!1;return!0}function ae(a,p){for(var h=-1,E=a==null?0:a.length,P=0,X=[];++h<E;){var gn=a[h];p(gn,h,a)&&(X[P++]=gn)}return X}function Et(a,p){var h=a==null?0:a.length;return!!h&&Oe(a,p,0)>-1}function Tr(a,p,h){for(var E=-1,P=a==null?0:a.length;++E<P;)if(h(p,a[E]))return!0;return!1}function fn(a,p){for(var h=-1,E=a==null?0:a.length,P=Array(E);++h<E;)P[h]=p(a[h],h,a);return P}function ce(a,p){for(var h=-1,E=p.length,P=a.length;++h<E;)a[P+h]=p[h];return a}function Sr(a,p,h,E){var P=-1,X=a==null?0:a.length;for(E&&X&&(h=a[++P]);++P<X;)h=p(h,a[P],P,a);return h}function Ol(a,p,h,E){var P=a==null?0:a.length;for(E&&P&&(h=a[--P]);P--;)h=p(h,a[P],P,a);return h}function $r(a,p){for(var h=-1,E=a==null?0:a.length;++h<E;)if(p(a[h],h,a))return!0;return!1}var Pl=Ir("length");function Fl(a){return a.split("")}function Ml(a){return a.match(Hs)||[]}function ou(a,p,h){var E;return h(a,function(P,X,gn){if(p(P,X,gn))return E=X,!1}),E}function bt(a,p,h,E){for(var P=a.length,X=h+(E?1:-1);E?X--:++X<P;)if(p(a[X],X,a))return X;return-1}function Oe(a,p,h){return p===p?Yl(a,p,h):bt(a,au,h)}function Bl(a,p,h,E){for(var P=h-1,X=a.length;++P<X;)if(E(a[P],p))return P;return-1}function au(a){return a!==a}function cu(a,p){var h=a==null?0:a.length;return h?Rr(a,p)/h:pt}function Ir(a){return function(p){return p==null?s:p[a]}}function Cr(a){return function(p){return a==null?s:a[p]}}function hu(a,p,h,E,P){return P(a,function(X,gn,k){h=E?(E=!1,X):p(h,X,gn,k)}),h}function Wl(a,p){var h=a.length;for(a.sort(p);h--;)a[h]=a[h].value;return a}function Rr(a,p){for(var h,E=-1,P=a.length;++E<P;){var X=p(a[E]);X!==s&&(h=h===s?X:h+X)}return h}function Lr(a,p){for(var h=-1,E=Array(a);++h<a;)E[h]=p(h);return E}function Dl(a,p){return fn(p,function(h){return[h,a[h]]})}function pu(a){return a&&a.slice(0,vu(a)+1).replace(vr,"")}function Rn(a){return function(p){return a(p)}}function Or(a,p){return fn(p,function(h){return a[h]})}function ke(a,p){return a.has(p)}function gu(a,p){for(var h=-1,E=a.length;++h<E&&Oe(p,a[h],0)>-1;);return h}function du(a,p){for(var h=a.length;h--&&Oe(p,a[h],0)>-1;);return h}function Nl(a,p){for(var h=a.length,E=0;h--;)a[h]===p&&++E;return E}var Ul=Cr(yl),Gl=Cr(Al);function Hl(a){return"\\"+Sl[a]}function ql(a,p){return a==null?s:a[p]}function Pe(a){return xl.test(a)}function Kl(a){return wl.test(a)}function zl(a){for(var p,h=[];!(p=a.next()).done;)h.push(p.value);return h}function Pr(a){var p=-1,h=Array(a.size);return a.forEach(function(E,P){h[++p]=[P,E]}),h}function _u(a,p){return function(h){return a(p(h))}}function he(a,p){for(var h=-1,E=a.length,P=0,X=[];++h<E;){var gn=a[h];(gn===p||gn===O)&&(a[h]=O,X[P++]=h)}return X}function yt(a){var p=-1,h=Array(a.size);return a.forEach(function(E){h[++p]=E}),h}function Zl(a){var p=-1,h=Array(a.size);return a.forEach(function(E){h[++p]=[E,E]}),h}function Yl(a,p,h){for(var E=h-1,P=a.length;++E<P;)if(a[E]===p)return E;return-1}function Xl(a,p,h){for(var E=h+1;E--;)if(a[E]===p)return E;return E}function Fe(a){return Pe(a)?Vl(a):Pl(a)}function zn(a){return Pe(a)?Ql(a):Fl(a)}function vu(a){for(var p=a.length;p--&&Ds.test(a.charAt(p)););return p}var Jl=Cr(Tl);function Vl(a){for(var p=br.lastIndex=0;br.test(a);)++p;return p}function Ql(a){return a.match(br)||[]}function kl(a){return a.match(ml)||[]}var jl=function a(p){p=p==null?mn:Me.defaults(mn.Object(),p,Me.pick(mn,El));var h=p.Array,E=p.Date,P=p.Error,X=p.Function,gn=p.Math,k=p.Object,Fr=p.RegExp,no=p.String,Wn=p.TypeError,At=h.prototype,eo=X.prototype,Be=k.prototype,Tt=p["__core-js_shared__"],St=eo.toString,V=Be.hasOwnProperty,to=0,mu=function(){var n=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),$t=Be.toString,ro=St.call(k),io=mn._,uo=Fr("^"+St.call(V).replace(_r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=eu?p.Buffer:s,pe=p.Symbol,Ct=p.Uint8Array,xu=It?It.allocUnsafe:s,Rt=_u(k.getPrototypeOf,k),wu=k.create,Eu=Be.propertyIsEnumerable,Lt=At.splice,bu=pe?pe.isConcatSpreadable:s,je=pe?pe.iterator:s,Ee=pe?pe.toStringTag:s,Ot=function(){try{var n=Se(k,"defineProperty");return n({},"",{}),n}catch{}}(),fo=p.clearTimeout!==mn.clearTimeout&&p.clearTimeout,so=E&&E.now!==mn.Date.now&&E.now,lo=p.setTimeout!==mn.setTimeout&&p.setTimeout,Pt=gn.ceil,Ft=gn.floor,Mr=k.getOwnPropertySymbols,oo=It?It.isBuffer:s,yu=p.isFinite,ao=At.join,co=_u(k.keys,k),dn=gn.max,wn=gn.min,ho=E.now,po=p.parseInt,Au=gn.random,go=At.reverse,Br=Se(p,"DataView"),nt=Se(p,"Map"),Wr=Se(p,"Promise"),We=Se(p,"Set"),et=Se(p,"WeakMap"),tt=Se(k,"create"),Mt=et&&new et,De={},_o=$e(Br),vo=$e(nt),mo=$e(Wr),xo=$e(We),wo=$e(et),Bt=pe?pe.prototype:s,rt=Bt?Bt.valueOf:s,Tu=Bt?Bt.toString:s;function u(n){if(on(n)&&!M(n)&&!(n instanceof K)){if(n instanceof Dn)return n;if(V.call(n,"__wrapped__"))return $f(n)}return new Dn(n)}var Ne=function(){function n(){}return function(e){if(!ln(e))return{};if(wu)return wu(e);n.prototype=e;var t=new n;return n.prototype=s,t}}();function Wt(){}function Dn(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=s}u.templateSettings={escape:Os,evaluate:Ps,interpolate:Fi,variable:"",imports:{_:u}},u.prototype=Wt.prototype,u.prototype.constructor=u,Dn.prototype=Ne(Wt.prototype),Dn.prototype.constructor=Dn;function K(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Jn,this.__views__=[]}function Eo(){var n=new K(this.__wrapped__);return n.__actions__=Tn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Tn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Tn(this.__views__),n}function bo(){if(this.__filtered__){var n=new K(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function yo(){var n=this.__wrapped__.value(),e=this.__dir__,t=M(n),r=e<0,i=t?n.length:0,f=Ma(0,i,this.__views__),l=f.start,o=f.end,c=o-l,g=r?o:l-1,d=this.__iteratees__,v=d.length,x=0,S=wn(c,this.__takeCount__);if(!t||!r&&i==c&&S==c)return Ju(n,this.__actions__);var C=[];n:for(;c--&&x<S;){g+=e;for(var D=-1,R=n[g];++D<v;){var H=d[D],Z=H.iteratee,Pn=H.type,An=Z(R);if(Pn==ds)R=An;else if(!An){if(Pn==Ci)continue n;break n}}C[x++]=R}return C}K.prototype=Ne(Wt.prototype),K.prototype.constructor=K;function be(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Ao(){this.__data__=tt?tt(null):{},this.size=0}function To(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}function So(n){var e=this.__data__;if(tt){var t=e[n];return t===rn?s:t}return V.call(e,n)?e[n]:s}function $o(n){var e=this.__data__;return tt?e[n]!==s:V.call(e,n)}function Io(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=tt&&e===s?rn:e,this}be.prototype.clear=Ao,be.prototype.delete=To,be.prototype.get=So,be.prototype.has=$o,be.prototype.set=Io;function ne(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Co(){this.__data__=[],this.size=0}function Ro(n){var e=this.__data__,t=Dt(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Lt.call(e,t,1),--this.size,!0}function Lo(n){var e=this.__data__,t=Dt(e,n);return t<0?s:e[t][1]}function Oo(n){return Dt(this.__data__,n)>-1}function Po(n,e){var t=this.__data__,r=Dt(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}ne.prototype.clear=Co,ne.prototype.delete=Ro,ne.prototype.get=Lo,ne.prototype.has=Oo,ne.prototype.set=Po;function ee(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Fo(){this.size=0,this.__data__={hash:new be,map:new(nt||ne),string:new be}}function Mo(n){var e=Vt(this,n).delete(n);return this.size-=e?1:0,e}function Bo(n){return Vt(this,n).get(n)}function Wo(n){return Vt(this,n).has(n)}function Do(n,e){var t=Vt(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}ee.prototype.clear=Fo,ee.prototype.delete=Mo,ee.prototype.get=Bo,ee.prototype.has=Wo,ee.prototype.set=Do;function ye(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new ee;++e<t;)this.add(n[e])}function No(n){return this.__data__.set(n,rn),this}function Uo(n){return this.__data__.has(n)}ye.prototype.add=ye.prototype.push=No,ye.prototype.has=Uo;function Zn(n){var e=this.__data__=new ne(n);this.size=e.size}function Go(){this.__data__=new ne,this.size=0}function Ho(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function qo(n){return this.__data__.get(n)}function Ko(n){return this.__data__.has(n)}function zo(n,e){var t=this.__data__;if(t instanceof ne){var r=t.__data__;if(!nt||r.length<y-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new ee(r)}return t.set(n,e),this.size=t.size,this}Zn.prototype.clear=Go,Zn.prototype.delete=Ho,Zn.prototype.get=qo,Zn.prototype.has=Ko,Zn.prototype.set=zo;function Su(n,e){var t=M(n),r=!t&&Ie(n),i=!t&&!r&&me(n),f=!t&&!r&&!i&&qe(n),l=t||r||i||f,o=l?Lr(n.length,no):[],c=o.length;for(var g in n)(e||V.call(n,g))&&!(l&&(g=="length"||i&&(g=="offset"||g=="parent")||f&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||ue(g,c)))&&o.push(g);return o}function $u(n){var e=n.length;return e?n[Xr(0,e-1)]:s}function Zo(n,e){return Qt(Tn(n),Ae(e,0,n.length))}function Yo(n){return Qt(Tn(n))}function Dr(n,e,t){(t!==s&&!Yn(n[e],t)||t===s&&!(e in n))&&te(n,e,t)}function it(n,e,t){var r=n[e];(!(V.call(n,e)&&Yn(r,t))||t===s&&!(e in n))&&te(n,e,t)}function Dt(n,e){for(var t=n.length;t--;)if(Yn(n[t][0],e))return t;return-1}function Xo(n,e,t,r){return ge(n,function(i,f,l){e(r,i,t(i),l)}),r}function Iu(n,e){return n&&Qn(e,vn(e),n)}function Jo(n,e){return n&&Qn(e,$n(e),n)}function te(n,e,t){e=="__proto__"&&Ot?Ot(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Nr(n,e){for(var t=-1,r=e.length,i=h(r),f=n==null;++t<r;)i[t]=f?s:xi(n,e[t]);return i}function Ae(n,e,t){return n===n&&(t!==s&&(n=n<=t?n:t),e!==s&&(n=n>=e?n:e)),n}function Nn(n,e,t,r,i,f){var l,o=e&q,c=e&$,g=e&w;if(t&&(l=i?t(n,r,i,f):t(n)),l!==s)return l;if(!ln(n))return n;var d=M(n);if(d){if(l=Wa(n),!o)return Tn(n,l)}else{var v=En(n),x=v==_t||v==Ri;if(me(n))return ku(n,o);if(v==jn||v==Ce||x&&!i){if(l=c||x?{}:mf(n),!o)return c?Sa(n,Jo(l,n)):Ta(n,Iu(l,n))}else{if(!nn[v])return i?n:{};l=Da(n,v,o)}}f||(f=new Zn);var S=f.get(n);if(S)return S;f.set(n,l),Yf(n)?n.forEach(function(R){l.add(Nn(R,e,t,R,n,f))}):zf(n)&&n.forEach(function(R,H){l.set(H,Nn(R,e,t,H,n,f))});var C=g?c?ui:ii:c?$n:vn,D=d?s:C(n);return Bn(D||n,function(R,H){D&&(H=R,R=n[H]),it(l,H,Nn(R,e,t,H,n,f))}),l}function Vo(n){var e=vn(n);return function(t){return Cu(t,n,e)}}function Cu(n,e,t){var r=t.length;if(n==null)return!r;for(n=k(n);r--;){var i=t[r],f=e[i],l=n[i];if(l===s&&!(i in n)||!f(l))return!1}return!0}function Ru(n,e,t){if(typeof n!="function")throw new Wn(T);return ct(function(){n.apply(s,t)},e)}function ut(n,e,t,r){var i=-1,f=Et,l=!0,o=n.length,c=[],g=e.length;if(!o)return c;t&&(e=fn(e,Rn(t))),r?(f=Tr,l=!1):e.length>=y&&(f=ke,l=!1,e=new ye(e));n:for(;++i<o;){var d=n[i],v=t==null?d:t(d);if(d=r||d!==0?d:0,l&&v===v){for(var x=g;x--;)if(e[x]===v)continue n;c.push(d)}else f(e,v,r)||c.push(d)}return c}var ge=rf(Vn),Lu=rf(Gr,!0);function Qo(n,e){var t=!0;return ge(n,function(r,i,f){return t=!!e(r,i,f),t}),t}function Nt(n,e,t){for(var r=-1,i=n.length;++r<i;){var f=n[r],l=e(f);if(l!=null&&(o===s?l===l&&!On(l):t(l,o)))var o=l,c=f}return c}function ko(n,e,t,r){var i=n.length;for(t=W(t),t<0&&(t=-t>i?0:i+t),r=r===s||r>i?i:W(r),r<0&&(r+=i),r=t>r?0:Jf(r);t<r;)n[t++]=e;return n}function Ou(n,e){var t=[];return ge(n,function(r,i,f){e(r,i,f)&&t.push(r)}),t}function xn(n,e,t,r,i){var f=-1,l=n.length;for(t||(t=Ua),i||(i=[]);++f<l;){var o=n[f];e>0&&t(o)?e>1?xn(o,e-1,t,r,i):ce(i,o):r||(i[i.length]=o)}return i}var Ur=uf(),Pu=uf(!0);function Vn(n,e){return n&&Ur(n,e,vn)}function Gr(n,e){return n&&Pu(n,e,vn)}function Ut(n,e){return ae(e,function(t){return fe(n[t])})}function Te(n,e){e=_e(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[kn(e[t++])];return t&&t==r?n:s}function Fu(n,e,t){var r=e(n);return M(n)?r:ce(r,t(n))}function bn(n){return n==null?n===s?Ts:ys:Ee&&Ee in k(n)?Fa(n):Ya(n)}function Hr(n,e){return n>e}function jo(n,e){return n!=null&&V.call(n,e)}function na(n,e){return n!=null&&e in k(n)}function ea(n,e,t){return n>=wn(e,t)&&n<dn(e,t)}function qr(n,e,t){for(var r=t?Tr:Et,i=n[0].length,f=n.length,l=f,o=h(f),c=1/0,g=[];l--;){var d=n[l];l&&e&&(d=fn(d,Rn(e))),c=wn(d.length,c),o[l]=!t&&(e||i>=120&&d.length>=120)?new ye(l&&d):s}d=n[0];var v=-1,x=o[0];n:for(;++v<i&&g.length<c;){var S=d[v],C=e?e(S):S;if(S=t||S!==0?S:0,!(x?ke(x,C):r(g,C,t))){for(l=f;--l;){var D=o[l];if(!(D?ke(D,C):r(n[l],C,t)))continue n}x&&x.push(C),g.push(S)}}return g}function ta(n,e,t,r){return Vn(n,function(i,f,l){e(r,t(i),f,l)}),r}function ft(n,e,t){e=_e(e,n),n=bf(n,e);var r=n==null?n:n[kn(Gn(e))];return r==null?s:Cn(r,n,t)}function Mu(n){return on(n)&&bn(n)==Ce}function ra(n){return on(n)&&bn(n)==Qe}function ia(n){return on(n)&&bn(n)==Ze}function st(n,e,t,r,i){return n===e?!0:n==null||e==null||!on(n)&&!on(e)?n!==n&&e!==e:ua(n,e,t,r,st,i)}function ua(n,e,t,r,i,f){var l=M(n),o=M(e),c=l?gt:En(n),g=o?gt:En(e);c=c==Ce?jn:c,g=g==Ce?jn:g;var d=c==jn,v=g==jn,x=c==g;if(x&&me(n)){if(!me(e))return!1;l=!0,d=!1}if(x&&!d)return f||(f=new Zn),l||qe(n)?df(n,e,t,r,i,f):Oa(n,e,c,t,r,i,f);if(!(t&b)){var S=d&&V.call(n,"__wrapped__"),C=v&&V.call(e,"__wrapped__");if(S||C){var D=S?n.value():n,R=C?e.value():e;return f||(f=new Zn),i(D,R,t,r,f)}}return x?(f||(f=new Zn),Pa(n,e,t,r,i,f)):!1}function fa(n){return on(n)&&En(n)==qn}function Kr(n,e,t,r){var i=t.length,f=i,l=!r;if(n==null)return!f;for(n=k(n);i--;){var o=t[i];if(l&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++i<f;){o=t[i];var c=o[0],g=n[c],d=o[1];if(l&&o[2]){if(g===s&&!(c in n))return!1}else{var v=new Zn;if(r)var x=r(g,d,c,n,e,v);if(!(x===s?st(d,g,b|G,r,v):x))return!1}}return!0}function Bu(n){if(!ln(n)||Ha(n))return!1;var e=fe(n)?uo:Xs;return e.test($e(n))}function sa(n){return on(n)&&bn(n)==Xe}function la(n){return on(n)&&En(n)==Kn}function oa(n){return on(n)&&rr(n.length)&&!!tn[bn(n)]}function Wu(n){return typeof n=="function"?n:n==null?In:typeof n=="object"?M(n)?Uu(n[0],n[1]):Nu(n):fs(n)}function zr(n){if(!at(n))return co(n);var e=[];for(var t in k(n))V.call(n,t)&&t!="constructor"&&e.push(t);return e}function aa(n){if(!ln(n))return Za(n);var e=at(n),t=[];for(var r in n)r=="constructor"&&(e||!V.call(n,r))||t.push(r);return t}function Zr(n,e){return n<e}function Du(n,e){var t=-1,r=Sn(n)?h(n.length):[];return ge(n,function(i,f,l){r[++t]=e(i,f,l)}),r}function Nu(n){var e=si(n);return e.length==1&&e[0][2]?wf(e[0][0],e[0][1]):function(t){return t===n||Kr(t,n,e)}}function Uu(n,e){return oi(n)&&xf(e)?wf(kn(n),e):function(t){var r=xi(t,n);return r===s&&r===e?wi(t,n):st(e,r,b|G)}}function Gt(n,e,t,r,i){n!==e&&Ur(e,function(f,l){if(i||(i=new Zn),ln(f))ca(n,e,l,t,Gt,r,i);else{var o=r?r(ci(n,l),f,l+"",n,e,i):s;o===s&&(o=f),Dr(n,l,o)}},$n)}function ca(n,e,t,r,i,f,l){var o=ci(n,t),c=ci(e,t),g=l.get(c);if(g){Dr(n,t,g);return}var d=f?f(o,c,t+"",n,e,l):s,v=d===s;if(v){var x=M(c),S=!x&&me(c),C=!x&&!S&&qe(c);d=c,x||S||C?M(o)?d=o:an(o)?d=Tn(o):S?(v=!1,d=ku(c,!0)):C?(v=!1,d=ju(c,!0)):d=[]:ht(c)||Ie(c)?(d=o,Ie(o)?d=Vf(o):(!ln(o)||fe(o))&&(d=mf(c))):v=!1}v&&(l.set(c,d),i(d,c,r,f,l),l.delete(c)),Dr(n,t,d)}function Gu(n,e){var t=n.length;if(!!t)return e+=e<0?t:0,ue(e,t)?n[e]:s}function Hu(n,e,t){e.length?e=fn(e,function(f){return M(f)?function(l){return Te(l,f.length===1?f[0]:f)}:f}):e=[In];var r=-1;e=fn(e,Rn(I()));var i=Du(n,function(f,l,o){var c=fn(e,function(g){return g(f)});return{criteria:c,index:++r,value:f}});return Wl(i,function(f,l){return Aa(f,l,t)})}function ha(n,e){return qu(n,e,function(t,r){return wi(n,r)})}function qu(n,e,t){for(var r=-1,i=e.length,f={};++r<i;){var l=e[r],o=Te(n,l);t(o,l)&&lt(f,_e(l,n),o)}return f}function pa(n){return function(e){return Te(e,n)}}function Yr(n,e,t,r){var i=r?Bl:Oe,f=-1,l=e.length,o=n;for(n===e&&(e=Tn(e)),t&&(o=fn(n,Rn(t)));++f<l;)for(var c=0,g=e[f],d=t?t(g):g;(c=i(o,d,c,r))>-1;)o!==n&&Lt.call(o,c,1),Lt.call(n,c,1);return n}function Ku(n,e){for(var t=n?e.length:0,r=t-1;t--;){var i=e[t];if(t==r||i!==f){var f=i;ue(i)?Lt.call(n,i,1):Qr(n,i)}}return n}function Xr(n,e){return n+Ft(Au()*(e-n+1))}function ga(n,e,t,r){for(var i=-1,f=dn(Pt((e-n)/(t||1)),0),l=h(f);f--;)l[r?f:++i]=n,n+=t;return l}function Jr(n,e){var t="";if(!n||e<1||e>oe)return t;do e%2&&(t+=n),e=Ft(e/2),e&&(n+=n);while(e);return t}function N(n,e){return hi(Ef(n,e,In),n+"")}function da(n){return $u(Ke(n))}function _a(n,e){var t=Ke(n);return Qt(t,Ae(e,0,t.length))}function lt(n,e,t,r){if(!ln(n))return n;e=_e(e,n);for(var i=-1,f=e.length,l=f-1,o=n;o!=null&&++i<f;){var c=kn(e[i]),g=t;if(c==="__proto__"||c==="constructor"||c==="prototype")return n;if(i!=l){var d=o[c];g=r?r(d,c,o):s,g===s&&(g=ln(d)?d:ue(e[i+1])?[]:{})}it(o,c,g),o=o[c]}return n}var zu=Mt?function(n,e){return Mt.set(n,e),n}:In,va=Ot?function(n,e){return Ot(n,"toString",{configurable:!0,enumerable:!1,value:bi(e),writable:!0})}:In;function ma(n){return Qt(Ke(n))}function Un(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var f=h(i);++r<i;)f[r]=n[r+e];return f}function xa(n,e){var t;return ge(n,function(r,i,f){return t=e(r,i,f),!t}),!!t}function Ht(n,e,t){var r=0,i=n==null?r:n.length;if(typeof e=="number"&&e===e&&i<=xs){for(;r<i;){var f=r+i>>>1,l=n[f];l!==null&&!On(l)&&(t?l<=e:l<e)?r=f+1:i=f}return i}return Vr(n,e,In,t)}function Vr(n,e,t,r){var i=0,f=n==null?0:n.length;if(f===0)return 0;e=t(e);for(var l=e!==e,o=e===null,c=On(e),g=e===s;i<f;){var d=Ft((i+f)/2),v=t(n[d]),x=v!==s,S=v===null,C=v===v,D=On(v);if(l)var R=r||C;else g?R=C&&(r||x):o?R=C&&x&&(r||!S):c?R=C&&x&&!S&&(r||!D):S||D?R=!1:R=r?v<=e:v<e;R?i=d+1:f=d}return wn(f,ms)}function Zu(n,e){for(var t=-1,r=n.length,i=0,f=[];++t<r;){var l=n[t],o=e?e(l):l;if(!t||!Yn(o,c)){var c=o;f[i++]=l===0?0:l}}return f}function Yu(n){return typeof n=="number"?n:On(n)?pt:+n}function Ln(n){if(typeof n=="string")return n;if(M(n))return fn(n,Ln)+"";if(On(n))return Tu?Tu.call(n):"";var e=n+"";return e=="0"&&1/n==-xe?"-0":e}function de(n,e,t){var r=-1,i=Et,f=n.length,l=!0,o=[],c=o;if(t)l=!1,i=Tr;else if(f>=y){var g=e?null:Ra(n);if(g)return yt(g);l=!1,i=ke,c=new ye}else c=e?[]:o;n:for(;++r<f;){var d=n[r],v=e?e(d):d;if(d=t||d!==0?d:0,l&&v===v){for(var x=c.length;x--;)if(c[x]===v)continue n;e&&c.push(v),o.push(d)}else i(c,v,t)||(c!==o&&c.push(v),o.push(d))}return o}function Qr(n,e){return e=_e(e,n),n=bf(n,e),n==null||delete n[kn(Gn(e))]}function Xu(n,e,t,r){return lt(n,e,t(Te(n,e)),r)}function qt(n,e,t,r){for(var i=n.length,f=r?i:-1;(r?f--:++f<i)&&e(n[f],f,n););return t?Un(n,r?0:f,r?f+1:i):Un(n,r?f+1:0,r?i:f)}function Ju(n,e){var t=n;return t instanceof K&&(t=t.value()),Sr(e,function(r,i){return i.func.apply(i.thisArg,ce([r],i.args))},t)}function kr(n,e,t){var r=n.length;if(r<2)return r?de(n[0]):[];for(var i=-1,f=h(r);++i<r;)for(var l=n[i],o=-1;++o<r;)o!=i&&(f[i]=ut(f[i]||l,n[o],e,t));return de(xn(f,1),e,t)}function Vu(n,e,t){for(var r=-1,i=n.length,f=e.length,l={};++r<i;){var o=r<f?e[r]:s;t(l,n[r],o)}return l}function jr(n){return an(n)?n:[]}function ni(n){return typeof n=="function"?n:In}function _e(n,e){return M(n)?n:oi(n,e)?[n]:Sf(J(n))}var wa=N;function ve(n,e,t){var r=n.length;return t=t===s?r:t,!e&&t>=r?n:Un(n,e,t)}var Qu=fo||function(n){return mn.clearTimeout(n)};function ku(n,e){if(e)return n.slice();var t=n.length,r=xu?xu(t):new n.constructor(t);return n.copy(r),r}function ei(n){var e=new n.constructor(n.byteLength);return new Ct(e).set(new Ct(n)),e}function Ea(n,e){var t=e?ei(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}function ba(n){var e=new n.constructor(n.source,Mi.exec(n));return e.lastIndex=n.lastIndex,e}function ya(n){return rt?k(rt.call(n)):{}}function ju(n,e){var t=e?ei(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}function nf(n,e){if(n!==e){var t=n!==s,r=n===null,i=n===n,f=On(n),l=e!==s,o=e===null,c=e===e,g=On(e);if(!o&&!g&&!f&&n>e||f&&l&&c&&!o&&!g||r&&l&&c||!t&&c||!i)return 1;if(!r&&!f&&!g&&n<e||g&&t&&i&&!r&&!f||o&&t&&i||!l&&i||!c)return-1}return 0}function Aa(n,e,t){for(var r=-1,i=n.criteria,f=e.criteria,l=i.length,o=t.length;++r<l;){var c=nf(i[r],f[r]);if(c){if(r>=o)return c;var g=t[r];return c*(g=="desc"?-1:1)}}return n.index-e.index}function ef(n,e,t,r){for(var i=-1,f=n.length,l=t.length,o=-1,c=e.length,g=dn(f-l,0),d=h(c+g),v=!r;++o<c;)d[o]=e[o];for(;++i<l;)(v||i<f)&&(d[t[i]]=n[i]);for(;g--;)d[o++]=n[i++];return d}function tf(n,e,t,r){for(var i=-1,f=n.length,l=-1,o=t.length,c=-1,g=e.length,d=dn(f-o,0),v=h(d+g),x=!r;++i<d;)v[i]=n[i];for(var S=i;++c<g;)v[S+c]=e[c];for(;++l<o;)(x||i<f)&&(v[S+t[l]]=n[i++]);return v}function Tn(n,e){var t=-1,r=n.length;for(e||(e=h(r));++t<r;)e[t]=n[t];return e}function Qn(n,e,t,r){var i=!t;t||(t={});for(var f=-1,l=e.length;++f<l;){var o=e[f],c=r?r(t[o],n[o],o,t,n):s;c===s&&(c=n[o]),i?te(t,o,c):it(t,o,c)}return t}function Ta(n,e){return Qn(n,li(n),e)}function Sa(n,e){return Qn(n,_f(n),e)}function Kt(n,e){return function(t,r){var i=M(t)?Rl:Xo,f=e?e():{};return i(t,n,I(r,2),f)}}function Ue(n){return N(function(e,t){var r=-1,i=t.length,f=i>1?t[i-1]:s,l=i>2?t[2]:s;for(f=n.length>3&&typeof f=="function"?(i--,f):s,l&&yn(t[0],t[1],l)&&(f=i<3?s:f,i=1),e=k(e);++r<i;){var o=t[r];o&&n(e,o,r,f)}return e})}function rf(n,e){return function(t,r){if(t==null)return t;if(!Sn(t))return n(t,r);for(var i=t.length,f=e?i:-1,l=k(t);(e?f--:++f<i)&&r(l[f],f,l)!==!1;);return t}}function uf(n){return function(e,t,r){for(var i=-1,f=k(e),l=r(e),o=l.length;o--;){var c=l[n?o:++i];if(t(f[c],c,f)===!1)break}return e}}function $a(n,e,t){var r=e&z,i=ot(n);function f(){var l=this&&this!==mn&&this instanceof f?i:n;return l.apply(r?t:this,arguments)}return f}function ff(n){return function(e){e=J(e);var t=Pe(e)?zn(e):s,r=t?t[0]:e.charAt(0),i=t?ve(t,1).join(""):e.slice(1);return r[n]()+i}}function Ge(n){return function(e){return Sr(is(rs(e).replace(_l,"")),n,"")}}function ot(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Ne(n.prototype),r=n.apply(t,e);return ln(r)?r:t}}function Ia(n,e,t){var r=ot(n);function i(){for(var f=arguments.length,l=h(f),o=f,c=He(i);o--;)l[o]=arguments[o];var g=f<3&&l[0]!==c&&l[f-1]!==c?[]:he(l,c);if(f-=g.length,f<t)return cf(n,e,zt,i.placeholder,s,l,g,s,s,t-f);var d=this&&this!==mn&&this instanceof i?r:n;return Cn(d,this,l)}return i}function sf(n){return function(e,t,r){var i=k(e);if(!Sn(e)){var f=I(t,3);e=vn(e),t=function(o){return f(i[o],o,i)}}var l=n(e,t,r);return l>-1?i[f?e[l]:l]:s}}function lf(n){return ie(function(e){var t=e.length,r=t,i=Dn.prototype.thru;for(n&&e.reverse();r--;){var f=e[r];if(typeof f!="function")throw new Wn(T);if(i&&!l&&Jt(f)=="wrapper")var l=new Dn([],!0)}for(r=l?r:t;++r<t;){f=e[r];var o=Jt(f),c=o=="wrapper"?fi(f):s;c&&ai(c[0])&&c[1]==(en|F|Q|sn)&&!c[4].length&&c[9]==1?l=l[Jt(c[0])].apply(l,c[3]):l=f.length==1&&ai(f)?l[o]():l.thru(f)}return function(){var g=arguments,d=g[0];if(l&&g.length==1&&M(d))return l.plant(d).value();for(var v=0,x=t?e[v].apply(this,g):d;++v<t;)x=e[v].call(this,x);return x}})}function zt(n,e,t,r,i,f,l,o,c,g){var d=e&en,v=e&z,x=e&U,S=e&(F|un),C=e&fr,D=x?s:ot(n);function R(){for(var H=arguments.length,Z=h(H),Pn=H;Pn--;)Z[Pn]=arguments[Pn];if(S)var An=He(R),Fn=Nl(Z,An);if(r&&(Z=ef(Z,r,i,S)),f&&(Z=tf(Z,f,l,S)),H-=Fn,S&&H<g){var cn=he(Z,An);return cf(n,e,zt,R.placeholder,t,Z,cn,o,c,g-H)}var Xn=v?t:this,le=x?Xn[n]:n;return H=Z.length,o?Z=Xa(Z,o):C&&H>1&&Z.reverse(),d&&c<H&&(Z.length=c),this&&this!==mn&&this instanceof R&&(le=D||ot(le)),le.apply(Xn,Z)}return R}function of(n,e){return function(t,r){return ta(t,n,e(r),{})}}function Zt(n,e){return function(t,r){var i;if(t===s&&r===s)return e;if(t!==s&&(i=t),r!==s){if(i===s)return r;typeof t=="string"||typeof r=="string"?(t=Ln(t),r=Ln(r)):(t=Yu(t),r=Yu(r)),i=n(t,r)}return i}}function ti(n){return ie(function(e){return e=fn(e,Rn(I())),N(function(t){var r=this;return n(e,function(i){return Cn(i,r,t)})})})}function Yt(n,e){e=e===s?" ":Ln(e);var t=e.length;if(t<2)return t?Jr(e,n):e;var r=Jr(e,Pt(n/Fe(e)));return Pe(e)?ve(zn(r),0,n).join(""):r.slice(0,n)}function Ca(n,e,t,r){var i=e&z,f=ot(n);function l(){for(var o=-1,c=arguments.length,g=-1,d=r.length,v=h(d+c),x=this&&this!==mn&&this instanceof l?f:n;++g<d;)v[g]=r[g];for(;c--;)v[g++]=arguments[++o];return Cn(x,i?t:this,v)}return l}function af(n){return function(e,t,r){return r&&typeof r!="number"&&yn(e,t,r)&&(t=r=s),e=se(e),t===s?(t=e,e=0):t=se(t),r=r===s?e<t?1:-1:se(r),ga(e,t,r,n)}}function Xt(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=Hn(e),t=Hn(t)),n(e,t)}}function cf(n,e,t,r,i,f,l,o,c,g){var d=e&F,v=d?l:s,x=d?s:l,S=d?f:s,C=d?s:f;e|=d?Q:j,e&=~(d?j:Q),e&Y||(e&=~(z|U));var D=[n,e,i,S,v,C,x,o,c,g],R=t.apply(s,D);return ai(n)&&yf(R,D),R.placeholder=r,Af(R,n,e)}function ri(n){var e=gn[n];return function(t,r){if(t=Hn(t),r=r==null?0:wn(W(r),292),r&&yu(t)){var i=(J(t)+"e").split("e"),f=e(i[0]+"e"+(+i[1]+r));return i=(J(f)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(t)}}var Ra=We&&1/yt(new We([,-0]))[1]==xe?function(n){return new We(n)}:Ti;function hf(n){return function(e){var t=En(e);return t==qn?Pr(e):t==Kn?Zl(e):Dl(e,n(e))}}function re(n,e,t,r,i,f,l,o){var c=e&U;if(!c&&typeof n!="function")throw new Wn(T);var g=r?r.length:0;if(g||(e&=~(Q|j),r=i=s),l=l===s?l:dn(W(l),0),o=o===s?o:W(o),g-=i?i.length:0,e&j){var d=r,v=i;r=i=s}var x=c?s:fi(n),S=[n,e,t,r,i,d,v,f,l,o];if(x&&za(S,x),n=S[0],e=S[1],t=S[2],r=S[3],i=S[4],o=S[9]=S[9]===s?c?0:n.length:dn(S[9]-g,0),!o&&e&(F|un)&&(e&=~(F|un)),!e||e==z)var C=$a(n,e,t);else e==F||e==un?C=Ia(n,e,o):(e==Q||e==(z|Q))&&!i.length?C=Ca(n,e,t,r):C=zt.apply(s,S);var D=x?zu:yf;return Af(D(C,S),n,e)}function pf(n,e,t,r){return n===s||Yn(n,Be[t])&&!V.call(r,t)?e:n}function gf(n,e,t,r,i,f){return ln(n)&&ln(e)&&(f.set(e,n),Gt(n,e,s,gf,f),f.delete(e)),n}function La(n){return ht(n)?s:n}function df(n,e,t,r,i,f){var l=t&b,o=n.length,c=e.length;if(o!=c&&!(l&&c>o))return!1;var g=f.get(n),d=f.get(e);if(g&&d)return g==e&&d==n;var v=-1,x=!0,S=t&G?new ye:s;for(f.set(n,e),f.set(e,n);++v<o;){var C=n[v],D=e[v];if(r)var R=l?r(D,C,v,e,n,f):r(C,D,v,n,e,f);if(R!==s){if(R)continue;x=!1;break}if(S){if(!$r(e,function(H,Z){if(!ke(S,Z)&&(C===H||i(C,H,t,r,f)))return S.push(Z)})){x=!1;break}}else if(!(C===D||i(C,D,t,r,f))){x=!1;break}}return f.delete(n),f.delete(e),x}function Oa(n,e,t,r,i,f,l){switch(t){case Re:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Qe:return!(n.byteLength!=e.byteLength||!f(new Ct(n),new Ct(e)));case ze:case Ze:case Ye:return Yn(+n,+e);case dt:return n.name==e.name&&n.message==e.message;case Xe:case Je:return n==e+"";case qn:var o=Pr;case Kn:var c=r&b;if(o||(o=yt),n.size!=e.size&&!c)return!1;var g=l.get(n);if(g)return g==e;r|=G,l.set(n,e);var d=df(o(n),o(e),r,i,f,l);return l.delete(n),d;case vt:if(rt)return rt.call(n)==rt.call(e)}return!1}function Pa(n,e,t,r,i,f){var l=t&b,o=ii(n),c=o.length,g=ii(e),d=g.length;if(c!=d&&!l)return!1;for(var v=c;v--;){var x=o[v];if(!(l?x in e:V.call(e,x)))return!1}var S=f.get(n),C=f.get(e);if(S&&C)return S==e&&C==n;var D=!0;f.set(n,e),f.set(e,n);for(var R=l;++v<c;){x=o[v];var H=n[x],Z=e[x];if(r)var Pn=l?r(Z,H,x,e,n,f):r(H,Z,x,n,e,f);if(!(Pn===s?H===Z||i(H,Z,t,r,f):Pn)){D=!1;break}R||(R=x=="constructor")}if(D&&!R){var An=n.constructor,Fn=e.constructor;An!=Fn&&"constructor"in n&&"constructor"in e&&!(typeof An=="function"&&An instanceof An&&typeof Fn=="function"&&Fn instanceof Fn)&&(D=!1)}return f.delete(n),f.delete(e),D}function ie(n){return hi(Ef(n,s,Rf),n+"")}function ii(n){return Fu(n,vn,li)}function ui(n){return Fu(n,$n,_f)}var fi=Mt?function(n){return Mt.get(n)}:Ti;function Jt(n){for(var e=n.name+"",t=De[e],r=V.call(De,e)?t.length:0;r--;){var i=t[r],f=i.func;if(f==null||f==n)return i.name}return e}function He(n){var e=V.call(u,"placeholder")?u:n;return e.placeholder}function I(){var n=u.iteratee||yi;return n=n===yi?Wu:n,arguments.length?n(arguments[0],arguments[1]):n}function Vt(n,e){var t=n.__data__;return Ga(e)?t[typeof e=="string"?"string":"hash"]:t.map}function si(n){for(var e=vn(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,xf(i)]}return e}function Se(n,e){var t=ql(n,e);return Bu(t)?t:s}function Fa(n){var e=V.call(n,Ee),t=n[Ee];try{n[Ee]=s;var r=!0}catch{}var i=$t.call(n);return r&&(e?n[Ee]=t:delete n[Ee]),i}var li=Mr?function(n){return n==null?[]:(n=k(n),ae(Mr(n),function(e){return Eu.call(n,e)}))}:Si,_f=Mr?function(n){for(var e=[];n;)ce(e,li(n)),n=Rt(n);return e}:Si,En=bn;(Br&&En(new Br(new ArrayBuffer(1)))!=Re||nt&&En(new nt)!=qn||Wr&&En(Wr.resolve())!=Li||We&&En(new We)!=Kn||et&&En(new et)!=Ve)&&(En=function(n){var e=bn(n),t=e==jn?n.constructor:s,r=t?$e(t):"";if(r)switch(r){case _o:return Re;case vo:return qn;case mo:return Li;case xo:return Kn;case wo:return Ve}return e});function Ma(n,e,t){for(var r=-1,i=t.length;++r<i;){var f=t[r],l=f.size;switch(f.type){case"drop":n+=l;break;case"dropRight":e-=l;break;case"take":e=wn(e,n+l);break;case"takeRight":n=dn(n,e-l);break}}return{start:n,end:e}}function Ba(n){var e=n.match(Us);return e?e[1].split(Gs):[]}function vf(n,e,t){e=_e(e,n);for(var r=-1,i=e.length,f=!1;++r<i;){var l=kn(e[r]);if(!(f=n!=null&&t(n,l)))break;n=n[l]}return f||++r!=i?f:(i=n==null?0:n.length,!!i&&rr(i)&&ue(l,i)&&(M(n)||Ie(n)))}function Wa(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&V.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function mf(n){return typeof n.constructor=="function"&&!at(n)?Ne(Rt(n)):{}}function Da(n,e,t){var r=n.constructor;switch(e){case Qe:return ei(n);case ze:case Ze:return new r(+n);case Re:return Ea(n,t);case sr:case lr:case or:case ar:case cr:case hr:case pr:case gr:case dr:return ju(n,t);case qn:return new r;case Ye:case Je:return new r(n);case Xe:return ba(n);case Kn:return new r;case vt:return ya(n)}}function Na(n,e){var t=e.length;if(!t)return n;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace(Ns,`{
/* [wrapped with `+e+`] */
`)}function Ua(n){return M(n)||Ie(n)||!!(bu&&n&&n[bu])}function ue(n,e){var t=typeof n;return e=e==null?oe:e,!!e&&(t=="number"||t!="symbol"&&Vs.test(n))&&n>-1&&n%1==0&&n<e}function yn(n,e,t){if(!ln(t))return!1;var r=typeof e;return(r=="number"?Sn(t)&&ue(e,t.length):r=="string"&&e in t)?Yn(t[e],n):!1}function oi(n,e){if(M(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||On(n)?!0:Ms.test(n)||!Fs.test(n)||e!=null&&n in k(e)}function Ga(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function ai(n){var e=Jt(n),t=u[e];if(typeof t!="function"||!(e in K.prototype))return!1;if(n===t)return!0;var r=fi(t);return!!r&&n===r[0]}function Ha(n){return!!mu&&mu in n}var qa=Tt?fe:$i;function at(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Be;return n===t}function xf(n){return n===n&&!ln(n)}function wf(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==s||n in k(t))}}function Ka(n){var e=er(n,function(r){return t.size===pn&&t.clear(),r}),t=e.cache;return e}function za(n,e){var t=n[1],r=e[1],i=t|r,f=i<(z|U|en),l=r==en&&t==F||r==en&&t==sn&&n[7].length<=e[8]||r==(en|sn)&&e[7].length<=e[8]&&t==F;if(!(f||l))return n;r&z&&(n[2]=e[2],i|=t&z?0:Y);var o=e[3];if(o){var c=n[3];n[3]=c?ef(c,o,e[4]):o,n[4]=c?he(n[3],O):e[4]}return o=e[5],o&&(c=n[5],n[5]=c?tf(c,o,e[6]):o,n[6]=c?he(n[5],O):e[6]),o=e[7],o&&(n[7]=o),r&en&&(n[8]=n[8]==null?e[8]:wn(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=i,n}function Za(n){var e=[];if(n!=null)for(var t in k(n))e.push(t);return e}function Ya(n){return $t.call(n)}function Ef(n,e,t){return e=dn(e===s?n.length-1:e,0),function(){for(var r=arguments,i=-1,f=dn(r.length-e,0),l=h(f);++i<f;)l[i]=r[e+i];i=-1;for(var o=h(e+1);++i<e;)o[i]=r[i];return o[e]=t(l),Cn(n,this,o)}}function bf(n,e){return e.length<2?n:Te(n,Un(e,0,-1))}function Xa(n,e){for(var t=n.length,r=wn(e.length,t),i=Tn(n);r--;){var f=e[r];n[r]=ue(f,t)?i[f]:s}return n}function ci(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var yf=Tf(zu),ct=lo||function(n,e){return mn.setTimeout(n,e)},hi=Tf(va);function Af(n,e,t){var r=e+"";return hi(n,Na(r,Ja(Ba(r),t)))}function Tf(n){var e=0,t=0;return function(){var r=ho(),i=gs-(r-t);if(t=r,i>0){if(++e>=ps)return arguments[0]}else e=0;return n.apply(s,arguments)}}function Qt(n,e){var t=-1,r=n.length,i=r-1;for(e=e===s?r:e;++t<e;){var f=Xr(t,i),l=n[f];n[f]=n[t],n[t]=l}return n.length=e,n}var Sf=Ka(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Bs,function(t,r,i,f){e.push(i?f.replace(Ks,"$1"):r||t)}),e});function kn(n){if(typeof n=="string"||On(n))return n;var e=n+"";return e=="0"&&1/n==-xe?"-0":e}function $e(n){if(n!=null){try{return St.call(n)}catch{}try{return n+""}catch{}}return""}function Ja(n,e){return Bn(ws,function(t){var r="_."+t[0];e&t[1]&&!Et(n,r)&&n.push(r)}),n.sort()}function $f(n){if(n instanceof K)return n.clone();var e=new Dn(n.__wrapped__,n.__chain__);return e.__actions__=Tn(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}function Va(n,e,t){(t?yn(n,e,t):e===s)?e=1:e=dn(W(e),0);var r=n==null?0:n.length;if(!r||e<1)return[];for(var i=0,f=0,l=h(Pt(r/e));i<r;)l[f++]=Un(n,i,i+=e);return l}function Qa(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var f=n[e];f&&(i[r++]=f)}return i}function ka(){var n=arguments.length;if(!n)return[];for(var e=h(n-1),t=arguments[0],r=n;r--;)e[r-1]=arguments[r];return ce(M(t)?Tn(t):[t],xn(e,1))}var ja=N(function(n,e){return an(n)?ut(n,xn(e,1,an,!0)):[]}),nc=N(function(n,e){var t=Gn(e);return an(t)&&(t=s),an(n)?ut(n,xn(e,1,an,!0),I(t,2)):[]}),ec=N(function(n,e){var t=Gn(e);return an(t)&&(t=s),an(n)?ut(n,xn(e,1,an,!0),s,t):[]});function tc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===s?1:W(e),Un(n,e<0?0:e,r)):[]}function rc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===s?1:W(e),e=r-e,Un(n,0,e<0?0:e)):[]}function ic(n,e){return n&&n.length?qt(n,I(e,3),!0,!0):[]}function uc(n,e){return n&&n.length?qt(n,I(e,3),!0):[]}function fc(n,e,t,r){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&yn(n,e,t)&&(t=0,r=i),ko(n,e,t,r)):[]}function If(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:W(t);return i<0&&(i=dn(r+i,0)),bt(n,I(e,3),i)}function Cf(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==s&&(i=W(t),i=t<0?dn(r+i,0):wn(i,r-1)),bt(n,I(e,3),i,!0)}function Rf(n){var e=n==null?0:n.length;return e?xn(n,1):[]}function sc(n){var e=n==null?0:n.length;return e?xn(n,xe):[]}function lc(n,e){var t=n==null?0:n.length;return t?(e=e===s?1:W(e),xn(n,e)):[]}function oc(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}function Lf(n){return n&&n.length?n[0]:s}function ac(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:W(t);return i<0&&(i=dn(r+i,0)),Oe(n,e,i)}function cc(n){var e=n==null?0:n.length;return e?Un(n,0,-1):[]}var hc=N(function(n){var e=fn(n,jr);return e.length&&e[0]===n[0]?qr(e):[]}),pc=N(function(n){var e=Gn(n),t=fn(n,jr);return e===Gn(t)?e=s:t.pop(),t.length&&t[0]===n[0]?qr(t,I(e,2)):[]}),gc=N(function(n){var e=Gn(n),t=fn(n,jr);return e=typeof e=="function"?e:s,e&&t.pop(),t.length&&t[0]===n[0]?qr(t,s,e):[]});function dc(n,e){return n==null?"":ao.call(n,e)}function Gn(n){var e=n==null?0:n.length;return e?n[e-1]:s}function _c(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r;return t!==s&&(i=W(t),i=i<0?dn(r+i,0):wn(i,r-1)),e===e?Xl(n,e,i):bt(n,au,i,!0)}function vc(n,e){return n&&n.length?Gu(n,W(e)):s}var mc=N(Of);function Of(n,e){return n&&n.length&&e&&e.length?Yr(n,e):n}function xc(n,e,t){return n&&n.length&&e&&e.length?Yr(n,e,I(t,2)):n}function wc(n,e,t){return n&&n.length&&e&&e.length?Yr(n,e,s,t):n}var Ec=ie(function(n,e){var t=n==null?0:n.length,r=Nr(n,e);return Ku(n,fn(e,function(i){return ue(i,t)?+i:i}).sort(nf)),r});function bc(n,e){var t=[];if(!(n&&n.length))return t;var r=-1,i=[],f=n.length;for(e=I(e,3);++r<f;){var l=n[r];e(l,r,n)&&(t.push(l),i.push(r))}return Ku(n,i),t}function pi(n){return n==null?n:go.call(n)}function yc(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&yn(n,e,t)?(e=0,t=r):(e=e==null?0:W(e),t=t===s?r:W(t)),Un(n,e,t)):[]}function Ac(n,e){return Ht(n,e)}function Tc(n,e,t){return Vr(n,e,I(t,2))}function Sc(n,e){var t=n==null?0:n.length;if(t){var r=Ht(n,e);if(r<t&&Yn(n[r],e))return r}return-1}function $c(n,e){return Ht(n,e,!0)}function Ic(n,e,t){return Vr(n,e,I(t,2),!0)}function Cc(n,e){var t=n==null?0:n.length;if(t){var r=Ht(n,e,!0)-1;if(Yn(n[r],e))return r}return-1}function Rc(n){return n&&n.length?Zu(n):[]}function Lc(n,e){return n&&n.length?Zu(n,I(e,2)):[]}function Oc(n){var e=n==null?0:n.length;return e?Un(n,1,e):[]}function Pc(n,e,t){return n&&n.length?(e=t||e===s?1:W(e),Un(n,0,e<0?0:e)):[]}function Fc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===s?1:W(e),e=r-e,Un(n,e<0?0:e,r)):[]}function Mc(n,e){return n&&n.length?qt(n,I(e,3),!1,!0):[]}function Bc(n,e){return n&&n.length?qt(n,I(e,3)):[]}var Wc=N(function(n){return de(xn(n,1,an,!0))}),Dc=N(function(n){var e=Gn(n);return an(e)&&(e=s),de(xn(n,1,an,!0),I(e,2))}),Nc=N(function(n){var e=Gn(n);return e=typeof e=="function"?e:s,de(xn(n,1,an,!0),s,e)});function Uc(n){return n&&n.length?de(n):[]}function Gc(n,e){return n&&n.length?de(n,I(e,2)):[]}function Hc(n,e){return e=typeof e=="function"?e:s,n&&n.length?de(n,s,e):[]}function gi(n){if(!(n&&n.length))return[];var e=0;return n=ae(n,function(t){if(an(t))return e=dn(t.length,e),!0}),Lr(e,function(t){return fn(n,Ir(t))})}function Pf(n,e){if(!(n&&n.length))return[];var t=gi(n);return e==null?t:fn(t,function(r){return Cn(e,s,r)})}var qc=N(function(n,e){return an(n)?ut(n,e):[]}),Kc=N(function(n){return kr(ae(n,an))}),zc=N(function(n){var e=Gn(n);return an(e)&&(e=s),kr(ae(n,an),I(e,2))}),Zc=N(function(n){var e=Gn(n);return e=typeof e=="function"?e:s,kr(ae(n,an),s,e)}),Yc=N(gi);function Xc(n,e){return Vu(n||[],e||[],it)}function Jc(n,e){return Vu(n||[],e||[],lt)}var Vc=N(function(n){var e=n.length,t=e>1?n[e-1]:s;return t=typeof t=="function"?(n.pop(),t):s,Pf(n,t)});function Ff(n){var e=u(n);return e.__chain__=!0,e}function Qc(n,e){return e(n),n}function kt(n,e){return e(n)}var kc=ie(function(n){var e=n.length,t=e?n[0]:0,r=this.__wrapped__,i=function(f){return Nr(f,n)};return e>1||this.__actions__.length||!(r instanceof K)||!ue(t)?this.thru(i):(r=r.slice(t,+t+(e?1:0)),r.__actions__.push({func:kt,args:[i],thisArg:s}),new Dn(r,this.__chain__).thru(function(f){return e&&!f.length&&f.push(s),f}))});function jc(){return Ff(this)}function nh(){return new Dn(this.value(),this.__chain__)}function eh(){this.__values__===s&&(this.__values__=Xf(this.value()));var n=this.__index__>=this.__values__.length,e=n?s:this.__values__[this.__index__++];return{done:n,value:e}}function th(){return this}function rh(n){for(var e,t=this;t instanceof Wt;){var r=$f(t);r.__index__=0,r.__values__=s,e?i.__wrapped__=r:e=r;var i=r;t=t.__wrapped__}return i.__wrapped__=n,e}function ih(){var n=this.__wrapped__;if(n instanceof K){var e=n;return this.__actions__.length&&(e=new K(this)),e=e.reverse(),e.__actions__.push({func:kt,args:[pi],thisArg:s}),new Dn(e,this.__chain__)}return this.thru(pi)}function uh(){return Ju(this.__wrapped__,this.__actions__)}var fh=Kt(function(n,e,t){V.call(n,t)?++n[t]:te(n,t,1)});function sh(n,e,t){var r=M(n)?lu:Qo;return t&&yn(n,e,t)&&(e=s),r(n,I(e,3))}function lh(n,e){var t=M(n)?ae:Ou;return t(n,I(e,3))}var oh=sf(If),ah=sf(Cf);function ch(n,e){return xn(jt(n,e),1)}function hh(n,e){return xn(jt(n,e),xe)}function ph(n,e,t){return t=t===s?1:W(t),xn(jt(n,e),t)}function Mf(n,e){var t=M(n)?Bn:ge;return t(n,I(e,3))}function Bf(n,e){var t=M(n)?Ll:Lu;return t(n,I(e,3))}var gh=Kt(function(n,e,t){V.call(n,t)?n[t].push(e):te(n,t,[e])});function dh(n,e,t,r){n=Sn(n)?n:Ke(n),t=t&&!r?W(t):0;var i=n.length;return t<0&&(t=dn(i+t,0)),ir(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&Oe(n,e,t)>-1}var _h=N(function(n,e,t){var r=-1,i=typeof e=="function",f=Sn(n)?h(n.length):[];return ge(n,function(l){f[++r]=i?Cn(e,l,t):ft(l,e,t)}),f}),vh=Kt(function(n,e,t){te(n,t,e)});function jt(n,e){var t=M(n)?fn:Du;return t(n,I(e,3))}function mh(n,e,t,r){return n==null?[]:(M(e)||(e=e==null?[]:[e]),t=r?s:t,M(t)||(t=t==null?[]:[t]),Hu(n,e,t))}var xh=Kt(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]});function wh(n,e,t){var r=M(n)?Sr:hu,i=arguments.length<3;return r(n,I(e,4),t,i,ge)}function Eh(n,e,t){var r=M(n)?Ol:hu,i=arguments.length<3;return r(n,I(e,4),t,i,Lu)}function bh(n,e){var t=M(n)?ae:Ou;return t(n,tr(I(e,3)))}function yh(n){var e=M(n)?$u:da;return e(n)}function Ah(n,e,t){(t?yn(n,e,t):e===s)?e=1:e=W(e);var r=M(n)?Zo:_a;return r(n,e)}function Th(n){var e=M(n)?Yo:ma;return e(n)}function Sh(n){if(n==null)return 0;if(Sn(n))return ir(n)?Fe(n):n.length;var e=En(n);return e==qn||e==Kn?n.size:zr(n).length}function $h(n,e,t){var r=M(n)?$r:xa;return t&&yn(n,e,t)&&(e=s),r(n,I(e,3))}var Ih=N(function(n,e){if(n==null)return[];var t=e.length;return t>1&&yn(n,e[0],e[1])?e=[]:t>2&&yn(e[0],e[1],e[2])&&(e=[e[0]]),Hu(n,xn(e,1),[])}),nr=so||function(){return mn.Date.now()};function Ch(n,e){if(typeof e!="function")throw new Wn(T);return n=W(n),function(){if(--n<1)return e.apply(this,arguments)}}function Wf(n,e,t){return e=t?s:e,e=n&&e==null?n.length:e,re(n,en,s,s,s,s,e)}function Df(n,e){var t;if(typeof e!="function")throw new Wn(T);return n=W(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=s),t}}var di=N(function(n,e,t){var r=z;if(t.length){var i=he(t,He(di));r|=Q}return re(n,r,e,t,i)}),Nf=N(function(n,e,t){var r=z|U;if(t.length){var i=he(t,He(Nf));r|=Q}return re(e,r,n,t,i)});function Uf(n,e,t){e=t?s:e;var r=re(n,F,s,s,s,s,s,e);return r.placeholder=Uf.placeholder,r}function Gf(n,e,t){e=t?s:e;var r=re(n,un,s,s,s,s,s,e);return r.placeholder=Gf.placeholder,r}function Hf(n,e,t){var r,i,f,l,o,c,g=0,d=!1,v=!1,x=!0;if(typeof n!="function")throw new Wn(T);e=Hn(e)||0,ln(t)&&(d=!!t.leading,v="maxWait"in t,f=v?dn(Hn(t.maxWait)||0,e):f,x="trailing"in t?!!t.trailing:x);function S(cn){var Xn=r,le=i;return r=i=s,g=cn,l=n.apply(le,Xn),l}function C(cn){return g=cn,o=ct(H,e),d?S(cn):l}function D(cn){var Xn=cn-c,le=cn-g,ss=e-Xn;return v?wn(ss,f-le):ss}function R(cn){var Xn=cn-c,le=cn-g;return c===s||Xn>=e||Xn<0||v&&le>=f}function H(){var cn=nr();if(R(cn))return Z(cn);o=ct(H,D(cn))}function Z(cn){return o=s,x&&r?S(cn):(r=i=s,l)}function Pn(){o!==s&&Qu(o),g=0,r=c=i=o=s}function An(){return o===s?l:Z(nr())}function Fn(){var cn=nr(),Xn=R(cn);if(r=arguments,i=this,c=cn,Xn){if(o===s)return C(c);if(v)return Qu(o),o=ct(H,e),S(c)}return o===s&&(o=ct(H,e)),l}return Fn.cancel=Pn,Fn.flush=An,Fn}var Rh=N(function(n,e){return Ru(n,1,e)}),Lh=N(function(n,e,t){return Ru(n,Hn(e)||0,t)});function Oh(n){return re(n,fr)}function er(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new Wn(T);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],f=t.cache;if(f.has(i))return f.get(i);var l=n.apply(this,r);return t.cache=f.set(i,l)||f,l};return t.cache=new(er.Cache||ee),t}er.Cache=ee;function tr(n){if(typeof n!="function")throw new Wn(T);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function Ph(n){return Df(2,n)}var Fh=wa(function(n,e){e=e.length==1&&M(e[0])?fn(e[0],Rn(I())):fn(xn(e,1),Rn(I()));var t=e.length;return N(function(r){for(var i=-1,f=wn(r.length,t);++i<f;)r[i]=e[i].call(this,r[i]);return Cn(n,this,r)})}),_i=N(function(n,e){var t=he(e,He(_i));return re(n,Q,s,e,t)}),qf=N(function(n,e){var t=he(e,He(qf));return re(n,j,s,e,t)}),Mh=ie(function(n,e){return re(n,sn,s,s,s,e)});function Bh(n,e){if(typeof n!="function")throw new Wn(T);return e=e===s?e:W(e),N(n,e)}function Wh(n,e){if(typeof n!="function")throw new Wn(T);return e=e==null?0:dn(W(e),0),N(function(t){var r=t[e],i=ve(t,0,e);return r&&ce(i,r),Cn(n,this,i)})}function Dh(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new Wn(T);return ln(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Hf(n,e,{leading:r,maxWait:e,trailing:i})}function Nh(n){return Wf(n,1)}function Uh(n,e){return _i(ni(e),n)}function Gh(){if(!arguments.length)return[];var n=arguments[0];return M(n)?n:[n]}function Hh(n){return Nn(n,w)}function qh(n,e){return e=typeof e=="function"?e:s,Nn(n,w,e)}function Kh(n){return Nn(n,q|w)}function zh(n,e){return e=typeof e=="function"?e:s,Nn(n,q|w,e)}function Zh(n,e){return e==null||Cu(n,e,vn(e))}function Yn(n,e){return n===e||n!==n&&e!==e}var Yh=Xt(Hr),Xh=Xt(function(n,e){return n>=e}),Ie=Mu(function(){return arguments}())?Mu:function(n){return on(n)&&V.call(n,"callee")&&!Eu.call(n,"callee")},M=h.isArray,Jh=tu?Rn(tu):ra;function Sn(n){return n!=null&&rr(n.length)&&!fe(n)}function an(n){return on(n)&&Sn(n)}function Vh(n){return n===!0||n===!1||on(n)&&bn(n)==ze}var me=oo||$i,Qh=ru?Rn(ru):ia;function kh(n){return on(n)&&n.nodeType===1&&!ht(n)}function jh(n){if(n==null)return!0;if(Sn(n)&&(M(n)||typeof n=="string"||typeof n.splice=="function"||me(n)||qe(n)||Ie(n)))return!n.length;var e=En(n);if(e==qn||e==Kn)return!n.size;if(at(n))return!zr(n).length;for(var t in n)if(V.call(n,t))return!1;return!0}function np(n,e){return st(n,e)}function ep(n,e,t){t=typeof t=="function"?t:s;var r=t?t(n,e):s;return r===s?st(n,e,s,t):!!r}function vi(n){if(!on(n))return!1;var e=bn(n);return e==dt||e==bs||typeof n.message=="string"&&typeof n.name=="string"&&!ht(n)}function tp(n){return typeof n=="number"&&yu(n)}function fe(n){if(!ln(n))return!1;var e=bn(n);return e==_t||e==Ri||e==Es||e==As}function Kf(n){return typeof n=="number"&&n==W(n)}function rr(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=oe}function ln(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function on(n){return n!=null&&typeof n=="object"}var zf=iu?Rn(iu):fa;function rp(n,e){return n===e||Kr(n,e,si(e))}function ip(n,e,t){return t=typeof t=="function"?t:s,Kr(n,e,si(e),t)}function up(n){return Zf(n)&&n!=+n}function fp(n){if(qa(n))throw new P(L);return Bu(n)}function sp(n){return n===null}function lp(n){return n==null}function Zf(n){return typeof n=="number"||on(n)&&bn(n)==Ye}function ht(n){if(!on(n)||bn(n)!=jn)return!1;var e=Rt(n);if(e===null)return!0;var t=V.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&St.call(t)==ro}var mi=uu?Rn(uu):sa;function op(n){return Kf(n)&&n>=-oe&&n<=oe}var Yf=fu?Rn(fu):la;function ir(n){return typeof n=="string"||!M(n)&&on(n)&&bn(n)==Je}function On(n){return typeof n=="symbol"||on(n)&&bn(n)==vt}var qe=su?Rn(su):oa;function ap(n){return n===s}function cp(n){return on(n)&&En(n)==Ve}function hp(n){return on(n)&&bn(n)==Ss}var pp=Xt(Zr),gp=Xt(function(n,e){return n<=e});function Xf(n){if(!n)return[];if(Sn(n))return ir(n)?zn(n):Tn(n);if(je&&n[je])return zl(n[je]());var e=En(n),t=e==qn?Pr:e==Kn?yt:Ke;return t(n)}function se(n){if(!n)return n===0?n:0;if(n=Hn(n),n===xe||n===-xe){var e=n<0?-1:1;return e*vs}return n===n?n:0}function W(n){var e=se(n),t=e%1;return e===e?t?e-t:e:0}function Jf(n){return n?Ae(W(n),0,Jn):0}function Hn(n){if(typeof n=="number")return n;if(On(n))return pt;if(ln(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=ln(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=pu(n);var t=Ys.test(n);return t||Js.test(n)?Il(n.slice(2),t?2:8):Zs.test(n)?pt:+n}function Vf(n){return Qn(n,$n(n))}function dp(n){return n?Ae(W(n),-oe,oe):n===0?n:0}function J(n){return n==null?"":Ln(n)}var _p=Ue(function(n,e){if(at(e)||Sn(e)){Qn(e,vn(e),n);return}for(var t in e)V.call(e,t)&&it(n,t,e[t])}),Qf=Ue(function(n,e){Qn(e,$n(e),n)}),ur=Ue(function(n,e,t,r){Qn(e,$n(e),n,r)}),vp=Ue(function(n,e,t,r){Qn(e,vn(e),n,r)}),mp=ie(Nr);function xp(n,e){var t=Ne(n);return e==null?t:Iu(t,e)}var wp=N(function(n,e){n=k(n);var t=-1,r=e.length,i=r>2?e[2]:s;for(i&&yn(e[0],e[1],i)&&(r=1);++t<r;)for(var f=e[t],l=$n(f),o=-1,c=l.length;++o<c;){var g=l[o],d=n[g];(d===s||Yn(d,Be[g])&&!V.call(n,g))&&(n[g]=f[g])}return n}),Ep=N(function(n){return n.push(s,gf),Cn(kf,s,n)});function bp(n,e){return ou(n,I(e,3),Vn)}function yp(n,e){return ou(n,I(e,3),Gr)}function Ap(n,e){return n==null?n:Ur(n,I(e,3),$n)}function Tp(n,e){return n==null?n:Pu(n,I(e,3),$n)}function Sp(n,e){return n&&Vn(n,I(e,3))}function $p(n,e){return n&&Gr(n,I(e,3))}function Ip(n){return n==null?[]:Ut(n,vn(n))}function Cp(n){return n==null?[]:Ut(n,$n(n))}function xi(n,e,t){var r=n==null?s:Te(n,e);return r===s?t:r}function Rp(n,e){return n!=null&&vf(n,e,jo)}function wi(n,e){return n!=null&&vf(n,e,na)}var Lp=of(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=$t.call(e)),n[e]=t},bi(In)),Op=of(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=$t.call(e)),V.call(n,e)?n[e].push(t):n[e]=[t]},I),Pp=N(ft);function vn(n){return Sn(n)?Su(n):zr(n)}function $n(n){return Sn(n)?Su(n,!0):aa(n)}function Fp(n,e){var t={};return e=I(e,3),Vn(n,function(r,i,f){te(t,e(r,i,f),r)}),t}function Mp(n,e){var t={};return e=I(e,3),Vn(n,function(r,i,f){te(t,i,e(r,i,f))}),t}var Bp=Ue(function(n,e,t){Gt(n,e,t)}),kf=Ue(function(n,e,t,r){Gt(n,e,t,r)}),Wp=ie(function(n,e){var t={};if(n==null)return t;var r=!1;e=fn(e,function(f){return f=_e(f,n),r||(r=f.length>1),f}),Qn(n,ui(n),t),r&&(t=Nn(t,q|$|w,La));for(var i=e.length;i--;)Qr(t,e[i]);return t});function Dp(n,e){return jf(n,tr(I(e)))}var Np=ie(function(n,e){return n==null?{}:ha(n,e)});function jf(n,e){if(n==null)return{};var t=fn(ui(n),function(r){return[r]});return e=I(e),qu(n,t,function(r,i){return e(r,i[0])})}function Up(n,e,t){e=_e(e,n);var r=-1,i=e.length;for(i||(i=1,n=s);++r<i;){var f=n==null?s:n[kn(e[r])];f===s&&(r=i,f=t),n=fe(f)?f.call(n):f}return n}function Gp(n,e,t){return n==null?n:lt(n,e,t)}function Hp(n,e,t,r){return r=typeof r=="function"?r:s,n==null?n:lt(n,e,t,r)}var ns=hf(vn),es=hf($n);function qp(n,e,t){var r=M(n),i=r||me(n)||qe(n);if(e=I(e,4),t==null){var f=n&&n.constructor;i?t=r?new f:[]:ln(n)?t=fe(f)?Ne(Rt(n)):{}:t={}}return(i?Bn:Vn)(n,function(l,o,c){return e(t,l,o,c)}),t}function Kp(n,e){return n==null?!0:Qr(n,e)}function zp(n,e,t){return n==null?n:Xu(n,e,ni(t))}function Zp(n,e,t,r){return r=typeof r=="function"?r:s,n==null?n:Xu(n,e,ni(t),r)}function Ke(n){return n==null?[]:Or(n,vn(n))}function Yp(n){return n==null?[]:Or(n,$n(n))}function Xp(n,e,t){return t===s&&(t=e,e=s),t!==s&&(t=Hn(t),t=t===t?t:0),e!==s&&(e=Hn(e),e=e===e?e:0),Ae(Hn(n),e,t)}function Jp(n,e,t){return e=se(e),t===s?(t=e,e=0):t=se(t),n=Hn(n),ea(n,e,t)}function Vp(n,e,t){if(t&&typeof t!="boolean"&&yn(n,e,t)&&(e=t=s),t===s&&(typeof e=="boolean"?(t=e,e=s):typeof n=="boolean"&&(t=n,n=s)),n===s&&e===s?(n=0,e=1):(n=se(n),e===s?(e=n,n=0):e=se(e)),n>e){var r=n;n=e,e=r}if(t||n%1||e%1){var i=Au();return wn(n+i*(e-n+$l("1e-"+((i+"").length-1))),e)}return Xr(n,e)}var Qp=Ge(function(n,e,t){return e=e.toLowerCase(),n+(t?ts(e):e)});function ts(n){return Ei(J(n).toLowerCase())}function rs(n){return n=J(n),n&&n.replace(Qs,Ul).replace(vl,"")}function kp(n,e,t){n=J(n),e=Ln(e);var r=n.length;t=t===s?r:Ae(W(t),0,r);var i=t;return t-=e.length,t>=0&&n.slice(t,i)==e}function jp(n){return n=J(n),n&&Ls.test(n)?n.replace(Pi,Gl):n}function ng(n){return n=J(n),n&&Ws.test(n)?n.replace(_r,"\\$&"):n}var eg=Ge(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()}),tg=Ge(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()}),rg=ff("toLowerCase");function ig(n,e,t){n=J(n),e=W(e);var r=e?Fe(n):0;if(!e||r>=e)return n;var i=(e-r)/2;return Yt(Ft(i),t)+n+Yt(Pt(i),t)}function ug(n,e,t){n=J(n),e=W(e);var r=e?Fe(n):0;return e&&r<e?n+Yt(e-r,t):n}function fg(n,e,t){n=J(n),e=W(e);var r=e?Fe(n):0;return e&&r<e?Yt(e-r,t)+n:n}function sg(n,e,t){return t||e==null?e=0:e&&(e=+e),po(J(n).replace(vr,""),e||0)}function lg(n,e,t){return(t?yn(n,e,t):e===s)?e=1:e=W(e),Jr(J(n),e)}function og(){var n=arguments,e=J(n[0]);return n.length<3?e:e.replace(n[1],n[2])}var ag=Ge(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});function cg(n,e,t){return t&&typeof t!="number"&&yn(n,e,t)&&(e=t=s),t=t===s?Jn:t>>>0,t?(n=J(n),n&&(typeof e=="string"||e!=null&&!mi(e))&&(e=Ln(e),!e&&Pe(n))?ve(zn(n),0,t):n.split(e,t)):[]}var hg=Ge(function(n,e,t){return n+(t?" ":"")+Ei(e)});function pg(n,e,t){return n=J(n),t=t==null?0:Ae(W(t),0,n.length),e=Ln(e),n.slice(t,t+e.length)==e}function gg(n,e,t){var r=u.templateSettings;t&&yn(n,e,t)&&(e=s),n=J(n),e=ur({},e,r,pf);var i=ur({},e.imports,r.imports,pf),f=vn(i),l=Or(i,f),o,c,g=0,d=e.interpolate||mt,v="__p += '",x=Fr((e.escape||mt).source+"|"+d.source+"|"+(d===Fi?zs:mt).source+"|"+(e.evaluate||mt).source+"|$","g"),S="//# sourceURL="+(V.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bl+"]")+`
`;n.replace(x,function(R,H,Z,Pn,An,Fn){return Z||(Z=Pn),v+=n.slice(g,Fn).replace(ks,Hl),H&&(o=!0,v+=`' +
__e(`+H+`) +
'`),An&&(c=!0,v+=`';
`+An+`;
__p += '`),Z&&(v+=`' +
((__t = (`+Z+`)) == null ? '' : __t) +
'`),g=Fn+R.length,R}),v+=`';
`;var C=V.call(e,"variable")&&e.variable;if(!C)v=`with (obj) {
`+v+`
}
`;else if(qs.test(C))throw new P(hn);v=(c?v.replace($s,""):v).replace(Is,"$1").replace(Cs,"$1;"),v="function("+(C||"obj")+`) {
`+(C?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(o?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+v+`return __p
}`;var D=us(function(){return X(f,S+"return "+v).apply(s,l)});if(D.source=v,vi(D))throw D;return D}function dg(n){return J(n).toLowerCase()}function _g(n){return J(n).toUpperCase()}function vg(n,e,t){if(n=J(n),n&&(t||e===s))return pu(n);if(!n||!(e=Ln(e)))return n;var r=zn(n),i=zn(e),f=gu(r,i),l=du(r,i)+1;return ve(r,f,l).join("")}function mg(n,e,t){if(n=J(n),n&&(t||e===s))return n.slice(0,vu(n)+1);if(!n||!(e=Ln(e)))return n;var r=zn(n),i=du(r,zn(e))+1;return ve(r,0,i).join("")}function xg(n,e,t){if(n=J(n),n&&(t||e===s))return n.replace(vr,"");if(!n||!(e=Ln(e)))return n;var r=zn(n),i=gu(r,zn(e));return ve(r,i).join("")}function wg(n,e){var t=cs,r=hs;if(ln(e)){var i="separator"in e?e.separator:i;t="length"in e?W(e.length):t,r="omission"in e?Ln(e.omission):r}n=J(n);var f=n.length;if(Pe(n)){var l=zn(n);f=l.length}if(t>=f)return n;var o=t-Fe(r);if(o<1)return r;var c=l?ve(l,0,o).join(""):n.slice(0,o);if(i===s)return c+r;if(l&&(o+=c.length-o),mi(i)){if(n.slice(o).search(i)){var g,d=c;for(i.global||(i=Fr(i.source,J(Mi.exec(i))+"g")),i.lastIndex=0;g=i.exec(d);)var v=g.index;c=c.slice(0,v===s?o:v)}}else if(n.indexOf(Ln(i),o)!=o){var x=c.lastIndexOf(i);x>-1&&(c=c.slice(0,x))}return c+r}function Eg(n){return n=J(n),n&&Rs.test(n)?n.replace(Oi,Jl):n}var bg=Ge(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()}),Ei=ff("toUpperCase");function is(n,e,t){return n=J(n),e=t?s:e,e===s?Kl(n)?kl(n):Ml(n):n.match(e)||[]}var us=N(function(n,e){try{return Cn(n,s,e)}catch(t){return vi(t)?t:new P(t)}}),yg=ie(function(n,e){return Bn(e,function(t){t=kn(t),te(n,t,di(n[t],n))}),n});function Ag(n){var e=n==null?0:n.length,t=I();return n=e?fn(n,function(r){if(typeof r[1]!="function")throw new Wn(T);return[t(r[0]),r[1]]}):[],N(function(r){for(var i=-1;++i<e;){var f=n[i];if(Cn(f[0],this,r))return Cn(f[1],this,r)}})}function Tg(n){return Vo(Nn(n,q))}function bi(n){return function(){return n}}function Sg(n,e){return n==null||n!==n?e:n}var $g=lf(),Ig=lf(!0);function In(n){return n}function yi(n){return Wu(typeof n=="function"?n:Nn(n,q))}function Cg(n){return Nu(Nn(n,q))}function Rg(n,e){return Uu(n,Nn(e,q))}var Lg=N(function(n,e){return function(t){return ft(t,n,e)}}),Og=N(function(n,e){return function(t){return ft(n,t,e)}});function Ai(n,e,t){var r=vn(e),i=Ut(e,r);t==null&&!(ln(e)&&(i.length||!r.length))&&(t=e,e=n,n=this,i=Ut(e,vn(e)));var f=!(ln(t)&&"chain"in t)||!!t.chain,l=fe(n);return Bn(i,function(o){var c=e[o];n[o]=c,l&&(n.prototype[o]=function(){var g=this.__chain__;if(f||g){var d=n(this.__wrapped__),v=d.__actions__=Tn(this.__actions__);return v.push({func:c,args:arguments,thisArg:n}),d.__chain__=g,d}return c.apply(n,ce([this.value()],arguments))})}),n}function Pg(){return mn._===this&&(mn._=io),this}function Ti(){}function Fg(n){return n=W(n),N(function(e){return Gu(e,n)})}var Mg=ti(fn),Bg=ti(lu),Wg=ti($r);function fs(n){return oi(n)?Ir(kn(n)):pa(n)}function Dg(n){return function(e){return n==null?s:Te(n,e)}}var Ng=af(),Ug=af(!0);function Si(){return[]}function $i(){return!1}function Gg(){return{}}function Hg(){return""}function qg(){return!0}function Kg(n,e){if(n=W(n),n<1||n>oe)return[];var t=Jn,r=wn(n,Jn);e=I(e),n-=Jn;for(var i=Lr(r,e);++t<n;)e(t);return i}function zg(n){return M(n)?fn(n,kn):On(n)?[n]:Tn(Sf(J(n)))}function Zg(n){var e=++to;return J(n)+e}var Yg=Zt(function(n,e){return n+e},0),Xg=ri("ceil"),Jg=Zt(function(n,e){return n/e},1),Vg=ri("floor");function Qg(n){return n&&n.length?Nt(n,In,Hr):s}function kg(n,e){return n&&n.length?Nt(n,I(e,2),Hr):s}function jg(n){return cu(n,In)}function nd(n,e){return cu(n,I(e,2))}function ed(n){return n&&n.length?Nt(n,In,Zr):s}function td(n,e){return n&&n.length?Nt(n,I(e,2),Zr):s}var rd=Zt(function(n,e){return n*e},1),id=ri("round"),ud=Zt(function(n,e){return n-e},0);function fd(n){return n&&n.length?Rr(n,In):0}function sd(n,e){return n&&n.length?Rr(n,I(e,2)):0}return u.after=Ch,u.ary=Wf,u.assign=_p,u.assignIn=Qf,u.assignInWith=ur,u.assignWith=vp,u.at=mp,u.before=Df,u.bind=di,u.bindAll=yg,u.bindKey=Nf,u.castArray=Gh,u.chain=Ff,u.chunk=Va,u.compact=Qa,u.concat=ka,u.cond=Ag,u.conforms=Tg,u.constant=bi,u.countBy=fh,u.create=xp,u.curry=Uf,u.curryRight=Gf,u.debounce=Hf,u.defaults=wp,u.defaultsDeep=Ep,u.defer=Rh,u.delay=Lh,u.difference=ja,u.differenceBy=nc,u.differenceWith=ec,u.drop=tc,u.dropRight=rc,u.dropRightWhile=ic,u.dropWhile=uc,u.fill=fc,u.filter=lh,u.flatMap=ch,u.flatMapDeep=hh,u.flatMapDepth=ph,u.flatten=Rf,u.flattenDeep=sc,u.flattenDepth=lc,u.flip=Oh,u.flow=$g,u.flowRight=Ig,u.fromPairs=oc,u.functions=Ip,u.functionsIn=Cp,u.groupBy=gh,u.initial=cc,u.intersection=hc,u.intersectionBy=pc,u.intersectionWith=gc,u.invert=Lp,u.invertBy=Op,u.invokeMap=_h,u.iteratee=yi,u.keyBy=vh,u.keys=vn,u.keysIn=$n,u.map=jt,u.mapKeys=Fp,u.mapValues=Mp,u.matches=Cg,u.matchesProperty=Rg,u.memoize=er,u.merge=Bp,u.mergeWith=kf,u.method=Lg,u.methodOf=Og,u.mixin=Ai,u.negate=tr,u.nthArg=Fg,u.omit=Wp,u.omitBy=Dp,u.once=Ph,u.orderBy=mh,u.over=Mg,u.overArgs=Fh,u.overEvery=Bg,u.overSome=Wg,u.partial=_i,u.partialRight=qf,u.partition=xh,u.pick=Np,u.pickBy=jf,u.property=fs,u.propertyOf=Dg,u.pull=mc,u.pullAll=Of,u.pullAllBy=xc,u.pullAllWith=wc,u.pullAt=Ec,u.range=Ng,u.rangeRight=Ug,u.rearg=Mh,u.reject=bh,u.remove=bc,u.rest=Bh,u.reverse=pi,u.sampleSize=Ah,u.set=Gp,u.setWith=Hp,u.shuffle=Th,u.slice=yc,u.sortBy=Ih,u.sortedUniq=Rc,u.sortedUniqBy=Lc,u.split=cg,u.spread=Wh,u.tail=Oc,u.take=Pc,u.takeRight=Fc,u.takeRightWhile=Mc,u.takeWhile=Bc,u.tap=Qc,u.throttle=Dh,u.thru=kt,u.toArray=Xf,u.toPairs=ns,u.toPairsIn=es,u.toPath=zg,u.toPlainObject=Vf,u.transform=qp,u.unary=Nh,u.union=Wc,u.unionBy=Dc,u.unionWith=Nc,u.uniq=Uc,u.uniqBy=Gc,u.uniqWith=Hc,u.unset=Kp,u.unzip=gi,u.unzipWith=Pf,u.update=zp,u.updateWith=Zp,u.values=Ke,u.valuesIn=Yp,u.without=qc,u.words=is,u.wrap=Uh,u.xor=Kc,u.xorBy=zc,u.xorWith=Zc,u.zip=Yc,u.zipObject=Xc,u.zipObjectDeep=Jc,u.zipWith=Vc,u.entries=ns,u.entriesIn=es,u.extend=Qf,u.extendWith=ur,Ai(u,u),u.add=Yg,u.attempt=us,u.camelCase=Qp,u.capitalize=ts,u.ceil=Xg,u.clamp=Xp,u.clone=Hh,u.cloneDeep=Kh,u.cloneDeepWith=zh,u.cloneWith=qh,u.conformsTo=Zh,u.deburr=rs,u.defaultTo=Sg,u.divide=Jg,u.endsWith=kp,u.eq=Yn,u.escape=jp,u.escapeRegExp=ng,u.every=sh,u.find=oh,u.findIndex=If,u.findKey=bp,u.findLast=ah,u.findLastIndex=Cf,u.findLastKey=yp,u.floor=Vg,u.forEach=Mf,u.forEachRight=Bf,u.forIn=Ap,u.forInRight=Tp,u.forOwn=Sp,u.forOwnRight=$p,u.get=xi,u.gt=Yh,u.gte=Xh,u.has=Rp,u.hasIn=wi,u.head=Lf,u.identity=In,u.includes=dh,u.indexOf=ac,u.inRange=Jp,u.invoke=Pp,u.isArguments=Ie,u.isArray=M,u.isArrayBuffer=Jh,u.isArrayLike=Sn,u.isArrayLikeObject=an,u.isBoolean=Vh,u.isBuffer=me,u.isDate=Qh,u.isElement=kh,u.isEmpty=jh,u.isEqual=np,u.isEqualWith=ep,u.isError=vi,u.isFinite=tp,u.isFunction=fe,u.isInteger=Kf,u.isLength=rr,u.isMap=zf,u.isMatch=rp,u.isMatchWith=ip,u.isNaN=up,u.isNative=fp,u.isNil=lp,u.isNull=sp,u.isNumber=Zf,u.isObject=ln,u.isObjectLike=on,u.isPlainObject=ht,u.isRegExp=mi,u.isSafeInteger=op,u.isSet=Yf,u.isString=ir,u.isSymbol=On,u.isTypedArray=qe,u.isUndefined=ap,u.isWeakMap=cp,u.isWeakSet=hp,u.join=dc,u.kebabCase=eg,u.last=Gn,u.lastIndexOf=_c,u.lowerCase=tg,u.lowerFirst=rg,u.lt=pp,u.lte=gp,u.max=Qg,u.maxBy=kg,u.mean=jg,u.meanBy=nd,u.min=ed,u.minBy=td,u.stubArray=Si,u.stubFalse=$i,u.stubObject=Gg,u.stubString=Hg,u.stubTrue=qg,u.multiply=rd,u.nth=vc,u.noConflict=Pg,u.noop=Ti,u.now=nr,u.pad=ig,u.padEnd=ug,u.padStart=fg,u.parseInt=sg,u.random=Vp,u.reduce=wh,u.reduceRight=Eh,u.repeat=lg,u.replace=og,u.result=Up,u.round=id,u.runInContext=a,u.sample=yh,u.size=Sh,u.snakeCase=ag,u.some=$h,u.sortedIndex=Ac,u.sortedIndexBy=Tc,u.sortedIndexOf=Sc,u.sortedLastIndex=$c,u.sortedLastIndexBy=Ic,u.sortedLastIndexOf=Cc,u.startCase=hg,u.startsWith=pg,u.subtract=ud,u.sum=fd,u.sumBy=sd,u.template=gg,u.times=Kg,u.toFinite=se,u.toInteger=W,u.toLength=Jf,u.toLower=dg,u.toNumber=Hn,u.toSafeInteger=dp,u.toString=J,u.toUpper=_g,u.trim=vg,u.trimEnd=mg,u.trimStart=xg,u.truncate=wg,u.unescape=Eg,u.uniqueId=Zg,u.upperCase=bg,u.upperFirst=Ei,u.each=Mf,u.eachRight=Bf,u.first=Lf,Ai(u,function(){var n={};return Vn(u,function(e,t){V.call(u.prototype,t)||(n[t]=e)}),n}(),{chain:!1}),u.VERSION=B,Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){u[n].placeholder=u}),Bn(["drop","take"],function(n,e){K.prototype[n]=function(t){t=t===s?1:dn(W(t),0);var r=this.__filtered__&&!e?new K(this):this.clone();return r.__filtered__?r.__takeCount__=wn(t,r.__takeCount__):r.__views__.push({size:wn(t,Jn),type:n+(r.__dir__<0?"Right":"")}),r},K.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Bn(["filter","map","takeWhile"],function(n,e){var t=e+1,r=t==Ci||t==_s;K.prototype[n]=function(i){var f=this.clone();return f.__iteratees__.push({iteratee:I(i,3),type:t}),f.__filtered__=f.__filtered__||r,f}}),Bn(["head","last"],function(n,e){var t="take"+(e?"Right":"");K.prototype[n]=function(){return this[t](1).value()[0]}}),Bn(["initial","tail"],function(n,e){var t="drop"+(e?"":"Right");K.prototype[n]=function(){return this.__filtered__?new K(this):this[t](1)}}),K.prototype.compact=function(){return this.filter(In)},K.prototype.find=function(n){return this.filter(n).head()},K.prototype.findLast=function(n){return this.reverse().find(n)},K.prototype.invokeMap=N(function(n,e){return typeof n=="function"?new K(this):this.map(function(t){return ft(t,n,e)})}),K.prototype.reject=function(n){return this.filter(tr(I(n)))},K.prototype.slice=function(n,e){n=W(n);var t=this;return t.__filtered__&&(n>0||e<0)?new K(t):(n<0?t=t.takeRight(-n):n&&(t=t.drop(n)),e!==s&&(e=W(e),t=e<0?t.dropRight(-e):t.take(e-n)),t)},K.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},K.prototype.toArray=function(){return this.take(Jn)},Vn(K.prototype,function(n,e){var t=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=u[r?"take"+(e=="last"?"Right":""):e],f=r||/^find/.test(e);!i||(u.prototype[e]=function(){var l=this.__wrapped__,o=r?[1]:arguments,c=l instanceof K,g=o[0],d=c||M(l),v=function(H){var Z=i.apply(u,ce([H],o));return r&&x?Z[0]:Z};d&&t&&typeof g=="function"&&g.length!=1&&(c=d=!1);var x=this.__chain__,S=!!this.__actions__.length,C=f&&!x,D=c&&!S;if(!f&&d){l=D?l:new K(this);var R=n.apply(l,o);return R.__actions__.push({func:kt,args:[v],thisArg:s}),new Dn(R,x)}return C&&D?n.apply(this,o):(R=this.thru(v),C?r?R.value()[0]:R.value():R)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(n){var e=At[n],t=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);u.prototype[n]=function(){var i=arguments;if(r&&!this.__chain__){var f=this.value();return e.apply(M(f)?f:[],i)}return this[t](function(l){return e.apply(M(l)?l:[],i)})}}),Vn(K.prototype,function(n,e){var t=u[e];if(t){var r=t.name+"";V.call(De,r)||(De[r]=[]),De[r].push({name:e,func:t})}}),De[zt(s,U).name]=[{name:"wrapper",func:s}],K.prototype.clone=Eo,K.prototype.reverse=bo,K.prototype.value=yo,u.prototype.at=kc,u.prototype.chain=jc,u.prototype.commit=nh,u.prototype.next=eh,u.prototype.plant=rh,u.prototype.reverse=ih,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=uh,u.prototype.first=u.prototype.head,je&&(u.prototype[je]=th),u},Me=jl();we?((we.exports=Me)._=Me,yr._=Me):mn._=Me}).call(commonjsGlobal)})(lodash,lodash.exports);var _=lodash.exports;const isObject=A=>A!==null&&typeof A=="object",getFromPath=(A,m)=>m.split(".").reduce((s,B)=>s[B],A),setByPath=(A,m,s)=>(Object(A)!==A||(Array.isArray(m)||(m=m.toString().match(/[^.[\]]+/g)||[]),m.slice(0,-1).reduce((B,y,L)=>Object(B[y])===B[y]?B[y]:B[y]=Math.abs(Number.parseInt(m[L+1]))>>0==+m[L+1]?[]:{},A)[m[m.length-1]]=s),A);function AsPuya(A){return class extends A{constructor(...m){super(...m);_n(this,"$$context",{});_n(this,"setByPath",(m,s,B)=>{Array.isArray(m)||(m=m.toString().match(/[^.[\]]+/g)||[]),m.slice(0,-1).reduce((y,L,T)=>Object(y[L])===y[L]?y[L]:y[L]=Math.abs(Number.parseInt(m[T+1]))>>0==+m[T+1]?[]:{},this.$$context)[m[m.length-1]]=s});var B;const s=(y=[])=>({get:(L,T)=>T=="isProxy"?!0:typeof L[T]=="object"&&L[T]!=null?new Proxy(L[T],s([...y,T])):L[T],set:(L,T,hn)=>{var O,q,$,w,b;L[T]=hn,(O=this.$$subscribes[""])==null||O.forEach(G=>{G.fn(this)});const rn=[...y,T];typeof rn[0]=="string"&&(($=(q=this.$$subscribes)==null?void 0:q[rn[0]])==null||$.forEach(G=>{try{G.fn(L)}catch{}}));let pn="";for(let G of rn.slice(1))pn+=(pn?".":"")+G,(b=(w=this.$$subscribes)==null?void 0:w[rn[0]+"."+pn])==null||b.forEach(z=>{const U=getFromPath(L,pn);z.fn(U)});return!0}});(B=Object.keys(this).filter(y=>y[0]!=="$"&&typeof this[y]!="function"))==null||B.forEach(y=>{const L=this[y];this[y]&&(this.$$context[y]=this[y]),Object.defineProperty(this,y,{get:()=>this.$$context[y],set:T=>{var hn,rn;isObject(T)?(this.$$context["$_"+y]=T,this.$$context[y]=new Proxy(this.$$context["$_"+y],s([y]))):this.$$context[y]=T,(hn=this.$$subscribes[""])==null||hn.forEach(pn=>{pn.fn(this)}),(rn=this.$$subscribes[y])==null||rn.forEach(pn=>{pn.fn(T)})},configurable:!1}),isObject(this[y])&&(this[y]=this.$$context[y]),this[y]=L})}}}class Puya{constructor(){_n(this,"$$subscribes",{});_n(this,"$$ctx",{});_n(this,"$id");_n(this,"$$beforeMountListeners",{});this.$id=nanoid(5),setTimeout(()=>{Object.values(this.$$beforeMountListeners).forEach(m=>{typeof m=="function"&&m()}),this.beforeMount()},10)}addSubscribe(m="",s,B,y=0){if(typeof m=="string"){const L=m,T=s,hn=B,rn=nanoid(5);return this.$$subscribes[L]=[...this.$$subscribes[L]?this.$$subscribes[L]:[],{class:hn,fn:y?_.throttle(T,y):T,id:rn}],rn}else{const L=m,T=s;y=B;const hn=nanoid(5);return this.$$subscribes[""]=[...this.$$subscribes[""]?this.$$subscribes[""]:[],{class:T,fn:y?_.throttle(L,y):L,id:hn}],hn}}removeSubscribeByClass(m){Object.keys(this.$$subscribes).forEach(s=>{this.$$subscribes[s]=this.$$subscribes[s].filter(B=>B.class!==m)})}render(){}addBeforeMountListener(m){const s=nanoid(5);return this.$$beforeMountListeners[s]=m,s}beforeMount(){}}class ForDirective{constructor(m){this.bvrElement=m}render(m,s,B){var $;const y=m;let L=[];const T=($=y.attribs.exp.match(/[$](\w)+/g))==null?void 0:$.join(","),hn=y.attribs.exp.replace(/this(.\w)+/,w=>{const b=w.replace("this.","");return this.bvrElement.addSubscribe(b,()=>q(),B),w.replace(/this./,"that.")});console.log("for vars",T);const rn=`
                    var that = this;
                    const {${Object.keys(s).join(",")}} = ${JSON.stringify(s)}
                    const elements = []
                    for( ${hn} ){
                        elements.push(...tEl.children.map((tChild)=>{
                            console.log('vars', {${T}})
                            return appendElFromTemplate(those, tChild, elem, {${T}}, scopeId)
                        }))
                    }
                    return elements;
                    `,pn=["appendElFromTemplate,those,tEl,elem,scopeId",rn];let O;const q=()=>{var Y;O&&this.bvrElement.removeSubscribeByClass(O);function w(F){for(var un=[],Q=[F];Q.length>0;)for(var j=Q.pop(),en=0;en<((j==null?void 0:j.childNodes.length)||0);en++){var sn=j==null?void 0:j.childNodes[en];(sn==null?void 0:sn.nodeType)===Node.COMMENT_NODE&&sn instanceof Comment?un.push(sn):Q.push(sn)}return un}let b,G;const z=nanoid(6);let U=!1;if(!O)U=!0,O=z,b=document.createComment("for:"+z),G=document.createComment("endfor:"+z),L=[b,G];else for(b=w(this.bvrElement.$$rootElement).find(F=>F.nodeValue==="for:"+O),G=w(this.bvrElement.$$rootElement).find(F=>F.nodeValue==="endfor:"+O);(b==null?void 0:b.nextSibling)!==G&&(b==null?void 0:b.nextSibling);)(Y=b==null?void 0:b.parentElement)==null||Y.removeChild(b==null?void 0:b.nextSibling);try{const un=Function.apply(null,pn).bind(this.bvrElement)(appendElFromTemplate,this.bvrElement,y,void 0,z);if(U)L=[L[0],...un,L[1]];else{const Q=(j,en)=>{Array.isArray(en)?en.forEach(sn=>{Q(j,sn)}):j.before(en)};G&&Q(G,un)}}catch(F){console.error(F)}};return q(),L}}_n(ForDirective,"tagName","for");class IfDirective{constructor(m){this.bvrElement=m}render(m,s,B){var $;const y=m;let L=[];const T=($=y.attribs.exp.match(/[$](\w)+/g))==null?void 0:$.join(","),hn=y.attribs.exp.replace(/this(.\w)+/,w=>{const b=w.replace("this.","");return this.bvrElement.addSubscribe(b,()=>q(),B),w.replace(/this./,"that.")});console.log("vars",T);const rn=`
                    const {${s&&Object.keys(s).join(",")}} = ${JSON.stringify(s)}
                    var that = this;

                    if( ${hn} ){
                        return tEl.children.map((tChild)=>{
                            return appendElFromTemplate(those, tChild, elem, {${T}}, scopeId)
                        })
                    }else {
                        return []
                    }
                `,pn=["appendElFromTemplate,those,tEl,elem,scopeId",rn];let O;const q=()=>{var Y;O&&this.bvrElement.removeSubscribeByClass(O);function w(F){for(var un=[],Q=[F];Q.length>0;)for(var j=Q.pop(),en=0;en<((j==null?void 0:j.childNodes.length)||0);en++){var sn=j==null?void 0:j.childNodes[en];(sn==null?void 0:sn.nodeType)===Node.COMMENT_NODE&&sn instanceof Comment?un.push(sn):Q.push(sn)}return un}let b,G;const z=nanoid(6);let U=!1;if(!O)U=!0,O=z,b=document.createComment("if:"+z),G=document.createComment("endif:"+z),L=[b,G];else for(b=w(this.bvrElement.$$rootElement).find(F=>F.nodeValue==="if:"+O),G=w(this.bvrElement.$$rootElement).find(F=>F.nodeValue==="endif:"+O);(b==null?void 0:b.nextSibling)!==G&&(b==null?void 0:b.nextSibling);)(Y=b==null?void 0:b.parentElement)==null||Y.removeChild(b==null?void 0:b.nextSibling);try{const un=Function.apply(null,pn).bind(this.bvrElement)(appendElFromTemplate,this.bvrElement,y,void 0,z);if(U)L=[L[0],...un,L[1]];else{const Q=(j,en)=>{Array.isArray(en)?en.forEach(sn=>{Q(j,sn)}):j.before(en)};G&&Q(G,un)}}catch(F){console.error(F),L=[]}};return q(),L}}_n(IfDirective,"tagName","if");class ComponentDirective{constructor(m){this.bvrElement=m}render(m,s,B){var O,q;const y=Function.apply(null,["cmp","return new cmp()"]),L=(O=this.bvrElement.$$elements)==null?void 0:O[m.name],T=y.bind(this.bvrElement)(L);T.$$elements=(q=this.bvrElement)==null?void 0:q.$$elements,T.props={};let hn=T.$$template;const rn=($,w)=>{var z;if($.name==="slot"){const U=((z=$==null?void 0:$.attribs)==null?void 0:z.name)||"default";let Y;m.children.forEach(F=>{var un,Q;F.type==="tag"&&F.name==="filler"&&(((un=F.attribs)==null?void 0:un.slot)?((Q=F.attribs)==null?void 0:Q.slot)===U:U==="default")&&(Y=F)}),T.$$slots=as(os({},T.$$slots),{[U]:{templatePath:w,filler:Y}})}for(var b=$==null?void 0:$.children,G=0;G<((b==null?void 0:b.length)||0);G++)rn(b[G],[...w,G])};rn(hn,[]),Object.entries(m.attribs).forEach(([$,w])=>{var b,G,z;if($.indexOf("@")===0){$.replace("@","");const U=$;if(!U)return;Function.apply(null,["$event",U])}else if($==="$"){const U=()=>{Function.apply(null,["$",w]).bind(this.bvrElement)(T)};(b=w.match(/this(.\w){0,}/g))==null||b.forEach(Y=>{Y=Y.slice(5),this.bvrElement.addSubscribe(Y,U,B)}),U()}else if($.indexOf("set.")===0){const U=()=>{T.props[$.replace("set.","")]=Function.apply(null,["","return "+w]).bind(this.bvrElement)()};(G=w.match(/this(.\w){0,}/g))==null||G.forEach(Y=>{Y=Y.slice(5),this.bvrElement.addSubscribe(Y,U,B)}),U()}else if($.indexOf("bi.")===0){const U=$.replace("bi.",""),Y=()=>{T.props[U]=Function.apply(null,["","return "+w]).bind(this.bvrElement)()};(z=w.match(/this(.\w){0,}/g))==null||z.forEach(F=>{F=F.slice(5),this.bvrElement.addSubscribe(F,Y,B)}),Y(),T.addSubscribe("props."+U,F=>{s.isEqual(getFromPath(this.bvrElement,w.slice(5)),F)||setByPath(this.bvrElement,w.slice(5),F)})}else if($.indexOf("get.")===0){const U=$.replace("get.","");if(w.indexOf("=")>=0){let Y={rhs:w.slice(w.indexOf("=")+1).trim(),lhs:w.slice(0,w.indexOf("=")).trim()};T.addSubscribe("props."+U,F=>{const un=Function.apply(null,["$","return "+Y.rhs]).bind(this.bvrElement)(F);s.isEqual(getFromPath(this.bvrElement,Y.lhs.slice(5)),un)||setByPath(this.bvrElement,Y.lhs.slice(5),un)})}else T.addSubscribe("props."+U,Y=>{s.isEqual(getFromPath(this.bvrElement,w.slice(5)),Y)||setByPath(this.bvrElement,w.slice(5),Y)})}}),T.$$parent=this.bvrElement;const pn=document.createElement("div");return T.$$rootElement=pn,T.mount(),pn}}_n(ComponentDirective,"tagName","if");var ElementType;(function(A){A.Root="root",A.Text="text",A.Directive="directive",A.Comment="comment",A.Script="script",A.Style="style",A.Tag="tag",A.CDATA="cdata",A.Doctype="doctype"})(ElementType||(ElementType={}));function html(A,...m){return A.reduce((B,y,L)=>B+y+(L<A.length-1?String(m[L]):""),"")}function domReady(){return new Promise(A=>{document.addEventListener("DOMContentLoaded",()=>A(!0)),(document.readyState==="interactive"||document.readyState==="complete")&&A(!0)})}const appendElFromTemplate=(that,templateEl,htmlParentEl,scope={},scopeId)=>{var A,m,s,B,y,L,T,hn,rn,pn;let element;if(Array.isArray(templateEl)||templateEl.type===ElementType.Root)return(templateEl.children||templateEl).map(q=>appendElFromTemplate(that,q,htmlParentEl,scope||{},scopeId));if(templateEl.type===ElementType.Tag&&((A=templateEl.name)==null?void 0:A.toLowerCase())==="for")element=new ForDirective(that).render(templateEl,scope||{},scopeId);else if(templateEl.type===ElementType.Tag&&((m=templateEl.name)==null?void 0:m.toLowerCase())==="if")element=new IfDirective(that).render(templateEl,scope||{},scopeId);else if(templateEl.type===ElementType.Tag&&((s=that.$$elements)==null?void 0:s[templateEl.name]))console.log("bvr element detected"),element=new ComponentDirective(that).render(templateEl,scope,scopeId);else if(templateEl.type===ElementType.Tag&&templateEl.name==="slot"&&((B=that.$$slots)==null?void 0:B[templateEl.attribs.name||"default"])){const O=(y=that.$$slots)==null?void 0:y[templateEl.attribs.name||"default"].filler;O&&(that==null?void 0:that.$$parent)?(console.log("fillerIs",O,that),element=appendElFromTemplate(that==null?void 0:that.$$parent,O==null?void 0:O.children,void 0,scope,scopeId)||""):element=""}else if((templateEl.type===ElementType.Tag||templateEl.type===ElementType.Style)&&templateEl.name){const tEl=templateEl;element=document.createElement(tEl.name),tEl.children.forEach(O=>{appendElFromTemplate(that,O,element,scope,scopeId)}),tEl.attribs&&Object.entries(tEl.attribs).forEach(([attrName,attrValue])=>{var O,q;if(attrName.indexOf("@")===0){const $=attrName.replace("@",""),w=attrValue;if(!w)return;(element instanceof HTMLStyleElement||element instanceof HTMLElement)&&element.addEventListener($,b=>{const G=["$event",w],z=Function.apply(null,G);try{z.bind(that)(b)}catch{}})}else if(attrName==="$"){const $=()=>{Function.apply(null,["$",attrValue]).bind(that)(element)};(O=attrValue.match(/this(.\w){0,}/g))==null||O.forEach(w=>{w=w.slice(5),that.addSubscribe(w,$,scopeId)}),$()}else{let childToParent=!1,parentToChild=!1,str=attrName,pos=attrName.lastIndexOf("}");pos>attrName.length-2&&(console.log("childToParent"),str=str.slice(0,pos),childToParent=!0),pos=attrName.lastIndexOf("{"),pos>attrName.length-3&&(console.log("parentToChild"),str=str.slice(0,pos),parentToChild=!0);try{const ev=eval("scope."+attrValue);if(ev!==void 0){element[str]=ev;return}}catch($){try{const w=new Function("return "+attrValue).bind(that)();element[str]=w}catch{}}if(parentToChild){attrValue.slice(0,5)=="this."&&that.addSubscribe(attrValue.slice(5),w=>{element.value=w});const $=()=>{element[str]=Function.apply(null,["","return "+attrValue]).bind(that)()};(q=attrValue.match(/this(.\w){0,}/g))==null||q.forEach(w=>{w=w.slice(5),that.addSubscribe(w,$,scopeId)}),$()}childToParent&&(element instanceof HTMLStyleElement||element instanceof HTMLElement)&&(element.addEventListener("change",$=>{var b;const w=(b=$.currentTarget)==null?void 0:b[str];_.isEqual(getFromPath(that,attrValue.slice(5)),w)||setByPath(that,attrValue.slice(5),w)}),element.addEventListener("input",$=>{var b;const w=(b=$.currentTarget)==null?void 0:b[str];_.isEqual(getFromPath(that,attrValue.slice(5)),w)||setByPath(that,attrValue.slice(5),w)})),!parentToChild&&!childToParent&&element.setAttribute(attrName,attrValue)}})}else if(templateEl.type===ElementType.Text&&templateEl.data){const el=templateEl;element=document.createTextNode(el.data);const set=()=>{var O;element instanceof Text&&(element.textContent=((O=el.data)==null?void 0:O.replace(/\{\{.+?}}((\(\d{0,10}\))){0,1}/g,match=>{var q,$;let rawLength=($=(q=match.match(/\{\{.+?}}/g))==null?void 0:q[0])==null?void 0:$.length;const scopeStr=match.substr(2,match.length-4-(match.length-(rawLength||0))).trim();try{const ev=eval("scope."+scopeStr);if(ev!==void 0)return ev}catch(w){}try{return new Function("return "+scopeStr).bind(that)()}catch(w){}}))||"")};(T=(L=element.textContent)==null?void 0:L.match(/<[\?]js.*/g))==null||T.forEach(O=>{console.log("js block",O)}),(rn=(hn=element.textContent)==null?void 0:hn.match(/\{\{.+?}}((\(\d{0,10}\))){0,1}/g))==null||rn.forEach(O=>{var G,z,U;const q=(G=O.match(/\}\}\(\d{0,10}\)/g))==null?void 0:G[0],$=(q==null?void 0:q.slice(3,q.length-1))||"0",w=parseInt($),b=O.slice(2,O.length-($.length+1)).trim();((z=b.match(/^(new)[\s]\w+[\s\S]+/))==null?void 0:z.length)||(U=b.match(/this(.\w){0,}/g))==null||U.forEach(Y=>{Y=Y.slice(5),that.addSubscribe(Y,set,scopeId,w)})}),set()}else element=document.createElement("none");if(Array.isArray(element)){const O=(q,$)=>{Array.isArray($)?$.forEach(w=>{O(q,w)}):q.append($)};htmlParentEl&&O(htmlParentEl,element)}else(pn=htmlParentEl==null?void 0:htmlParentEl.append)==null||pn.call(htmlParentEl,element);return element};class BVRElement extends Puya{constructor(){super(...arguments);_n(this,"$$rootElement",document.createElement("div"));_n(this,"$$parent");_n(this,"$$elementSelector");_n(this,"$$slots",{});_n(this,"props",{});_n(this,"$$directives",[]);_n(this,"$$elements",{});_n(this,"$$template",{type:ElementType.Tag,tagName:"div"})}template(){}mounted(){}async mount(){await domReady(),await new Promise(m=>{this.addBeforeMountListener(()=>{m(!0)})}),this.$$elementSelector&&(this.$$rootElement=document.querySelector(this.$$elementSelector)||this.$$rootElement),this.render(),this.mounted()}render(){this.$$template=this.template()||this.$$template;let m=[],s=document.createElement("div");this.$$template=this.template()||this.$$template,appendElFromTemplate(this,this.$$template,this.$$rootElement,void 0,void 0),m.forEach(B=>{s.innerHTML=s.innerHTML.replace(`__$$__${B.$id}__$$__`,`<div phid=${B.$id}></div>`);const y=s.querySelector(`[phid="${B.$id}"]`);!y||!(y instanceof HTMLElement)||(B.$$rootElement=y,B.mount())}),this.$$rootElement&&this.$$rootElement.appendChild(s)}}_n(BVRElement,"$$includedElems",{}),exports.AsPuya=AsPuya,exports.BVRElement=BVRElement,exports.Puya=Puya,exports.html=html,Object.defineProperty(exports,"__esModule",{value:!0}),exports[Symbol.toStringTag]="Module"});
